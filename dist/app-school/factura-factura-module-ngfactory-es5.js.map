{"version":3,"sources":["webpack:///node_modules/primeng/radiobutton/primeng-radiobutton.d.ts.RadioButton.html","webpack:///src/app/pages/layout/factura/factura-routing.module.ts","webpack:///src/app/pages/layout/factura/factura.component.html","webpack:///src/app/pages/layout/factura/factura.component.ts","webpack:///src/app/pages/layout/factura/factura.module.ts"],"names":["routes","path","component","FacturaRoutingModule","FacturaComponent","messageService","confirmationService","router","api","formBuilder","utilService","spinner","items","files","rows","itemSelect","flores","fincas","clientes","deliveries","marks","cajas","submitted","submittedFactura","submittedFacturaEdit","invoicesdraft","templates","itemForm","group","caja","pieza","finca","required","stem","tamanio","tallos","totaltallos","precio","itemFormEdit","line","facturaForm","cliente","marca","mawba","empresacargo","user","JSON","parse","localStorage","getItem","typerol","step","dialogVisible","inicilizate","getinvoicesdraft","getServicios","addrow","isLoading","next","then","invoice","headerApp","code","data","invoices","catch","err","error","clear","navigate","idFactura","selectedTemplate","dialogViewTemplates","selectItem","dialogVisibleEdit","editInvoice","manual","automatico","options","select","validate","selectedtamanio","selectdraft","selectmark","claveacceso","idObjTmp","factura","client","city","mark","freightforwarder","bounch","address","total","boxes","tamanios","name","type","push","length","smsvalidate","getObjectbyName","toUpperCase","event","target","Error","reader","FileReader","readAsBinaryString","show","onload","e","binarystr","result","wb","wsname","SheetNames","ws","Sheets","sheet_to_json","raw","cont","i","undefined","getFincabyName","fincaTemp","add","severity","summary","detail","hide","getFlowerbyName","flowerTemp","numtallos","getvalueCelda","item","getTypeBox","flor","parseInt","claves","stems","price","subtotal","box","trim","console","log","clave","cuare_","cincue_","sesen_","seten_","ochen_","noven_","cien_","ciendiez_","filter","index","splice","invalid","get","value","forEach","toString","reset","setValue","numero","state","element","entiId","florId","selectclient","paiscity","pais","ciudad","getmarks","temp","estado","head","codiesta","puntemis","clieId","cargcompId","marcId","mawb","subtotal0","descuento","subtotal1","ice","iva","observacion","cabecera","numetallos","numeboxes","fecha","secuencial","contdocu","tipoempaque","cantidadcajas","String","tallosxbch","medidatallo","cantidadbch","cantidad","preciounitario","farmId","detalles","fromTemp","confirm","message","accept","registerInvoice","url","pdf","flower","getflowerbyname","farm","getclients","getfinca","farms","getflowers","flowers","getdeliveries","delivery","cargocompanies","getTemplates","template","getInvoice","registerInvoiceDraft","draft","generatePdfInvoiceDraft","location","href","xls","getClientbyName","nombres","onOptionsSelected","getMarcbyName","getEmpresaCargabyName","cargname","selectOptions","Promise","all","map","sort","a","b","marc","cargocompanie","detalle","parseFloat","controls","FacturaModule"],"mappings":"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","file":"factura-factura-module-ngfactory-es5.js","sourcesContent":["\n        <div [ngStyle]=\"style\" [ngClass]=\"'ui-radiobutton ui-widget'\" [class]=\"styleClass\">\n            <div class=\"ui-helper-hidden-accessible\">\n                <input #rb type=\"radio\" [attr.id]=\"inputId\" [attr.name]=\"name\" [attr.value]=\"value\" [attr.tabindex]=\"tabindex\" [attr.aria-labelledby]=\"ariaLabelledBy\"\n                    [checked]=\"checked\" (change)=\"onChange($event)\" (focus)=\"onInputFocus($event)\" (blur)=\"onInputBlur($event)\" [disabled]=\"disabled\">\n            </div>\n            <div (click)=\"handleClick($event, rb, true)\" role=\"radio\" [attr.aria-checked]=\"checked\"\n                [ngClass]=\"{'ui-radiobutton-box ui-widget ui-state-default':true,\n                'ui-state-active':rb.checked,'ui-state-disabled':disabled,'ui-state-focus':focused}\">\n                <span class=\"ui-radiobutton-icon ui-clickable\" [ngClass]=\"{'pi pi-circle-on':rb.checked}\"></span>\n            </div>\n        </div>\n        <label (click)=\"select($event)\" [class]=\"labelStyleClass\"\n            [ngClass]=\"{'ui-radiobutton-label':true, 'ui-label-active':rb.checked, 'ui-label-disabled':disabled, 'ui-label-focus':focused}\"\n            *ngIf=\"label\" [attr.for]=\"inputId\">{{label}}</label>\n    ","import { FacturaComponent } from './factura.component';\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: '', component: FacturaComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class FacturaRoutingModule {}\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12\">\n        <div class=\"card card-w-title\">\n            <p-toast></p-toast>\n            <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"medium\" color=\"#fff\" type=\"square-jelly-box\"\n                [fullScreen]=\"true\">\n                <p style=\"color: white\"> Loading... </p>\n            </ngx-spinner>\n            <div *ngIf=\"invoicesdraft.length > 0 && step <= 1\">\n                <h1>{{'Borradores de la facturacin' | translate}}</h1>\n                <p-table [value]=\"invoicesdraft\" class=\"p-datatable-responsive-demo\">\n                    <ng-template pTemplate=\"caption\">\n                        <div class=\"p-d-flex p-ai-center p-jc-between\">\n                            {{'Facturas de borrador'| translate}} [ {{invoicesdraft.length}} ]\n                        </div>\n                    </ng-template>\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th style=\"width: 8em;\"></th>\n                            <th>{{'Cliente' | translate}}</th>\n                            <th>{{'Fecha' | translate}}</th>\n                            <th>{{'Nmero de tallos' | translate}}</th>\n                            <th>{{'Secuencial' | translate}}</th>\n                            <th>{{'Total' | translate}}</th>\n                            <th>{{'Observacin' | translate}}</th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData let-item>\n                        <tr style=\"background-color: white;\">\n                            <td><span class=\"p-column-title\">\n                                    <button pButton type=\"button\" class=\"ui-button-warning\"\n                                        style=\"height: 30px; border-radius: 5px;\" (click)=\"edit(item)\">\n                                        <i class=\"pi pi-pencil\" style=\"font-size: 1.7rem\"></i>\n                                    </button>\n                                    &nbsp;\n                                    <button pButton type=\"button\" class=\"ui-button-success\"\n                                        style=\"height: 30px; border-radius: 5px;\" (click)=\"viewdraft(item)\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>\n                                    </button>\n                                    &nbsp;\n                                    <button pButton type=\"button\" class=\"ui-button-success\" icon=\"pi pi-replay\"\n                                        style=\"display: none;\" (click)=\"finish(item)\"></button>\n\n                                </span>\n                            </td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.cliente.nombres }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.fecha }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.numetallos }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.secuencial }}</span></td>\n                            <td><span class=\"p-column-title\" style=\"font-weight: bold;\">{{item.cabecera.total |\n                                    currency}}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.observacion }}</span></td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n                <hr>\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div class=\"ui-g-12 ui-md-9\"></div>\n                    <div class=\"ui-g-12 ui-md-3\">\n                        <button pButton type=\"button\" icon=\"pi pi-chevron-circle-right\" style=\"font-size: 1rem\"\n                            [label]=\"'Nueva factura' | translate\" class=\"ui-button-info ouput_btn_table\"\n                            (click)=\"facturar()\">\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"invoicesdraft.length <= 0 || step > 1\">\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div [class]=\"invoicesdraft.length > 0 ? 'ui-g-12 ui-md-10':'ui-g-12 ui-md-10'\">\n                        <h1 *ngIf=\"(!editInvoice && step > 1) || invoicesdraft.length <= 0\">\n                            {{'Facturacin Cliente' | translate}}</h1>\n                        <h1 *ngIf=\"editInvoice && step > 1\">{{'Editando la factura' | translate }} # {{idFactura}}</h1>\n                    </div>\n                    <div [class]=\"invoicesdraft.length > 0 ? 'ui-g-12 ui-md-2':''\">\n                        <button pButton type=\"button\" icon=\"pi pi-arrow-circle-left\" [label]=\"'Borradores' | translate\"\n                            icon=\"pi pi-arrow-circle-left\" *ngIf=\"invoicesdraft.length > 0\"\n                            class=\"ui-button-warning ouput_btn_table\" (click)=\"back()\"></button>\n                    </div>\n                </div>\n                <form [formGroup]=\"facturaForm\" (ngSubmit)=\"save()\">\n                    <p-accordion>\n                        <p-accordionTab [header]=\"'Datos del Cliente' | translate\" [selected]=\"true\">\n                            <div class=\"ui-g form-group ui-fluid\">\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"client\" class=\"lbl\">{{'Cliente' | translate}}</label>\n                                    <p-dropdown [options]=\"clientes\" optionLabel=\"nombres\" formControlName=\"cliente\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" (onChange)='onOptionsSelected()'\n                                        [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"></p-dropdown>\n\n                                    <div *ngIf=\"submittedFactura && fr.cliente.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.cliente.errors.required\">{{'Cliente es requerido' | translate}}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"mark\" class=\"lbl\">{{'Marca' | translate}}</label>\n                                    <p-dropdown [options]=\"marks\" optionLabel=\"nombre\" formControlName=\"marca\"\n                                        (onChange)='onOptionsMarkSelected()'\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.marca.errors }\"\n                                        class=\"form-control\" class=\"form-control\" [filter]=\"true\"\n                                        [placeholder]=\"'Seleccione' | translate\">\n                                    </p-dropdown>\n\n                                    <div *ngIf=\"submittedFactura && fr.marca.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.marca.errors.required\">{{'Marca es requerido' | translate}}</div>\n                                    </div>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"mawba\" class=\"lbl\">{{'N gua' | translate}}</label>\n                                    <input type=\"text\" id=\"mawba\" pInputText formControlName=\"mawba\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.mawba.errors }\"\n                                        class=\"form-control\">\n                                    <div *ngIf=\"submittedFactura && fr.mawba.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.mawba.errors.required\">{{'Mawba es requerido' | translate}}</div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"freightforwarder\" class=\"lbl\">{{'Empresa carga' | translate}}</label>\n                                    <p-dropdown [options]=\"deliveries\" optionLabel=\"nombres\" class=\"form-control\"\n                                        (onChange)='onOptionsSelected()' formControlName=\"empresacargo\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.empresacargo.errors }\"\n                                        class=\"form-control\" [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\">\n                                    </p-dropdown>\n\n                                    <div *ngIf=\"submittedFactura && fr.empresacargo.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.empresacargo.errors.required\">\n                                            {{'Empresa carga es requerida' | translate}}</div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"phone\" class=\"lbl\">{{'Telfono' | translate}}</label>\n                                    <input type=\"text\" id=\"phone\" pInputText [value]=\"selectclient?.phone\" readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"razonsocial\" class=\"lbl\">{{'Razn Social' | translate}}</label>\n                                    <input type=\"text\" id=\"razonsocial\" pInputText [value]=\"selectclient?.razosoci\"\n                                        readonly>\n                                </div>\n\n                                <div [class]=\"!editInvoice?'ui-g-12 ui-md-2':'ui-g-12 ui-md-4'\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"ciudad\" class=\"lbl\">{{'Pas-Ciudad'| translate}}</label>\n                                    <input type=\"text\" id=\"ciudad\" pInputText [value]=\"selectclient?.paiscity\" readonly>\n                                </div>\n\n                                <div [class]=\"!editInvoice?'ui-g-12 ui-md-2':'ui-g-12 ui-md-4'\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"email\" class=\"lbl\">{{'Email' | translate}}</label>\n                                    <textarea pInputTextarea id=\"email\" [value]=\"selectclient?.email\"\n                                        readonly></textarea>\n                                </div>\n\n                                <div [class]=\"!editInvoice?'ui-g-12 ui-md-2':'ui-g-12 ui-md-4'\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"address\" class=\"lbl\">{{'Direccin' | translate}}</label>\n                                    <textarea pInputTextarea id=\"address\" [value]=\"selectmark?.direccion\"\n                                        readonly></textarea>\n                                </div>\n\n\n                                <div [class]=\"typerol=='ADM'? 'ui-g-12 ui-md-6':'ui-g-12 ui-md-4'\" *ngIf=\"!editInvoice\">\n                                    <label for=\"address\" class=\"lbl\">{{'Operacin' | translate}}</label>\n                                    <div class=\"ui-grid-row\">\n                                        <div class=\"ui-grid-col-4\">\n                                            <button pButton type=\"button\" icon=\"pi pi-pencil\" class=\"ui-button-primary\"\n                                                [label]=\"'Manual' | translate\" (click)=\"selectOptions('manual')\"\n                                                style=\"height: 40px;\"></button>\n                                        </div>\n                                        <div class=\"ui-grid-col-4\">\n                                            <button pButton type=\"button\" icon=\"pi pi-upload\" class=\"ui-button-warning\"\n                                                [label]=\"'Subir archivo' | translate\"\n                                                (click)=\"selectOptions('automatico')\" style=\"height: 40px;\"></button>\n                                        </div>\n                                        <div class=\"ui-grid-col-4\" *ngIf=\"templates.length > 0\">\n                                            <button pButton type=\"button\" icon=\"pi pi-file\" class=\"ui-button-success\"\n                                                [label]=\"'Template' | translate\" (click)=\"selectOptions('template')\"\n                                                style=\"height: 40px;\"></button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </p-accordionTab>\n                    </p-accordion>\n                    <!--Agregar manualmente-->\n                    <div *ngIf=\"manual\">\n                        <form [formGroup]=\"itemForm\" (ngSubmit)=\"saverow()\">\n                            <br>\n                            <div class=\"ui-g form-group ui-fluid\">\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"!addrow\">\n                                    <button pButton type=\"button\" icon=\"pi pi-plus\" class=\"ui-button-primary\"\n                                        [label]=\"'Nuevo' | translate\" (click)=\"add()\"></button>\n                                </div>\n                                <!--<div class=\"ui-g-12 ui-md-2\" *ngIf=\"addrow\">\n                            <button pButton icon=\"pi pi-plus\" class=\"ui-button-success ouput_btn_table\"\n                                label=\"Guardar\"></button>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-2\" *ngIf=\"addrow\">\n                            <button pButton type=\"button\" icon=\"pi pi-times\" label=\"Cancelar\"\n                                class=\"ui-button-lg ui-button-warning ouput_btn_table\" (click)=\"cancelrow()\"></button>\n                        </div>-->\n                            </div>\n\n                            <div class=\"card row\" *ngIf=\"addrow\">\n                                <div class=\"ui-g form-group ui-fluid\">\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <br>\n                                        <div class=\"ui-g-12 ui-md-3\" *ngIf=\"addrow\">\n                                            <button pButton icon=\"pi pi-check\" style=\"height: 2.2rem;width: 35px;\"\n                                                class=\"ui-button-success ouput_btn_table\"></button>\n                                        </div>\n                                        <div class=\"ui-g-12 ui-md-3\"></div>\n                                        <div class=\"ui-g-12 ui-md-4\" *ngIf=\"addrow\">\n                                            <button pButton type=\"button\" icon=\"pi pi-times\"\n                                                style=\"height: 2.2rem;width: 35px;\"\n                                                class=\"ui-button-lg ui-button-warning ouput_btn_table\"\n                                                (click)=\"cancelrow()\"></button>\n                                        </div>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Caja' | translate}}</label>\n                                        <p-dropdown [options]=\"cajas\" optionLabel=\"name\" formControlName=\"caja\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Piezas' | translate}} </label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            formControlName=\"pieza\">\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-2\">\n                                        <label class=\"lbl\">{{'Finca' | translate}}</label>\n                                        <p-dropdown [options]=\"fincas\" formControlName=\"finca\" optionLabel=\"nombres\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.finca.errors }\"\n                                            class=\"form-control\" [filter]=\"true\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.finca.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.finca.errors.required\">{{'Finca es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-2\">\n                                        <label class=\"lbl\">{{'Variedad' | translate}}</label>\n                                        <p-dropdown [options]=\"flores\" formControlName=\"flores\"\n                                            optionLabel=\"flor.nombre\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.flores.errors }\"\n                                            class=\"form-control\" [filter]=\"true\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.flores.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.flores.errors.required\">\n                                                {{'Variedad es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'BCH' | translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.stem.errors }\"\n                                            class=\"form-control\" placeholder=\"0\" formControlName=\"stem\">\n                                        <div *ngIf=\"submitted && f.stem.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.stem.errors.required\">{{'Tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'CM' | translate}}</label>\n                                        <p-dropdown [options]=\"tamanios\" [placeholder]=\"'Seleccione' | translate\"\n                                            optionLabel=\"name\" class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.tamanio.errors }\"\n                                            formControlName=\"tamanio\" formControlName=\"tamanio\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.tamanio.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.tamanio.errors.required\">{{'Tamao es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'No BCH' | translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.tallos.errors }\"\n                                            (focusout)=\"calculate()\" formControlName=\"tallos\">\n                                        <div *ngIf=\"submitted && f.tallos.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.tallos.errors.required\">\n                                                {{'N tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\" style=\"color: #ff4456;font-weight: bold;\">{{'No Tallos' |\n                                            translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.totaltallos.errors }\" readonly\n                                            pTooltip=\"Este valor se auto calculara\" tooltipPosition=\"bottom\"\n                                            style=\"font-size: 14px;font-weight: bold;text-align: center;background-color: #FFFAF0;\"\n                                            formControlName=\"totaltallos\">\n                                        <div *ngIf=\"submitted && f.totaltallos.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.totaltallos.errors.required\">\n                                                {{'Total tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Precio' | translate}}</label>\n                                        <input type=\"text\" pInputText placeholder=\"0\" pKeyFilter=\"money\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.precio.errors }\"\n                                            formControlName=\"precio\" formControlName=\"precio\">\n                                        <div *ngIf=\"submitted && f.precio.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.precio.errors.required\">{{'Precio es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-12\">\n                                        <button pButton type=\"button\" icon=\"pi pi-check\"\n                                            class=\"ui-button-success in_btn_table\" [label]=\"'Guardar' | translate\"\n                                            (click)=\"continue()\"></button>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-12\">\n                                        <button pButton type=\"button\" icon=\"pi pi-times\"\n                                            [label]=\"'Cancelar' | translate\"\n                                            class=\"ui-button-lg ui-button-warning in_btn_table\"\n                                            (click)=\"cancelrow()\"></button>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </form>\n                        <p-table [value]=\"items\" class=\"p-datatable-responsive-demo\">\n                            <ng-template pTemplate=\"caption\">\n                                <div class=\"p-d-flex p-ai-center p-jc-between\">\n                                    <button pButton type=\"button\" *ngIf=\"items.length >= 1\" class=\"ui-button-success\"\n                                        style=\"height: 30px; border-radius: 5px;\" (click)=\"viewXlsx()\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>\n                                    </button> &nbsp;\n                                    {{'Items de la factura'| translate}} [ {{items.length}} ]\n                                </div>\n                            </ng-template>\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th style=\"width: 8em;\"></th>\n                                    <th>{{'Caja' | translate}}</th>\n                                    <th>{{'Pieza' | translate}}</th>\n                                    <th style=\"width: 35em;\">{{'Finca' | translate}}</th>\n                                    <th style=\"width: 15em;\">{{'Variedad' | translate}}</th>\n                                    <th>{{'BCH' | translate}}</th>\n                                    <th>{{'CM' | translate}}</th>\n                                    <th>{{'No BCH' | translate}}</th>\n                                    <th>{{'No Tallos' | translate}}</th>\n                                    <th>{{'Precio' | translate}}</th>\n                                    <th>{{'Total' | translate}}</th>\n\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-rowData let-item>\n                                <tr style=\"background-color: white;\">\n                                    <td><span class=\"p-column-title\">\n                                            <button pButton type=\"button\" class=\"ui-button-danger\" icon=\"pi pi-trash\"\n                                                (click)=\"deleteItem(item)\"></button>\n                                        </span>\n                                        &nbsp;\n                                        <span class=\"p-column-title\">\n                                            <button pButton type=\"button\" class=\"ui-button-warning\" icon=\"pi pi-pencil\"\n                                                (click)=\"editItem(item)\"></button>\n                                        </span>\n                                    </td>\n                                    <td><span class=\"p-column-title\">{{item.caja==null?'':item.caja.code}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.pieza==null || item.pieza==\n                                            0?'':item.pieza}}</span></td>\n                                    <td style=\"width: 10em;\"><span class=\"p-column-title\">{{item.finca.nombres |\n                                            titlecase}} - (\n                                            {{item.finca.razosoci}}) </span></td>\n                                    <td><span class=\"p-column-title\">{{item.flor.flor== null? (item.flor.nombre |\n                                            titlecase) : (item.flor.flor.nombre | titlecase) }}</span>\n                                    </td>\n                                    <td><span class=\"p-column-title\">{{item.stems }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.tamanio.code }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.numtallos }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.totaltallos }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.price | currency}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.subtotal | currency}}</span></td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.boxes}}</span></td>\n                                    <td colspan=\"5\" class=\"total_table\">{{'Totales' | translate}}</td>\n                                    <td><span class=\"total_valor\">{{factura.tallos}}</span></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.total | currency: 'USD'}}</span></td>\n                                </tr>\n                            </ng-template>\n                        </p-table>\n                        <br>\n                        <div class=\"ui-g form-group ui-fluid\">\n                            <div class=\"ui-grid-col-7\"></div>\n                            <!--<div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-warning btn_enviar\"\n                                    (click)=\"continue()\" type=\"button\" [label]=\"'Salvar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>-->\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-success btn_enviar\"\n                                    (click)=\"continue()\" type=\"button\" [label]=\"'Guardar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-arrow-right\" class=\"ui-button-help btn_enviar\"\n                                    [label]=\"'Finalizar' | translate\" [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                        </div>\n                    </div>\n                    <!--Upload file-->\n                    <div *ngIf=\"automatico\">\n                        <div class=\"uploadfilecontainer\" (click)=\"fileInput.click()\" appDragdrop\n                            (onFileDropped)=\"uploadFile($event)\" *ngIf=\"files.length <= 0\">\n                            <input hidden type=\"file\" #fileInput (change)=\"uploadFile($event)\" accept=\".xlsx, .xls\">\n                        </div>\n                        <div class=\"files-list\" *ngFor=\"let file of files;let i= index\">\n                            <p> {{ file.name }} </p>\n                            <button class=\"delete-file\" (click)=\"deleteAttachment(i)\">\n                                <img src=\"../../../../assets/images/recicler.jpeg\">\n                            </button>\n                        </div>\n                        <div class=\"error\" *ngIf=\"validate\">\n                            {{'El archivo tiene errores validar con el administrador'| translate}}</div>\n                        <p class=\"detalle\" *ngIf=\"validate\"><i class=\"pi pi-bell\"></i>&nbsp;{{smsvalidate}}</p>\n                        <br>\n                        <p-table [value]=\"items\" *ngIf=\"files.length > 0\" class=\"p-datatable-responsive-demo\">\n                            <ng-template pTemplate=\"caption\">\n                                <div class=\"p-d-flex p-ai-center p-jc-between\">\n                                    <button pButton type=\"button\" *ngIf=\"items.length >= 1\" class=\"ui-button-success\"\n                                        style=\"height: 30px; border-radius: 5px;\" (click)=\"viewXlsx()\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>\n                                    </button> &nbsp;\n                                    {{'Items de la factura' | translate}} [{{items.length}}]\n                                </div>\n                            </ng-template>\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th>{{'Caja' | translate}}</th>\n                                    <th>{{'Pieza' | translate}}</th>\n                                    <th style=\"width: 35em;\">{{'Finca' | translate}}</th>\n                                    <th style=\"width: 15em;\">{{'Variedad' | translate}}</th>\n                                    <th>{{'BCH' | translate}}</th>\n                                    <th>{{'CM' | translate}}</th>\n                                    <th>{{'No BCH' | translate}}</th>\n                                    <th>{{'No Tallos' | translate}}</th>\n                                    <th>{{'Precio' | translate}}</th>\n                                    <th>{{'Total'| translate}}</th>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-item>\n                                <tr style=\"background-color: white;\">\n                                    <td style=\"text-align: center;\">{{item.caja==undefined?'':item.caja.name}}</td>\n                                    <td><span class=\"p-column-title\">{{item.pieza==null?'':item.pieza}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.finca.nombres | titlecase}} - (\n                                            {{item.finca.razosoci | titlecase}} ) </span></td>\n                                    <td>{{item.flor.nombre | titlecase }}</td>\n                                    <td>{{item.stems }}</td>\n                                    <td>{{item.tamanio.code }}</td>\n                                    <td>{{item.numtallos }}</td>\n                                    <td>{{item.totaltallos }}</td>\n                                    <td>{{item.price | currency}}</td>\n                                    <td>{{item.subtotal | currency}}</td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.boxes}}</span></td>\n                                    <td colspan=\"4\" class=\"total_table\">{{'Totales' | translate}}</td>\n                                    <td><span class=\"total_valor\">{{factura.tallos}}</span></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.total | currency: 'USD'}}</span></td>\n                                </tr>\n                            </ng-template>\n                        </p-table>\n                        <br>\n                        <div class=\"ui-g form-group ui-fluid\" *ngIf=\"items.length > 0\">\n                            <div class=\"ui-grid-col-7\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-success btn_enviar\" type=\"button\"\n                                    (click)=\"continue()\" [label]=\"'Guardar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton type=\"button\" icon=\"pi pi-arrow-right\" class=\"ui-button-help btn_enviar\"\n                                    [disabled]=\"validate\" [label]=\"'Finalizar' | translate\" type=\"submit\"></button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!--Table responsive-->\n                    <div class=\"ui-grid ui-grid-responsive ui-fluid\" class=\"data\" *ngFor=\"let item of items\">\n                        <div class=\"card card-w-title\">\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-12\">\n                                    <button pButton type=\"button\" class=\"ui-button-danger btn_card\" icon=\"pi pi-trash\"\n                                        (click)=\"deleteItem(item)\"></button>\n                                </div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Caja' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span\n                                        class=\"value\">{{item.caja==null?'HB':item.caja.code}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Finca' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.finca.nombres}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Variedad' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.flor.nombre}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Tallos' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.stems}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Tamao' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.tamanio.code}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'N. de tallos' | translate}}</span>\n                                </div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.tallos}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Total tallos' | translate}}</span>\n                                </div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.totaltallos}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Precio' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.price | currency}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Total' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.subtotal | currency}}</span></div>\n                            </div>\n                        </div>\n                    </div>\n                    <br>\n                    <div class=\"ui-grid ui-grid-responsive ui-fluid\" class=\"resumen\">\n                        <div class=\"ui-grid-row\">\n                            <div class=\"ui-grid-col-4\" style=\"text-align: right;font-weight: bold;font-size: 20px;\">\n                                {{'Total' | translate}}\n                            </div>\n                            <div class=\"ui-grid-col-8\" style=\"text-align: center;\"><span\n                                    class=\"total_valor\">{{factura?.total | currency: 'USD'}}</span></div>\n                        </div>\n                        <br>\n                        <div class=\"ui-grid ui-grid-responsive ui-fluid\">\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-10\"></div>\n                                <div class=\"ui-grid-col-2\">\n                                    <button pButton icon=\"pi pi-arrow-right\"\n                                        class=\"ui-button-help btn_enviar_responsive\"\n                                        [label]=\"'Enviar' | translate\"></button>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <!--Confirmar cuadro de dialogo confirm-->\n        <p-confirmDialog #cd header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\">\n            <p-footer>\n                <button type=\"button\" pButton icon=\"pi pi-times\" class=\"ui-button-danger\" [label]=\"'No' | translate\"\n                    (click)=\"cd.reject()\"></button>\n                <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-success\" [label]=\"'Si' | translate\"\n                    (click)=\"cd.accept()\"></button>\n            </p-footer>\n        </p-confirmDialog>\n\n        <p-dialog [header]=\"'Factura correcta' | translate\" [(visible)]=\"dialogVisible\" [style]=\"{width: '50vw'}\"\n            [baseZIndex]=\"10000\" [modal]=\"true\" [resizable]=\"true\">\n            <iframe [src]=\"url | safe\" *ngIf=\"dialogVisible\" width=\"100%\" height=\"500px\" style=\"border-width: 0PX;\">\n            </iframe>\n        </p-dialog>\n\n        <p-dialog [header]=\"'Editar item de factura' | translate\" [(visible)]=\"dialogVisibleEdit\"\n            [style]=\"{width: '80vw'}\" [baseZIndex]=\"10000\" [modal]=\"true\" [resizable]=\"true\">\n            <form [formGroup]=\"itemFormEdit\" (ngSubmit)=\"modificar()\">\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div class=\"card card-w-title\">\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Caja' | translate}}</label>\n                            <p-dropdown [options]=\"cajas\" optionLabel=\"name\" formControlName=\"caja\"\n                                [placeholder]=\"'Seleccione' | translate\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.caja.errors }\"\n                                class=\"form-control\" formControlName=\"caja\"></p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.caja.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.caja.errors.required\">{{'Caja es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Pieza' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"pieza\" pKeyFilter=\"int\" placeholder=\"0\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.pieza.errors }\"\n                                class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.pieza.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.pieza.errors.required\">{{'Pieza es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-4\">\n                            <label class=\"lbl\">{{'Finca' | translate}}</label>\n                            <p-dropdown [options]=\"fincas\" optionLabel=\"nombres\" formControlName=\"finca\" [filter]=\"true\"\n                                [placeholder]=\"'Seleccione' | translate\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.finca.errors }\"\n                                class=\"form-control\"></p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.finca.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.finca.errors.required\">{{'Finca es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-4\">\n                            <label class=\"lbl\">{{'Variedad' | translate}}</label>\n                            <p-dropdown [options]=\"flores\" optionLabel=\"flor.nombre\" formControlName=\"flores\"\n                                [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.flores.errors }\"\n                                class=\"form-control\">\n                            </p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.flores.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.flores.errors.required\">{{'Variedad es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'BCH' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"stem\" pKeyFilter=\"int\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.stem.errors }\"\n                                class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.stem.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.stem.errors.required\">{{'CM es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'CM' | translate}}</label>\n                            <p-dropdown [options]=\"tamanios\" optionLabel=\"name\" formControlName=\"tamanio\"\n                                [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.tamanio.errors }\"\n                                class=\"form-control\">\n                            </p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.tamanio.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.tamanio.errors.required\">{{'CM es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'No BCH' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"tallos\" (focusout)=\"calculateEdit()\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.tallos.errors }\"\n                                class=\"form-control\" pKeyFilter=\"int\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.tallos.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.tallos.errors.required\">{{'No BCH es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\" style=\"color: #ff4456;font-weight: bold;\">{{'No Tallos' |\n                                translate}}</label>\n                            <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                pTooltip=\"Este valor se auto calculara\" tooltipPosition=\"bottom\"\n                                style=\"font-size: 14px;font-weight: bold;background-color: #FFFAF0;\"\n                                formControlName=\"totaltallos\">\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Precio' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"precio\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.precio.errors }\"\n                                class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.precio.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.precio.errors.required\">{{'Precio es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div class=\"ui-g-12 ui-md-12\">\n                        <div class=\"ui-g-12 ui-md-10\"></div>\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-success\"\n                                [label]=\"'Modificar' | translate\" (click)=\"modificar()\"></button>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </p-dialog>\n\n        <!--Select template-->\n        <p-dialog [header]=\"'Seleccionar template' | translate\" [(visible)]=\"dialogViewTemplates\"\n            [style]=\"{width: '22vw'}\" [baseZIndex]=\"10000\" [modal]=\"true\" [resizable]=\"true\">\n\n            <div class=\"ui-g form-group ui-fluid\">\n                <div class=\"card card-w-title\">\n                    <div class=\"ui-g-12 ui-md-12\">\n                        <div class=\"ui-g-12 ui-md-12\">\n                            <label class=\"lbl\">{{'Templates' | translate}}</label>\n                            <br>\n                            <div *ngFor=\"let template of templates\">\n                                <p-radioButton name=\"groupname\" [label]=\"template?.cabecera.nombre\" [value]=\"template\"\n                                    [(ngModel)]=\"selectedTemplate\"></p-radioButton>\n                            </div>\n                        </div>\n                        <hr>\n                        <div class=\"ui-g-12 ui-md-12\">\n                            <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-primary\"\n                                [label]=\"'Seleccionar' | translate\" (click)=\"choose()\"></button>\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n        </p-dialog>\n    </div>\n\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport * as XLSX from \"xlsx\";\nimport { SelectItem } from \"primeng\";\nimport { MessageService, ConfirmationService } from \"primeng/api\";\nimport { client } from 'src/models/client';\nimport { delivery } from 'src/models/delivery';\nimport { mark } from 'src/models/mark';\nimport { finca } from 'src/models/finca';\nimport { flower } from 'src/models/flower';\nimport { Router } from '@angular/router';\nimport { ApisService } from 'src/services/apis.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { detail } from 'src/models/detail';\nimport { invoice } from 'src/models/invoice';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { UtilService } from 'src/services/util.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { user } from 'src/models/user';\nimport { environment } from 'src/environments/environment';\n\nexport interface Item {\n    caja: string;\n    pieza: number;\n    finca: string;\n    flor: string;\n    numtallos: number;\n    tamanio: string;\n    totaltallos: number;\n    stems: number;\n    price: number;\n    subtotal: number;\n    line: number;\n}\n\nexport interface Factura {\n    client: client;\n    city: string;\n    mark: string;\n    mawba: string;\n    freightforwarder: string;\n    bounch: string;\n    address: string;\n    items: Item[];\n    tallos: number;\n    total: number;\n    boxes: number;\n}\n\nexport interface Draft {\n    cabecera: {\n        cargcompId: number;\n        cargname: string;\n        claveacceso: string;\n        cliente: client;\n        codiesta: string;\n        contdocu: number;\n        estado: string;\n        fecha: string;\n        marcId: number;\n        mark: string;\n        markCiu: string;\n        markDir: string;\n        mawb: string;\n        numeboxes: number;\n        numetallos: number;\n        observacion: string;\n        pdf: string;\n        puntemis: string;\n        secuencial: number;\n        subtotal1: number;\n        total: number;\n    },\n    detalles: Array<{\n        cantidad: number;\n        cantidadbch: number;\n        cantidadcajas: number;\n        farm: string;\n        farmId: number;\n        florId: number;\n        flower: string;\n        medidatallo: string;\n        preciounitario: number;\n        tallosxbch: number;\n        tipoempaque: string;\n        total: number;\n        line: number;\n    }>,\n    idObjTmp: string;\n}\n\nexport interface Cabecera {\n    tempId: string,\n    fechcrea: string,\n    nombre: string,\n    estado: string,\n    usuario: string,\n    fechactu: string\n}\n\nexport interface Detalle {\n    deteId: string,\n    tipoempaque: string,\n    cantidadcajas: string,\n    tallosxbch: string,\n    medidatallo: string,\n    cantidadbch: string,\n    cantidad: string,\n    preciounitario: string,\n    total: string,\n    farm: string,\n    farmId: string,\n    florId: string,\n    flor: string,\n    line: string\n}\n\nexport interface Template {\n    cabecera: Cabecera;\n    detalle: Array<Detalle>\n}\n\n@Component({\n    selector: \"app-factura\",\n    templateUrl: \"./factura.component.html\",\n    styleUrls: [\"./factura.component.css\"],\n    providers: [MessageService, ConfirmationService],\n})\nexport class FacturaComponent implements OnInit {\n\n\n    itemForm: FormGroup;\n    itemFormEdit: FormGroup;\n    facturaForm: FormGroup;\n    factura: Factura;\n    flowers: string[];\n    tamanios: any[];\n    selectedtamanio: any;\n    manual: boolean;\n    automatico: boolean;\n    items: Array<Item> = [];\n    files: any = [];\n    rows: any = [];\n    options: boolean;\n    itemSelect: number = 0;\n    addrow: boolean;\n    optionsFactura: SelectItem[];\n    select: string;\n    flores: Array<flower> = [];\n    fincas: Array<finca> = [];\n    clientes: Array<client> = [];\n    deliveries: Array<delivery> = [];\n    marks: Array<mark> = [];\n    cajas: any[] = [];\n    submitted = false;\n    submittedFactura = false;\n    submittedFacturaEdit = false;\n    selectclient: client;\n    invoice: invoice;\n    dialogVisible: boolean;\n    url: string;\n    validate: boolean;\n    smsvalidate: string;\n    user: user;\n    typerol: string;\n    invoicesdraft: Array<Draft> = [];\n    selectdraft: Draft;\n    step: number;\n    editInvoice: boolean;\n    idFactura: number;\n    selectmark: mark;\n    line: number;\n    dialogVisibleEdit: boolean;\n    selectItem: Item;\n    xlsx: string;\n    idObjTmp: string;\n    claveacceso: string;\n    dialogViewTemplates: boolean;\n    templates: Array<Template> = [];\n    selectedTemplate: Template;\n\n    constructor(\n        private messageService: MessageService,\n        private confirmationService: ConfirmationService,\n        private router: Router, private api: ApisService,\n        private formBuilder: FormBuilder, private utilService: UtilService,\n        private spinner: NgxSpinnerService\n    ) {\n\n\n        this.itemForm = this.formBuilder.group({\n            caja: [null],\n            pieza: [''],\n            finca: [null, Validators.required],\n            flores: [null, [Validators.required]],\n            stem: ['25', [Validators.required]],\n            tamanio: [null, Validators.required],\n            tallos: ['', Validators.required],\n            totaltallos: ['', Validators.required],\n            precio: ['', Validators.required]\n        });\n\n        this.itemFormEdit = this.formBuilder.group({\n            caja: [null],\n            pieza: [''],\n            finca: [null, Validators.required],\n            flores: [null, [Validators.required]],\n            stem: ['25', [Validators.required]],\n            tamanio: [null, Validators.required],\n            tallos: ['', Validators.required],\n            totaltallos: ['', Validators.required],\n            precio: ['', Validators.required],\n            line: [null]\n        });\n\n        this.facturaForm = this.formBuilder.group({\n            cliente: [null, Validators.required],\n            marca: [null, Validators.required],\n            mawba: ['', Validators.required],\n            empresacargo: [null, Validators.required]\n        });\n\n    }\n\n    async ngOnInit() {\n        this.user = JSON.parse(localStorage.getItem('user'));\n        this.typerol = localStorage.getItem('rolactive');\n        this.step = 1;\n        this.dialogVisible = false;\n        this.inicilizate();\n        await this.getinvoicesdraft();\n        await this.getServicios();\n    }\n\n    add() {\n        this.addrow = true;\n    }\n\n    async getinvoicesdraft() {\n        this.invoicesdraft = [];\n        this.utilService.isLoading.next(true);\n        await this.api.getinvoicesdraft(localStorage.getItem('token')).then(invoice => {\n\n            if (invoice.headerApp.code == 200) {\n                this.invoicesdraft = invoice.data.invoices;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        this.utilService.isLoading.next(false);\n    }\n\n\n    inicilizate() {\n        this.idFactura = 0;\n        this.selectedTemplate = null;\n        this.dialogViewTemplates = false;\n        this.line = 0;\n        this.selectItem = null;\n        this.dialogVisibleEdit = false;\n        this.editInvoice = false;\n        this.manual = false;\n        this.automatico = false;\n        this.options = false;\n        this.addrow = false;\n        this.submitted = false;\n        this.submittedFactura = false;\n        this.submittedFacturaEdit = false;\n        this.select = \"MN\";\n        this.validate = false;\n        this.selectedtamanio = null;\n        this.selectdraft = null;\n        this.selectmark = null;\n        this.claveacceso = \"\";\n        this.idObjTmp = \"\";\n        this.factura = {\n            client: null,\n            city: \"\",\n            mark: \"\",\n            mawba: \"\",\n            freightforwarder: \"\",\n            bounch: \"\",\n            address: \"\",\n            items: null,\n            tallos: 0,\n            total: 0.0,\n            boxes: 0\n        };\n        this.tamanios = [\n            { name: \"CL\", code: \"CL\" },\n            { name: \"40\", code: \"40\" },\n            { name: \"50\", code: \"50\" },\n            { name: \"60\", code: \"60\" },\n            { name: \"70\", code: \"70\" },\n            { name: \"80\", code: \"80\" },\n            { name: \"90\", code: \"90\" },\n            { name: \"100\", code: \"100\" },\n            { name: \"110\", code: \"110\" },\n            { name: \"140\", code: \"140\" },\n            { name: \"150\", code: \"150\" }\n        ];\n        this.cajas = [\n            { name: \"HB\", code: \"HB\" },\n            { name: \"QB\", code: \"QB\" },\n        ]\n\n    }\n\n    selectOptions(type: string) {\n        this.options = true;\n        this.files = [];\n        if (type == \"manual\") {\n            this.addrow = false;\n            this.manual = true;\n            this.automatico = false;\n            this.rows.push(this.rows.length + 1);\n            this.items = [];\n            this.factura.total = 0.0;\n            this.factura.tallos = 0;\n            this.factura.boxes = 0;\n            this.validate = false;\n            this.selectedTemplate = null;\n            this.smsvalidate = \"\";\n            this.line = 0;\n        } if (type == \"automatico\") {\n            this.automatico = true;\n            this.manual = false;\n            this.items = [];\n            this.factura.total = 0.0;\n            this.factura.tallos = 0;\n            this.factura.boxes = 0;\n            this.selectedTemplate = null;\n            this.validate = false;\n            this.smsvalidate = \"\";\n            this.line = 0;\n        } else\n            if (type == \"template\") {\n                this.dialogViewTemplates = true;\n            }\n    }\n\n    async getClientbyName(name: string): Promise<any> {\n        let cliente: client = null;\n        await this.api.getObjectbyName('C', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                cliente = data.data.cliente;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return cliente;\n    }\n\n    uploadFile(event) {\n        const target: DataTransfer = <DataTransfer>event.target;\n\n        if (target.files.length !== 1) {\n            throw new Error(\"Cannot use multiple files\");\n        }\n        const reader: FileReader = new FileReader();\n        reader.readAsBinaryString(target.files[0]);\n        this.spinner.show();\n        reader.onload = async (e: any) => {\n            /* create workbook */\n            const binarystr: string = e.target.result;\n            const wb: XLSX.WorkBook = XLSX.read(binarystr, { type: \"binary\" });\n            /* selected the first sheet */\n            const wsname: string = wb.SheetNames[0];\n            const ws: XLSX.WorkSheet = wb.Sheets[wsname];\n            /* save data */\n            const data = XLSX.utils.sheet_to_json(ws, { raw: true }); // to get 2d array pass 2nd parameter as object {header: 1}            \n            this.utilService.isLoading.next(true);\n            let cont = 0;\n            for (var i = 7; i < data.length; i++) {\n                if (data[i][\"__EMPTY_2\"] != undefined) {\n\n                    const fincaTemp = await this.getFincabyName(data[i][\"__EMPTY_2\"]);\n                    if (fincaTemp == null) {\n                        this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'La finca ' + data[i][\"__EMPTY_2\"] + ' no se encuentra ingresada en el sistema.' });\n                        this.validate = true;\n                        this.spinner.hide();\n                        this.smsvalidate = 'La finca ' + data[i][\"__EMPTY_2\"] + ' no se encuentra registrada en el sistema.'\n                        return\n                    }\n\n                    const flowerTemp = await this.getFlowerbyName(\n                        data[i][\n                        \"                                       ROSA MISTICA\"\n                        ]);\n                    if (flowerTemp == null) {\n                        this.messageService.add({\n                            severity: 'error', summary: 'Rosa Mstica', detail: 'La flor ' + data[i][\n                                \"                                       ROSA MISTICA\"\n                            ] + ' no se encuentra en el sistema.'\n                        });\n                        this.validate = true;\n                        this.spinner.hide();\n                        this.smsvalidate = 'La flor ' + data[i][\n                            \"                                       ROSA MISTICA\"\n                        ] + ' no se encuentra registrada en el sistema.'\n                        return\n                    }\n                    let numtallos = this.getvalueCelda(data[i][\"__EMPTY_4\"], data[i][\"__EMPTY_5\"], data[i][\"__EMPTY_6\"], data[i][\"__EMPTY_7\"], data[i][\"__EMPTY_8\"],\n                        data[i][\"__EMPTY_9\"], data[i][\"__EMPTY_10\"], data[i][\"__EMPTY_11\"], data[i][\"__EMPTY_12\"]);\n\n                    let item = {\n                        caja: data[i][\"__EMPTY\"] == null ? '' : this.getTypeBox(data[i][\"__EMPTY\"]),\n                        pieza: data[i][\"__EMPTY_1\"],\n                        finca: fincaTemp,\n                        flor: flowerTemp,\n                        numtallos: parseInt(numtallos),\n                        claves: \"\",\n                        totaltallos: data[i][\"__EMPTY_3\"] * parseInt(numtallos),\n                        tamanio: this.selectedtamanio,\n                        stems: data[i][\"__EMPTY_3\"],\n                        price: data[i][\"__EMPTY_14\"],\n                        subtotal: data[i][\"__EMPTY_15\"],\n                        line: cont\n                    };\n                    this.factura.tallos += item.totaltallos;\n                    this.factura.total += item.subtotal;\n                    data[i][\"__EMPTY_1\"] == null ? '' : this.factura.boxes += parseInt(item.pieza);\n                    this.items.push(item);\n                    cont += 1;\n                }\n            }\n            this.utilService.isLoading.next(false);\n            this.spinner.hide();\n            this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'Se ha cargado todo el archivo correctamente.' });\n\n        };\n\n        this.files.push(target.files[0]);\n    }\n\n    getTypeBox(name: string): any {\n        let box: any;\n        if (name == undefined) {\n            box = { name: \"HB\", code: \"HB\" };\n        } else {\n            switch (name.trim()) {\n                case 'HB':\n                    box = { name: \"HB\", code: \"HB\" };\n                    break;\n                case 'QB':\n                    box = { name: \"QB\", code: \"QB\" };\n                    break;\n                default:\n                    console.log('No se encuentra la domensin de la caja');\n                    break;\n            }\n        }\n        return box;\n    }\n\n    getvalueCelda(clave: string, cuare_: string, cincue_: string, sesen_: string, seten_: string, ochen_: string, noven_: string,\n        cien_: string, ciendiez_: string): string {\n\n        if (clave != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == 'CL') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return clave;\n        }\n        if (cuare_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '40') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cuare_;\n        }\n        if (cincue_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '50') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cincue_;\n        }\n        if (sesen_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '60') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return sesen_;\n        }\n        if (seten_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '70') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return seten_;\n        }\n        if (ochen_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '80') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return ochen_;\n        }\n        if (noven_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '90') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return noven_;\n        }\n        if (cien_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '100') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cien_;\n        }\n        if (ciendiez_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '110') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return ciendiez_;\n        }\n    }\n\n    deleteAttachment(index) {\n        this.files.splice(index, 1);\n        this.items = [];\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.validate = false;\n        this.smsvalidate = \"\";\n        this.line = 0;\n    }\n\n    /**\n     * Function the save row of load item manual\n     */\n    saverow() {\n        this.submitted = true;\n\n        if (this.itemForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos son obligatorios' });\n            return;\n        }\n\n        this.items.push({\n            caja: this.itemForm.get('caja').value,\n            pieza: this.itemForm.get('pieza').value,\n            finca: this.itemForm.get('finca').value,\n            flor: this.itemForm.get('flores').value.flor,\n            stems: this.itemForm.get('stem').value,\n            tamanio: this.itemForm.get('tamanio').value,\n            numtallos: this.itemForm.get('tallos').value,\n            totaltallos: this.itemForm.get('stem').value * this.itemForm.get('tallos').value,\n            price: this.itemForm.get('precio').value,\n            subtotal: (this.itemForm.get('stem').value * this.itemForm.get('tallos').value) * this.itemForm.get('precio').value,\n            line: this.selectdraft == null ? this.items.length : this.line + 1\n        });\n\n\n        this.selectdraft == null ? '' : this.line += 1;\n\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            item.pieza = item.pieza == null || item.pieza.toString() == '' ? null : item.pieza;\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            item.pieza != null ? this.factura.boxes += parseInt(item.pieza.toString()) : '';\n\n        });\n\n\n        this.addrow = false;\n        this.submitted = false;\n        this.itemForm.reset();\n        this.itemForm.get('stem').setValue('25');\n\n    }\n\n\n    cancel() {\n    }\n\n    hiddenCard(numero: number): boolean {\n        let state: boolean = true;\n        if (numero == this.itemSelect) {\n            state = false;\n        } else {\n            state = true;\n        }\n        return state;\n    }\n\n\n    cancelrow() {\n        this.addrow = false;\n        this.itemForm.reset();\n        this.submitted = false;\n    }\n\n    deleteItem(item: Item) {\n        if (this.items.length == 1 && this.editInvoice) {\n            this.messageService.add({ severity: 'warn', summary: 'Rosa Mstica', detail: 'No se puede eliminar el item ya que la factura necesita por lo menos un item' });\n            return;\n        }\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n        this.items = this.items.filter((element) => element != item);\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.stems.toString());\n            item.pieza == null ? '' : this.factura.boxes += parseInt(item.pieza.toString())\n        });\n\n    }\n\n    async editItem(item: Item) {\n        let finca = await this.fincas.filter(data => {\n            if (data.entiId == item.finca['entiId']) {\n                return data;\n            }\n        });\n        let flor = await this.flores.filter(data => {\n            if (data['flor'].florId === item.flor['florId']) {\n                return data;\n            }\n        });\n        this.dialogVisibleEdit = true;\n        this.itemFormEdit.get('caja').setValue(item.caja);\n        this.itemFormEdit.get('pieza').setValue(item.pieza);\n        this.itemFormEdit.get('finca').setValue(finca[0]);\n        this.itemFormEdit.get('flores').setValue(flor[0]);\n        this.itemFormEdit.get('stem').setValue(item.stems);\n        this.itemFormEdit.get('tamanio').setValue(item.tamanio);\n        this.itemFormEdit.get('tallos').setValue(item.numtallos);\n        this.itemFormEdit.get('totaltallos').setValue(item.totaltallos);\n        this.itemFormEdit.get('precio').setValue(item.price);\n        this.itemFormEdit.get('line').setValue(item.line);\n    }\n\n    onOptionsMarkSelected() {\n        this.selectmark = this.facturaForm.get('marca').value;\n    }\n\n    async onOptionsSelected() {\n        this.marks = [];\n        this.selectclient = this.facturaForm.get('cliente').value;\n        this.selectclient.paiscity = this.selectclient.pais + ' - ' + this.selectclient.ciudad;\n        this.selectmark = null;\n        await this.api.getmarks(this.facturaForm.get('cliente').value.entiId, localStorage.getItem(\"token\")).then(mark => {\n            if (mark.headerApp.code == 200) {\n                let temp: mark[] = [];\n                mark.data.marks.forEach(element => {\n                    if (element.estado == 'A')\n                        temp.push(element);\n                });\n                this.marks = temp;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n    }\n\n    modificar() {\n        this.submittedFacturaEdit = true;\n        if (this.itemFormEdit.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos son obligatorios' });\n            return;\n        }\n        this.items.forEach(item => {\n            if (item.line == this.itemFormEdit.get('line').value) {\n                item.caja = this.itemFormEdit.get('caja').value;\n                item.pieza = this.itemFormEdit.get('pieza').value;\n                item.finca = this.itemFormEdit.get('finca').value;\n                item.flor = this.itemFormEdit.get('flores').value;\n                item.stems = this.itemFormEdit.get('stem').value;\n                item.tamanio = this.itemFormEdit.get('tamanio').value;\n                item.numtallos = this.itemFormEdit.get('tallos').value;\n                item.totaltallos = this.itemFormEdit.get('totaltallos').value;\n                item.price = this.itemFormEdit.get('precio').value;\n                item.subtotal = this.itemFormEdit.get('totaltallos').value * this.itemFormEdit.get('precio').value;\n            }\n        })\n\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            item.pieza != null ? this.factura.boxes += parseInt(item.pieza.toString()) : '';\n\n        });\n\n        this.itemFormEdit.reset();\n        this.dialogVisibleEdit = false;\n        this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'Item actualizado correctamente' });\n\n\n    }\n\n    /**\n     * Function the save the invoice\n     */\n    save() {\n\n        this.submittedFactura = true;\n        if (this.facturaForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos para generar la factura son obligatorios.' });\n            return;\n        }\n        this.factura.items = this.items;\n        let head = {\n            codiesta: '001',\n            puntemis: '001',\n            clieId: this.facturaForm.get('cliente').value.entiId,\n            cargcompId: this.facturaForm.get('empresacargo').value.entiId,\n            marcId: this.facturaForm.get('marca').value.marcId,\n            mawb: this.facturaForm.get('mawba').value,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: this.factura.total,\n            observacion: this.selectdraft != null ? this.selectdraft.cabecera.observacion : null,\n            numetallos: this.factura.tallos,\n            numeboxes: this.factura.boxes,\n            estado: \"T\",\n            fecha: this.selectdraft != null ? this.selectdraft.cabecera.fecha + '.000' : null,\n            claveacceso: this.selectdraft != null ? this.selectdraft.cabecera.claveacceso : null,\n            secuencial: this.selectdraft != null ? this.selectdraft.cabecera.secuencial : null,\n            contdocu: this.selectdraft != null ? this.selectdraft.cabecera.contdocu : 0,\n        }\n\n        let detail: detail[] = [];\n        this.factura.items.forEach(data => {\n            detail.push({\n                tipoempaque: data.caja == undefined ? \"\" : data.caja['code'],\n                cantidadcajas: data.pieza == undefined || data.pieza == 0 ? \"\" : String(data.pieza),\n                tallosxbch: data.stems,\n                medidatallo: data.tamanio['code'],\n                cantidadbch: data.numtallos,\n                cantidad: data.totaltallos,\n                preciounitario: data.price,\n                total: data.subtotal,\n                farmId: data.finca['entiId'],\n                florId: data.flor['florId'] == undefined ? data.flor['flor'].florId : data.flor['florId'],\n                line: data.line\n            })\n        })\n\n\n        let invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: this.selectdraft == null ? null : this.selectdraft.idObjTmp,\n            fromTemp: this.selectdraft == null ? false : true\n        };\n\n        if (!this.editInvoice && this.idObjTmp != undefined) {\n            invoice.idObjTmp = this.idObjTmp;\n            invoice.fromTemp = true;\n            invoice.cabecera['claveacceso'] = this.claveacceso;\n        } else if (this.editInvoice && (this.idObjTmp != undefined || invoice.idObjTmp != undefined)) {\n            invoice.fromTemp = true;\n        } else {\n            invoice.fromTemp = false;\n        }\n\n        this.confirmationService.confirm({\n            message: \"Are you sure to send the invoice?\",\n            accept: async () => {\n                this.spinner.show();\n                await this.api.registerInvoice(invoice, localStorage.getItem(\"token\")).then(data => {\n                    this.spinner.hide();\n                    if (data.headerApp.code == 200) {\n                        this.dialogVisible = true;\n                        this.itemForm.get('stem').setValue('25');\n                        this.url = environment.url + data.data.invoice.pdf;\n                        this.inicilizate();\n                        this.getinvoicesdraft();\n                        this.invoice = null;\n                        this.facturaForm.reset();\n                        this.itemForm.reset();\n                        this.selectclient = null;\n                        this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'La factura se ha registrado correctamente' });\n                    }\n                }).catch(err => {\n                    if (err.error.code == 401) {\n                        localStorage.clear();\n                        this.router.navigate(['/login']);\n                    }\n\n                });\n            },\n        });\n    }\n\n    async getFlowerbyName(name: string): Promise<any> {\n        let flower: flower = null;\n        await this.api.getflowerbyname(name, localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                flower = data.data.flower;\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return flower;\n    }\n\n    async getFincabyName(name: string): Promise<any> {\n        let finca: finca = null;\n        await this.api.getObjectbyName('F', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                finca = data.data.farm;\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return finca;\n    }\n\n\n    /**\n     * Function the search services client, flowers, deliveries, fincas\n     */\n    async getServicios() {\n        await this.api.getclients(localStorage.getItem(\"token\")).then(cliente => {\n            this.clientes = [];\n            if (cliente.headerApp.code === 200) {\n                cliente.data.clientes.forEach(data => {\n                    if (data.cliente.estado == 'A') {\n                        this.clientes.push(data.cliente);\n                    }\n                });\n            }\n\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getfinca(localStorage.getItem(\"token\")).then(finca => {\n            this.fincas = [];\n            if (finca.headerApp.code === 200) {\n                finca.data.farms.forEach(finca => {\n                    if (finca.estado == 'A') {\n                        this.fincas.push(finca);\n                    }\n                });\n            }\n\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getflowers(localStorage.getItem(\"token\")).then(flor => {\n            this.flores = [];\n            if (flor.headerApp.code === 200) {\n                flor.data.flowers.forEach(flor => {\n                    if (flor.flor.estado == 'A') {\n                        this.flores.push(flor);\n                    }\n                });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n\n        await this.api.getdeliveries(localStorage.getItem(\"token\")).then(delivery => {\n            this.deliveries = [];\n            if (delivery.headerApp.code === 200) {\n                delivery.data.cargocompanies.forEach(delivery => {\n                    if (delivery.estado == 'A') {\n                        this.deliveries.push(delivery);\n                    }\n                });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getTemplates(localStorage.getItem('token')).then(async (data) => {\n            this.templates = [];\n            if (data.headerApp.code == 200) {\n                await data.data.templates.forEach(template => {\n                    if (template.cabecera.estado == 'A') {\n                        this.templates.push(template)\n                    }\n                })\n            }\n        }).catch(err => {\n            console.log(err);\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n    }\n\n    calculate() {\n        this.itemForm.get('totaltallos').setValue(this.itemForm.get('stem').value * this.itemForm.get('tallos').value);\n    }\n\n    calculateEdit() {\n        this.itemFormEdit.get('totaltallos').setValue(this.itemFormEdit.get('stem').value * this.itemFormEdit.get('tallos').value);\n    }\n\n    async saveeraser() {\n        this.submittedFactura = true;\n        if (this.facturaForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos para generar la factura son obligatorios.' });\n            return;\n        }\n        await this.getInvoice();\n        this.spinner.show();\n        await this.api.registerInvoiceDraft(this.invoice, localStorage.getItem(\"token\")).then(async (data) => {\n            this.spinner.hide();\n            if (data.headerApp.code == 200) {\n                await this.inicilizate();\n                await this.getinvoicesdraft();\n                this.invoice = null;\n                this.facturaForm.reset();\n                this.itemForm.reset();\n                this.selectclient = null;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'El borrador de la factura se guardo correctemante' });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n\n        });\n\n\n    }\n\n    async facturar() {\n        this.editInvoice = false;\n        this.step = 2;\n        this.selectclient = null;\n        this.selectmark = null;\n        this.selectdraft = null;\n        this.idObjTmp = null;\n        this.claveacceso = null;\n    }\n\n    async back() {\n        await this.getinvoicesdraft();\n        this.step = 1;\n        this.items = [];\n        this.selectclient = null;\n        this.facturaForm.reset();\n        this.itemForm.reset();\n        this.factura.tallos = 0;\n        this.factura.total = 0;\n        this.factura.boxes = 0;\n        this.editInvoice = false;\n        this.selectdraft = null;\n        this.manual = false;\n        this.automatico = false;\n        this.dialogViewTemplates = false;\n    }\n\n    async viewdraft(draft: Draft) {\n        let head = {\n            codiesta: draft.cabecera.codiesta,\n            puntemis: draft.cabecera.puntemis,\n            clieId: draft.cabecera.cliente.entiId,\n            cargcompId: draft.cabecera.cargcompId,\n            marcId: draft.cabecera.marcId,\n            mawb: draft.cabecera.mawb,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: draft.cabecera.total,\n            observacion: '-',\n            numetallos: draft.cabecera.numetallos,\n            numeboxes: draft.cabecera.numeboxes,\n            estado: \"T\",\n            claveacceso: draft.cabecera.claveacceso,\n            secuencial: draft.cabecera.secuencial,\n            contdocu: draft.cabecera.contdocu,\n        }\n\n        let detail: detail[] = [];\n        draft.detalles.forEach(data => {\n            detail.push({\n                tipoempaque: data.tipoempaque == undefined ? \"\" : data.tipoempaque,\n                cantidadcajas: data.cantidadcajas == undefined ? \"\" : String(data.cantidadcajas),\n                tallosxbch: data.tallosxbch,\n                medidatallo: data.medidatallo,\n                cantidadbch: data.cantidadbch,\n                cantidad: data.cantidad,\n                preciounitario: data.preciounitario,\n                total: data.total,\n                farmId: data.farmId,\n                florId: data.florId,\n                line: data.line\n            })\n        })\n\n        let invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: draft.idObjTmp == null ? null : draft.idObjTmp\n        };\n        this.utilService.isLoading.next(true);\n        await this.api.generatePdfInvoiceDraft(invoice, localStorage.getItem('token')).then(data => {\n            if (data.headerApp.code == 200) {\n                location.href = environment.url + data.data.xls;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'El archivo se ha descargado correctamente' });\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        this.utilService.isLoading.next(false);\n    }\n\n    finish(draft: Draft) {\n    }\n\n    async edit(draft: Draft) {\n        this.utilService.isLoading.next(true);\n        await this.getServicios();\n        this.editInvoice = true;\n        this.selectdraft = draft;\n        this.step = 2;\n        this.idFactura = draft.cabecera.secuencial;\n        const cliente = await this.getClientbyName(draft.cabecera.cliente.nombres);\n        this.facturaForm.get('cliente').setValue(cliente);\n        await this.onOptionsSelected();\n        const mark = await this.getMarcbyName(draft.cabecera.cliente.entiId, draft.cabecera.mark);\n        this.selectmark = mark;\n        this.facturaForm.get('marca').setValue(mark);\n        const empresacargo = await this.getEmpresaCargabyName(draft.cabecera.cargname);\n        this.facturaForm.get('empresacargo').setValue(empresacargo);\n        this.facturaForm.get('mawba').setValue(draft.cabecera.mawb);\n        this.selectOptions('manual');\n        this.items = [];\n        await Promise.all(draft.detalles.map(async (item) => {\n            let tamanio = await this.tamanios.filter(tamanio => tamanio.code == item.medidatallo);\n            let caja = await this.cajas.filter(caja => caja.code == item.tipoempaque);\n            let farm = await this.getFincabyName(item.farm);\n            let flower = await this.getFlowerbyName(item.flower);\n            this.items.push({\n                caja: caja[0] == null ? '' : caja[0],\n                pieza: item.cantidadcajas,\n                finca: farm,\n                flor: flower,\n                stems: item.tallosxbch,\n                tamanio: tamanio[0],\n                numtallos: item.cantidadbch,\n                totaltallos: item.cantidad,\n                price: item.preciounitario,\n                subtotal: item.total,\n                line: item['line']\n            });\n        }))\n\n        this.items.sort(function (a, b) {\n            if (a.line > b.line) {\n                return 1;\n            }\n            if (a.line < b.line) {\n                return -1;\n            }\n            return 0;\n        });\n\n        this.line = this.items[this.items.length - 1].line;\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            this.factura.boxes += item.pieza != null ? parseInt(item.pieza.toString()) : 0;\n        });\n\n\n        this.utilService.isLoading.next(false);\n    }\n\n\n    async viewXlsx() {\n        await this.getInvoice();\n        this.utilService.isLoading.next(true);\n        await this.api.generatePdfInvoiceDraft(this.invoice, localStorage.getItem('token')).then(data => {\n            if (data.headerApp.code == 200) {\n                location.href = environment.url + data.data.xls;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'El archivo se ha descargado correctamente' });\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        this.utilService.isLoading.next(false);\n    }\n\n    async getInvoice() {\n        this.factura.items = this.items;\n        let head = {\n            codiesta: '001',\n            puntemis: '001',\n            clieId: this.facturaForm.get('cliente').value.entiId,\n            cargcompId: this.facturaForm.get('empresacargo').value.entiId,\n            marcId: this.facturaForm.get('marca').value.marcId,\n            mawb: this.facturaForm.get('mawba').value,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: this.factura.total,\n            observacion: this.selectdraft == null ? null : this.selectdraft.cabecera.observacion,\n            numetallos: this.factura.tallos,\n            numeboxes: this.factura.boxes,\n            estado: \"B\",\n            fecha: this.selectdraft == null ? null : this.selectdraft.cabecera.fecha + '.000',\n            claveacceso: this.selectdraft != null ? this.selectdraft.cabecera.claveacceso : null,\n            secuencial: this.selectdraft != null ? this.selectdraft.cabecera.secuencial : null,\n            contdocu: this.selectdraft != null ? this.selectdraft.cabecera.contdocu : 0,\n        }\n\n        let detail: detail[] = [];\n        await this.factura.items.forEach(async (data) => {\n            await detail.push({\n                tipoempaque: data.caja == undefined ? \"\" : data.caja['code'],\n                cantidadcajas: data.pieza == undefined || data.pieza == 0 ? \"\" : String(data.pieza),\n                tallosxbch: data.stems,\n                medidatallo: data.tamanio['code'],\n                cantidadbch: data.numtallos,\n                cantidad: data.totaltallos,\n                preciounitario: data.price,\n                total: data.subtotal,\n                farmId: data.finca['entiId'],\n                florId: data.flor['florId'] == undefined ? data.flor['flor'].florId : data.flor['florId'],\n                line: data.line\n            })\n        })\n        this.invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: this.selectdraft == null ? null : this.selectdraft.idObjTmp\n        };\n    }\n\n    async continue() {\n        await this.getInvoice();\n        if (!this.editInvoice && this.idObjTmp != \"\") {\n            this.invoice.idObjTmp = this.idObjTmp;\n        }\n        if (!this.editInvoice && this.claveacceso != \"\") {\n            this.invoice.cabecera['claveacceso'] = this.claveacceso;\n        }\n\n        this.spinner.show();\n        await this.api.registerInvoiceDraft(this.invoice, localStorage.getItem(\"token\")).then(async (data) => {\n            this.spinner.hide();\n            if (data.headerApp.code == 200) {\n                await this.getinvoicesdraft();\n                this.step = 2;\n                this.idObjTmp = data.data.invoice.idObjTmp;\n                this.claveacceso = data.data.invoice.claveacceso;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'Se guardo el borrador para seguir editando' });\n            }\n        }).catch(err => {\n            console.log(err);\n            this.spinner.hide();\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        });\n\n    }\n\n    async getMarcbyName(entiId: number, name: string): Promise<any> {\n        let marc: mark = null;\n        await this.api.getMarcbyName(entiId, name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                marc = data.data.mark;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return marc;\n    }\n\n    async getEmpresaCargabyName(name: string): Promise<any> {\n        let delivery: delivery = null;\n        await this.api.getObjectbyName('Z', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                delivery = data.data.cargocompanie;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return delivery;\n    }\n\n    async choose() {\n        this.dialogViewTemplates = false;\n        this.items = [];\n        this.utilService.isLoading.next(true);\n        await this.selectedTemplate.detalle.forEach(async (item) => {\n            let tamanio = await this.tamanios.filter(tamanio => tamanio.code == item.medidatallo);\n            let caja = await this.cajas.filter(caja => caja.code == item.tipoempaque);\n            let farm = await this.getFincabyName(item.farm);\n            let flower = await this.getFlowerbyName(item.flor);\n            await this.items.push({\n                caja: caja[0] == null ? '' : caja[0],\n                pieza: item.cantidadcajas != null ? parseInt(item.cantidadcajas) : 0,\n                finca: farm,\n                flor: flower,\n                stems: parseInt(item.tallosxbch),\n                tamanio: tamanio[0],\n                numtallos: parseInt(item.cantidadbch),\n                totaltallos: parseInt(item.cantidad),\n                price: parseFloat(item.preciounitario),\n                subtotal: parseInt(item.total),\n                line: parseInt(item['line'])\n            });\n            this.manual = true;\n            this.automatico = false;\n            this.validate = false;\n            this.smsvalidate = \"\";\n\n            this.items.sort(function (a, b) {\n                if (a.line > b.line) {\n                    return 1;\n                }\n                if (a.line < b.line) {\n                    return -1;\n                }\n                return 0;\n            });\n\n            this.line = this.items[this.items.length - 1].line;\n            this.factura.total = 0;\n            this.factura.tallos = 0;\n            this.factura.boxes = 0;\n\n            this.items.forEach((item) => {\n                this.factura.total += item.subtotal;\n                this.factura.tallos += parseInt(item.totaltallos.toString());\n                item.pieza != null ? this.factura.boxes += item.pieza : '';\n            });\n\n        })\n\n        this.selectdraft == null ? '' : this.line += 1;\n        this.addrow = false;\n        this.submitted = false;\n        this.itemForm.reset();\n        this.itemForm.get('stem').setValue('25');\n        this.utilService.isLoading.next(false);\n    }\n\n    get f() {\n        return this.itemForm.controls;\n    }\n    get fr() {\n        return this.facturaForm.controls;\n    }\n\n    get fv() {\n        return this.itemFormEdit.controls;\n    }\n\n}\n","import { FacturaComponent } from './factura.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FacturaRoutingModule } from './factura-routing.module';\nimport { InputTextModule, PanelModule, AccordionModule, InputTextareaModule, RadioButtonModule, ButtonModule, AutoCompleteModule, DropdownModule, TableModule, ToolbarModule, CardModule, SplitButtonModule, SelectButtonModule, ToastModule, ConfirmDialogModule, KeyFilter, KeyFilterModule, DialogModule, TooltipModule } from 'primeng';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from 'src/app/shared.module';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    declarations: [FacturaComponent],\n    imports: [\n        CommonModule,\n        FacturaRoutingModule,\n        SharedModule,\n        InputTextModule,\n        PanelModule,\n        AccordionModule,\n        InputTextareaModule,\n        RadioButtonModule,\n        ButtonModule,\n        FormsModule,\n        AutoCompleteModule,\n        DropdownModule,\n        TableModule,\n        ToolbarModule,\n        CardModule,\n        ReactiveFormsModule,\n        SplitButtonModule,\n        SelectButtonModule,\n        ToastModule,\n        ConfirmDialogModule,\n        KeyFilterModule,\n        DialogModule,\n        NgxSpinnerModule,\n        TranslateModule,\n        TooltipModule\n    ]   \n}) \nexport class FacturaModule { }\n"]}