{"version":3,"sources":["webpack:///src/app/pages/layout/crm/users/edit/edit-routing.module.ts","webpack:///src/app/pages/layout/crm/users/edit/edit.component.html","webpack:///src/app/pages/layout/crm/users/edit/edit.component.ts","webpack:///src/app/pages/layout/crm/users/edit/edit.module.ts"],"names":["routes","path","component","EditRoutingModule","EditComponent","api","router","utilService","messageService","looking","icon","perfiles","obras","obrasSelect","getCurrentNavigation","extras","state","userTemp","JSON","parse","user","edit","inicializateValores","name","code","usuaApellidos","undefined","usuaClave","usuaEstado","usuaId","usuaNick","usuaNombres","usuaPerfil","getSelectPerfiles","options","label","value","getObras","filter","element","adduser","localStorage","getItem","then","data","headerApp","navigate","catch","err","error","clear","isLoading","next","getobras","forEach","obra","getObjectArray","estado_","push","estado","obra_","stringify","updateusuario","event","items","relation","obraId","addobrabyuser","add","severity","summary","detail","console","log","removeobrabyuser","EditModule"],"mappings":"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","file":"crm-users-edit-edit-module-ngfactory-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EditComponent } from './edit.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EditRoutingModule { }\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-lg-1\"></div>\n    <div class=\"ui-g-12 ui-lg-10\">\n        <p-toolbar>\n            <div class=\"p-toolbar-group-left\">\n                <button (click)=\"save()\" pButton class=\"ui-button-success\" icon=\"pi pi-check\" label=\"Guardar\" *ngIf=\"!edit\"></button> &nbsp;\n\n                <button (click)=\"modificar()\" pButton class=\"ui-button-success\" icon=\"pi pi-save\" label=\"Actualizar\" *ngIf=\"edit\"></button> &nbsp;\n\n                <button (click)=\"cancelar()\" pButton class=\"ui-button-warning\" icon=\"pi pi-arrow-left\" label=\"Atrás\"></button> &nbsp;\n\n            </div>\n        </p-toolbar>\n        <div class=\"card card-w-title ui-fluid\">\n\n            <h1 *ngIf=\"!edit\">Agregar nuevo usuario</h1>\n            <h1 *ngIf=\"edit\">Editar Usuario</h1>\n            <div class=\"ui-g form-group\">\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"nombres\">Nombres</label>\n                    <input type=\"text\" name=\"nombres\" pInputText autocomplete=\"off\" maxlength=\"100\" [(ngModel)]=\"user.user.usuaNombres\" />\n                </div>\n\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"apellidos\">Apellidos</label>\n                    <input type=\"text\" name=\"apellidos\" pInputText autocomplete=\"off\" maxlength=\"100\" [(ngModel)]=\"user.user.usuaApellidos\" />\n                </div>\n\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"nick\">Nick</label>\n                    <input type=\"text\" name=\"nick\" pInputText autocomplete=\"off\" maxlength=\"100\" [(ngModel)]=\"user.user.usuaNick\" />\n                </div>\n\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label class=\"lbl\">Password</label>\n                    <div class=\"ui-inputgroup\">\n                        <input type=\"password\" autocomplete=\"off\" maxlength=\"100\" pPassword [showPassword]=\"looking\" [(ngModel)]=\"user.user.usuaClave\" />\n                        <button type=\"button\" pButton pRipple [icon]=\"icon\" (click)=\"changelookpasswor()\"></button>\n                    </div>\n                </div>\n\n                <div class=\"ui-g-12 ui-md-6\">\n                    <label for=\"perfil\">Perfil</label>\n                    <p-dropdown [options]=\"perfiles\" [(ngModel)]=\"user.user.usuaPerfil\" optionLabel=\"name\" placeholder=\"Seleccione un perfil\" [showClear]=\"true\"></p-dropdown>\n                </div>\n\n                <div class=\"ui-g-12 ui-md-3\">\n                    <label for=\"state\">Estado</label>\n                    <p-selectButton [options]=\"options\" [(ngModel)]=\"user.user.usuaEstado\"></p-selectButton>\n                </div>\n\n                <div class=\"ui-g-12 ui-md-12\" *ngIf=\"edit\">\n                    <p-fieldset legend=\"Obras\">\n                        <div class=\"ui-g form-group\">\n\n                            <div class=\"ui-g-12 ui-md-12\">\n                                <p-pickList [source]=\"obras\" [target]=\"user.obras\" sourceHeader=\"Obras\" (onMoveToTarget)=\"enabled($event)\" (onMoveToSource)=\"disabled($event)\" [showSourceControls]=\"false\" [showTargetControls]=\"false\" targetHeader=\"Obras seleccionadas\" dragdrop=\"true\"\n                                    [responsive]=\"true\" dragdrop=\"true\" [sourceStyle]=\"{'height':'300px'}\" [targetStyle]=\"{'height':'300px'}\" filterBy=\"obraNombre\" sourceFilterPlaceholder=\"Search by name\" targetFilterPlaceholder=\"Search by name\">\n                                    <ng-template let-obra pTemplate=\"item\">\n                                        <div class=\"marks-item\">\n                                            <div class=\"mark-list-detail\">\n                                                <h5 class=\"p-mb-2\">{{obra.obraNombre | titlecase}}</h5>\n                                            </div>\n                                        </div>\n                                    </ng-template>\n                                </p-pickList>\n                            </div>\n                        </div>\n                    </p-fieldset>\n                </div>\n\n            </div>\n        </div>\n    </div>\n    <div class=\"ui-g-12 ui-lg-1\"></div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageService, SelectItem } from 'primeng';\nimport { obra } from 'src/models/obra';\nimport { ApisService } from 'src/services/apis.service';\nimport { UtilService } from 'src/services/util.service';\n\nexport interface user {\n  usuaApellidos: string;\n  usuaClave: string;\n  usuaEstado: boolean;\n  usuaId: number;\n  usuaNick: string;\n  usuaNombres: string;\n  usuaPerfil: any;\n}\n\n\nexport interface users {\n  user: user;\n  obras: Array<obra>;\n}\n\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css'],\n  providers: [TranslateService, MessageService],\n})\nexport class EditComponent implements OnInit {\n\n  edit: boolean;\n  user: users;\n  userTemp: users;\n  options: SelectItem[];\n  looking: boolean = false;\n  icon: string = \"pi pi-eye\";\n  perfiles: Array<{\n    name: string,\n    code: string\n  }> = []\n  obras: Array<obra> = []\n  obrasSelect: Array<obra> = []\n\n  constructor(private api: ApisService, private router: Router, private utilService: UtilService, private messageService: MessageService,) {\n    if (this.router.getCurrentNavigation().extras.state != null) {\n      this.userTemp = JSON.parse(this.router.getCurrentNavigation().extras.state.user);\n      this.edit = true;\n    } else {\n      this.edit = false;\n    }\n    this.inicializateValores();\n  }\n\n  ngOnInit() {\n  }\n\n  async inicializateValores() {\n\n    this.user = null;\n    this.perfiles = [\n      { name: 'Administrador', code: 'Administrador' },\n      { name: 'Gestor', code: 'Gestor' }\n    ];\n\n    this.user = {\n      user: {\n        usuaApellidos: this.userTemp != undefined ? this.userTemp['user'].usuaApellidos : null,\n        usuaClave: this.userTemp != undefined ? this.userTemp['user'].usuaClave : null,\n        usuaEstado: this.userTemp != undefined ? this.userTemp['user'].usuaEstado : true,\n        usuaId: this.userTemp != undefined ? this.userTemp['user'].usuaId : null,\n        usuaNick: this.userTemp != undefined ? this.userTemp['user'].usuaNick : null,\n        usuaNombres: this.userTemp != undefined ? this.userTemp['user'].usuaNombres : null,\n        usuaPerfil: this.userTemp != undefined ? this.getSelectPerfiles(this.userTemp['user'].usuaPerfil)[0] : null\n      },\n      obras: this.userTemp != undefined ? this.userTemp['obras'] : [],\n    }\n\n    this.obrasSelect = this.userTemp != undefined ? this.user.obras : [];\n\n    this.options = [{ label: 'Activo', value: true }, { label: 'Inactivo', value: false }];\n\n    await this.getObras();\n\n  }\n\n  getSelectPerfiles(name: string) {\n    return this.perfiles.filter(element => element.name == name)\n  }\n\n  save() {\n    this.user.user.usuaPerfil = this.user.user.usuaPerfil[\"code\"]\n    this.api.adduser(this.user.user, localStorage.getItem(\"token\")).then(data => {\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['users']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n\n  }\n\n  async getObras() {\n    this.utilService.isLoading.next(true);\n    await this.api.getobras(localStorage.getItem(\"token\")).then(async (data) => {\n\n      if (data.headerApp.code == 200 || data.headerApp.code == 0) {\n\n        await data.data.obras.forEach(async (obra) => {\n          let estado_ = await this.getObjectArray(obra)\n          if (!estado_) {\n            this.obras.push(obra)\n          }\n        });\n        this.utilService.isLoading.next(false);\n      }\n\n    }).catch(err => {\n      this.utilService.isLoading.next(false);\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n\n    })\n  }\n\n  async getObjectArray(obra: any) {\n    let estado = false\n    await this.obrasSelect.filter(async (obra_) => {\n      if (JSON.stringify(obra_) == JSON.stringify(obra)) {\n        estado = true\n      }\n    })\n    return estado\n  }\n\n  cancelar() {\n    this.router.navigate(['users']);\n  }\n\n  modificar() {\n    this.user.user.usuaPerfil = this.user.user.usuaPerfil[\"code\"]\n    this.api.updateusuario(this.user.user, localStorage.getItem(\"token\")).then(data => {\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['users']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n  }\n\n\n  changelookpasswor() {\n    if (this.looking) {\n      this.looking = false;\n      this.icon = \"pi pi-eye\";\n    } else {\n      this.looking = true;\n      this.icon = \"pi pi-eye-slash\";\n    }\n  }\n\n  enabled(event: any) {\n    event.items.forEach(async (element) => {\n      let relation = {\n        obraId: element.obraId,\n        usuaId: this.user.user.usuaId\n      }\n      await this.api.addobrabyuser(relation, localStorage.getItem(\"token\")).then(data => {\n\n        if (data.headerApp.code === 200) {\n          //this.user.roles = data.data.roles;\n          this.messageService.add({ severity: 'info', summary: 'Informativo', detail: 'Se agrego una obra al usuario' });\n        }\n      }).catch(err => {\n        console.log(\"ERROR\");\n        console.log(err);\n        if (err.error.code == 401) {\n          localStorage.clear();\n          this.router.navigate(['/login']);\n        }\n      })\n    });\n  }  \n \n  disabled(event: any) { \n    console.log(\"Desabilitar..\");  \n    event.items.forEach(async element => {  \n      console.log(element.obraId); \n      console.log(\"ELEMENTOSSS\");      \n      console.log(localStorage.getItem(\"token\"));\n      this.api.removeobrabyuser(element.obraId, localStorage.getItem(\"token\")).then(data => {\n        if (data.headerApp.code === 200) {    \n          this.messageService.add({ severity: 'info', summary: 'Informativo', detail: 'Se quito un rol al usuario' });\n        }  \n      }).catch(err => {\n\n        if (err.error.code == 401) {\n          localStorage.clear();\n          this.router.navigate(['/login']);\n        }\n      })\n    });\n  }\n\n\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EditRoutingModule } from './edit-routing.module';\nimport { EditComponent } from './edit.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BlockUIModule, ButtonModule, DropdownModule, FieldsetModule, InputSwitchModule, InputTextareaModule, InputTextModule, PasswordModule, PickListModule, SelectButtonModule, ToastModule, ToolbarModule } from 'primeng';\n\n\n@NgModule({\n  declarations: [EditComponent],\n  imports: [\n    CommonModule,\n    EditRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    InputSwitchModule,\n    SelectButtonModule,\n    DropdownModule,\n    InputTextModule,\n    InputTextareaModule,\n    ButtonModule,\n    ToolbarModule,\n    ToastModule,\n    BlockUIModule,\n    PasswordModule,\n    PickListModule,\n    FieldsetModule,\n  ]\n})\nexport class EditModule { }\n"]}