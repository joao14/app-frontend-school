{"version":3,"sources":["webpack:///node_modules/primeng/fesm2015/primeng-blockui.js","webpack:///node_modules/primeng/fesm2015/primeng-inputtextarea.js","webpack:///node_modules/primeng/toolbar/primeng-toolbar.d.ts.Toolbar.html","webpack:///src/app/pages/layout/crm/obras/edit/edit-routing.module.ts","webpack:///src/app/pages/layout/crm/obras/edit/edit.component.html","webpack:///src/app/pages/layout/crm/obras/edit/edit.component.ts","webpack:///src/app/pages/layout/crm/obras/edit/edit.module.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","BlockUI","el","autoZIndex","baseZIndex","_blocked","val","mask","nativeElement","block","unblock","getBlockableElement","appendChild","style","position","document","body","zIndex","String","zindex","ctorParameters","type","prototype","selector","template","changeDetection","Default","BlockUIModule","imports","exports","declarations","__param","paramIndex","decorator","InputTextarea","ngModel","onResize","updateFilledState","autoResize","resize","e","filled","value","model","event","height","scrollHeight","parseFloat","maxHeight","overflowY","overflow","emit","host","InputTextareaModule","routes","path","component","EditRoutingModule","EditComponent","api","router","utilService","messageService","files","getCurrentNavigation","extras","state","obraTemp","JSON","parse","obra","edit","inicializateValores","obraId","obraNombre","obraDescripcion","obraDireccion","obraLogo1","obraLogo2","addobra","localStorage","getItem","then","data","headerApp","code","navigate","catch","err","error","clear","updateobra","Error","reader","FileReader","readAsBinaryString","console","log","push","addedFiles","isLoading","next","index","readAsDataURL","onload","resources","atributo","name","result","toString","descripcion","fechregi","getFormatDate","Date","estado","florId","add","severity","summary","detail","date","format","EditModule"],"mappings":"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","file":"crm-obras-edit-edit-module-ngfactory-es5.js","sourcesContent":["import { ElementRef, Input, ViewChild, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler } from 'primeng/dom';\n\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nlet BlockUI = class BlockUI {\n    constructor(el) {\n        this.el = el;\n        this.autoZIndex = true;\n        this.baseZIndex = 0;\n    }\n    get blocked() {\n        return this._blocked;\n    }\n    set blocked(val) {\n        this._blocked = val;\n        if (this.mask && this.mask.nativeElement) {\n            if (this._blocked)\n                this.block();\n            else\n                this.unblock();\n        }\n    }\n    ngAfterViewInit() {\n        if (this.target && !this.target.getBlockableElement) {\n            throw 'Target of BlockUI must implement BlockableUI interface';\n        }\n    }\n    block() {\n        if (this.target) {\n            this.target.getBlockableElement().appendChild(this.mask.nativeElement);\n            let style = this.target.style || {};\n            style.position = 'relative';\n            this.target.style = style;\n        }\n        else {\n            document.body.appendChild(this.mask.nativeElement);\n        }\n        if (this.autoZIndex) {\n            this.mask.nativeElement.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n        }\n    }\n    unblock() {\n        this.el.nativeElement.appendChild(this.mask.nativeElement);\n    }\n    ngOnDestroy() {\n        this.unblock();\n    }\n};\nBlockUI.ctorParameters = () => [\n    { type: ElementRef }\n];\n__decorate([\n    Input()\n], BlockUI.prototype, \"target\", void 0);\n__decorate([\n    Input()\n], BlockUI.prototype, \"autoZIndex\", void 0);\n__decorate([\n    Input()\n], BlockUI.prototype, \"baseZIndex\", void 0);\n__decorate([\n    Input()\n], BlockUI.prototype, \"styleClass\", void 0);\n__decorate([\n    ViewChild('mask')\n], BlockUI.prototype, \"mask\", void 0);\n__decorate([\n    Input()\n], BlockUI.prototype, \"blocked\", null);\nBlockUI = __decorate([\n    Component({\n        selector: 'p-blockUI',\n        template: `\n        <div #mask [class]=\"styleClass\" [ngClass]=\"{'ui-blockui-document':!target, 'ui-blockui ui-widget-overlay': true}\" [ngStyle]=\"{display: blocked ? 'block' : 'none'}\">\n            <ng-content></ng-content>\n        </div>\n    `,\n        changeDetection: ChangeDetectionStrategy.Default\n    })\n], BlockUI);\nlet BlockUIModule = class BlockUIModule {\n};\nBlockUIModule = __decorate([\n    NgModule({\n        imports: [CommonModule],\n        exports: [BlockUI],\n        declarations: [BlockUI]\n    })\n], BlockUIModule);\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BlockUI, BlockUIModule };\n//# sourceMappingURL=primeng-blockui.js.map\n","import { EventEmitter, ElementRef, Optional, Input, Output, HostListener, Directive, NgModule } from '@angular/core';\nimport { NgModel } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nlet InputTextarea = class InputTextarea {\n    constructor(el, ngModel) {\n        this.el = el;\n        this.ngModel = ngModel;\n        this.onResize = new EventEmitter();\n    }\n    ngDoCheck() {\n        this.updateFilledState();\n        if (this.autoResize) {\n            this.resize();\n        }\n    }\n    //To trigger change detection to manage ui-state-filled for material labels when there is no value binding\n    onInput(e) {\n        this.updateFilledState();\n        if (this.autoResize) {\n            this.resize(e);\n        }\n    }\n    updateFilledState() {\n        this.filled = (this.el.nativeElement.value && this.el.nativeElement.value.length) || (this.ngModel && this.ngModel.model);\n    }\n    onFocus(e) {\n        if (this.autoResize) {\n            this.resize(e);\n        }\n    }\n    onBlur(e) {\n        if (this.autoResize) {\n            this.resize(e);\n        }\n    }\n    resize(event) {\n        this.el.nativeElement.style.height = 'auto';\n        this.el.nativeElement.style.height = this.el.nativeElement.scrollHeight + 'px';\n        if (parseFloat(this.el.nativeElement.style.height) >= parseFloat(this.el.nativeElement.style.maxHeight)) {\n            this.el.nativeElement.style.overflowY = \"scroll\";\n            this.el.nativeElement.style.height = this.el.nativeElement.style.maxHeight;\n        }\n        else {\n            this.el.nativeElement.style.overflow = \"hidden\";\n        }\n        this.onResize.emit(event || {});\n    }\n};\nInputTextarea.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgModel, decorators: [{ type: Optional }] }\n];\n__decorate([\n    Input()\n], InputTextarea.prototype, \"autoResize\", void 0);\n__decorate([\n    Output()\n], InputTextarea.prototype, \"onResize\", void 0);\n__decorate([\n    HostListener('input', ['$event'])\n], InputTextarea.prototype, \"onInput\", null);\n__decorate([\n    HostListener('focus', ['$event'])\n], InputTextarea.prototype, \"onFocus\", null);\n__decorate([\n    HostListener('blur', ['$event'])\n], InputTextarea.prototype, \"onBlur\", null);\nInputTextarea = __decorate([\n    Directive({\n        selector: '[pInputTextarea]',\n        host: {\n            '[class.ui-inputtext]': 'true',\n            '[class.ui-corner-all]': 'true',\n            '[class.ui-inputtextarea-resizable]': 'autoResize',\n            '[class.ui-state-default]': 'true',\n            '[class.ui-widget]': 'true',\n            '[class.ui-state-filled]': 'filled'\n        }\n    }),\n    __param(1, Optional())\n], InputTextarea);\nlet InputTextareaModule = class InputTextareaModule {\n};\nInputTextareaModule = __decorate([\n    NgModule({\n        imports: [CommonModule],\n        exports: [InputTextarea],\n        declarations: [InputTextarea]\n    })\n], InputTextareaModule);\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { InputTextarea, InputTextareaModule };\n//# sourceMappingURL=primeng-inputtextarea.js.map\n","\n        <div [ngClass]=\"'ui-toolbar ui-widget ui-widget-header ui-corner-all ui-helper-clearfix'\" [ngStyle]=\"style\" [class]=\"styleClass\" role=\"toolbar\">\n            <ng-content></ng-content>\n        </div>\n    ","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { EditComponent } from './edit.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditComponent\n}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EditRoutingModule { }\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-lg-3\"></div>\n    <div class=\"ui-g-12 ui-lg-6\">\n        <p-toolbar>\n            <div class=\"p-toolbar-group-left\">\n                <button (click)=\"save()\" pButton class=\"ui-button-success\" icon=\"pi pi-check\" label=\"Guardar\" *ngIf=\"!edit\"></button> &nbsp;\n\n                <button (click)=\"modificar()\" pButton class=\"ui-button-success\" icon=\"pi pi-save\" label=\"Actualizar\" *ngIf=\"edit\"></button> &nbsp;\n\n                <button (click)=\"cancelar()\" pButton class=\"ui-button-warning\" icon=\"pi pi-arrow-left\" label=\"Atrás\"></button> &nbsp;\n\n            </div>\n        </p-toolbar>\n        <div class=\"card card-w-title ui-fluid\">\n\n            <h1 *ngIf=\"!edit\">Agregar nueva obra</h1>\n            <h1 *ngIf=\"edit\">Editar Obra</h1>\n            <div class=\"ui-g form-group\">\n                <div class=\"ui-g-12 ui-md-12\">\n                    <label for=\"nombre\">Nombre</label>\n                    <input type=\"text\" name=\"nombre\" pInputText autocomplete=\"off\" maxlength=\"100\" [(ngModel)]=\"obra.obraNombre\" />\n                </div>\n\n                <div class=\"ui-g-12 ui-md-12\">\n                    <label for=\"descripcion\">Descripción</label>\n                    <textarea type=\"text\" name=\"descripcion\" pInputTextarea autocomplete=\"off\" maxlength=\"100\" [(ngModel)]=\"obra.obraDescripcion\"></textarea>\n                </div>\n\n                <div class=\"ui-g-12 ui-md-12\">\n                    <label for=\"direccion\">Dirección</label>\n                    <textarea type=\"text\" name=\"direccion\" pInputTextarea autocomplete=\"off\" maxlength=\"100\" [(ngModel)]=\"obra.obraDireccion\"></textarea>\n                </div>\n                <div class=\"ui-g-12 ui-md-12\">\n                    <div class=\"custom-dropzone\" ngx-dropzone [accept]=\"'image/*'\" [expandable]=\"true\" (change)=\"onSelect($event)\">\n                        <ngx-dropzone-label>\n                            <div>\n                                <h2>{{'Mi zona de imagenes' | translate}}</h2>\n                            </div>\n                        </ngx-dropzone-label>\n                        <ngx-dropzone-image-preview ngProjectAs=\"ngx-dropzone-preview\" *ngFor=\"let f of files\" [file]=\"f\">\n                            <ngx-dropzone-label class=\"text\">{{ f.name }} ({{ f.type }})</ngx-dropzone-label>\n                        </ngx-dropzone-image-preview>\n                    </div>\n                </div>\n            </div>\n            <!--<div class=\"ui-g-12 ui-md-12\" *ngIf=\"edit && flower.images.length > 0\">\n                <p-dataView [value]=\"flower.images\">\n                    <p-header>\n                        <div class=\"ui-helper-clearfix\">\n                            <div class=\"ui-g\">\n                                <div class=\"ui-g-12 ui-md-12\" style=\"text-align: center;\">\n                                    <label>{{'Recursos agregados' | translate }} [{{flower.images.length}}]</label>\n                                </div>\n                            </div>\n                        </div>\n                    </p-header>\n                    <ng-template let-image pTemplate=\"listItem\">\n                        <div class=\"ui-g-12\">\n                            <div class=\"card\" style=\"padding: 10px !important;\">\n                                <div class=\"flower-grid-item-content\">\n                                    <button pButton class=\"ui-button-danger\" icon=\"fa fa-trash\" style=\"position: absolute;float: right;\" (click)=\"remove(image)\"></button>\n                                    <img [src]=\"image.atributo\" style=\"width: 100%;height: 100%;object-fit: contain;\">\n                                </div>\n                            </div>\n                        </div>\n                    </ng-template>\n                </p-dataView>\n            </div>-->\n        </div>\n    </div>\n    <div class=\"ui-g-12 ui-lg-3\"></div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { MessageService, SelectItem } from 'primeng';\nimport { FileHandle } from 'src/models/FileHandle';\nimport { obra } from 'src/models/obra';\nimport { ApisService } from 'src/services/apis.service';\nimport { UtilService } from 'src/services/util.service';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  styleUrls: ['./edit.component.css'],\n  providers: [MessageService]\n})\nexport class EditComponent implements OnInit {\n\n  edit: boolean;\n  obra: obra;\n  obraTemp: obra;\n  options: SelectItem[];\n  uploadedFiles: FileHandle[];\n  files: File[] = [];\n\n  constructor(private api: ApisService, private router: Router, private utilService: UtilService, private messageService: MessageService) { \n    if (this.router.getCurrentNavigation().extras.state != null) {\n      this.obraTemp = JSON.parse(this.router.getCurrentNavigation().extras.state.obra);\n      this.edit = true;\n    } else {\n      this.edit = false;\n    }\n    this.inicializateValores();\n  }\n\n  ngOnInit(): void {\n  }\n\n  inicializateValores(){\n    this.obra={\n      obraId: this.obraTemp != null ? this.obraTemp['obraId'] : null,\n      obraNombre: this.obraTemp != null ? this.obraTemp['obraNombre'] : \"\",\n      obraDescripcion: this.obraTemp != null ? this.obraTemp['obraDescripcion'] : \"\", \n      obraDireccion: this.obraTemp != null ? this.obraTemp['obraDireccion'] : \"\", \n      obraLogo1: this.obraTemp != null ? this.obraTemp['obraLogo1'] : \"\", \n      obraLogo2: this.obraTemp != null ? this.obraTemp['obraLogo2'] : \"\", \n    }\n  }\n \n  save() {  \n    this.api.addobra(this.obra, localStorage.getItem(\"token\")).then(data => {\n      if (data.headerApp.code === 200) {\n        this.router.navigate(['obras']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n\n  }\n\n  cancelar() {\n    this.router.navigate(['obras']);\n  }\n\n  modificar(){  \n    this.api.updateobra(this.obra, localStorage.getItem(\"token\")).then(data => {     \n      if (data.headerApp.code === 200) {\n        this.router.navigate(['obras']);\n        this.inicializateValores();\n      }\n    }).catch(err => {\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n  }\n\n  uploadFile(event) {\n    \n    const target: DataTransfer = <DataTransfer>event.target;\n    \n    if (target.files.length !== 1) {\n      throw new Error(\"Cannot use multiple files\");\n    }\n    const reader: FileReader = new FileReader();\n    reader.readAsBinaryString(target.files[0]);\n   \n  }\n\n\n  onSelect(event) {\n    console.log(\"UPLOAD FILE...\");\n    \n    this.files.push(...event.addedFiles);        \n    this.utilService.isLoading.next(true);\n    for (let index = 0; index < this.files.length; index++) {\n      const reader = new FileReader();\n      reader.readAsDataURL(this.files[index]);\n      reader.onload = async () => {\n        let resources = {\n          atributo: this.files[index].name + ';' + reader.result.toString(),\n          descripcion: \"IMG\",\n          fechregi: this.getFormatDate(new Date()),\n          estado: \"A\",\n          florId: null\n        }\n       \n              \n        /*await this.api.addResourcesflowers(resources, localStorage.getItem(\"token\")).then(data => {\n                 \n          if (data.headerApp.code == 200) {\n            \n            this.flower.images.push({\n              atributo:  environment.url + data.data.resource.atributo,\n              descripcion: data.data.resource.descripcion,\n              reflId: data.data.resource.reflId\n            });\n            this.files=[];\n          }\n\n        }).catch(err => {\n          if (err.error.code == 401) {\n            localStorage.clear();\n            this.router.navigate(['/login']);\n          }\n\n        })*/\n\n      };\n    }\n    this.utilService.isLoading.next(false);\n    this.messageService.add({ severity: 'success', summary: 'COBO', detail: 'Las images se han subido correctamente' });\n\n\n  }\n\n  /*onRemove(event) { }\n\n  async remove(imageold: any) {\n    \n    this.utilService.isLoading.next(true);\n\n    await this.api.removeResourcesflowers(imageold.reflId, localStorage.getItem(\"token\")).then(data => {\n      if (data.headerApp.code == 200) {\n        this.flower.images = this.flower.images.filter(image => image != imageold);\n      }\n    }).catch(err => {\n      if (err.error.code == 401) {\n        localStorage.clear();\n        this.router.navigate(['/login']);\n      }\n    })\n    this.utilService.isLoading.next(false);\n  }*/\n\n\n  getFormatDate(date: Date): string {\n    return (moment(date)).format('yyyy-MM-DD HH:mm:ss.SSS');\n  }\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EditRoutingModule } from './edit-routing.module';\nimport { EditComponent } from './edit.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BlockUIModule, ButtonModule, DataViewModule, DropdownModule, InputSwitchModule, InputTextareaModule, InputTextModule, SelectButtonModule, ToastModule, ToolbarModule } from 'primeng';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { TranslateModule } from '@ngx-translate/core';\n  \n\n@NgModule({\n  declarations: [EditComponent],\n  imports: [\n    CommonModule,\n    EditRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    InputSwitchModule,\n    SelectButtonModule,\n    DropdownModule,\n    InputTextModule,\n    InputTextareaModule,\n    ButtonModule,\n    ToolbarModule,\n    ToastModule,\n    BlockUIModule,\n    NgxDropzoneModule,\n    TranslateModule,\n    DataViewModule\n  ]\n})\nexport class EditModule { }\n"]}