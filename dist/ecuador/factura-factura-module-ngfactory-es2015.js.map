{"version":3,"sources":["./src/app/pages/layout/factura/factura-routing.module.ts","./src/app/pages/layout/factura/factura.component.html","./src/app/pages/layout/factura/factura.component.ts","./src/app/pages/layout/factura/factura.module.ts"],"names":[],"mappings":"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","file":"factura-factura-module-ngfactory-es2015.js","sourcesContent":["import { FacturaComponent } from './factura.component';\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: '', component: FacturaComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class FacturaRoutingModule {}\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12\">\n        <div class=\"card card-w-title\">\n            <p-toast></p-toast>\n            <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"medium\" color=\"#fff\" type=\"square-jelly-box\"\n                [fullScreen]=\"true\">\n                <p style=\"color: white\"> Loading... </p>\n            </ngx-spinner>\n            <div *ngIf=\"invoicesdraft.length > 0 && step <= 1\">\n                <h1>{{'Borradores de la facturación' | translate}}</h1>\n                <p-table [value]=\"invoicesdraft\" class=\"p-datatable-responsive-demo\">\n                    <ng-template pTemplate=\"caption\">\n                        <div class=\"p-d-flex p-ai-center p-jc-between\">\n                            {{'Facturas de borrador'| translate}} [ {{invoicesdraft.length}} ]\n                        </div>\n                    </ng-template>\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th style=\"width: 8em;\"></th>\n                            <th>{{'Cliente' | translate}}</th>\n                            <th>{{'Fecha' | translate}}</th>\n                            <th>{{'Número de tallos' | translate}}</th>\n                            <th>{{'Secuencial' | translate}}</th>\n                            <th>{{'Total' | translate}}</th>\n                        </tr>  \n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData let-item>\n                        <tr style=\"background-color: white;\">\n                            <td><span class=\"p-column-title\">                                \n                                     <button pButton type=\"button\" class=\"ui-button-warning\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"edit(item)\">\n                                        <i class=\"pi pi-pencil\" style=\"font-size: 1.7rem\"></i>\n                                    </button>\n                                    &nbsp;\n                                    <button pButton type=\"button\" class=\"ui-button-success\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"viewdraft(item)\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>                                        \n                                    </button>   \n                                    &nbsp;\n                                    <button pButton type=\"button\" class=\"ui-button-success\" icon=\"pi pi-replay\"\n                                        style=\"display: none;\" (click)=\"finish(item)\"></button>\n                                   \n                                </span>\n                            </td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.cliente.nombres }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.fecha }}</span></td>  \n                            <td><span class=\"p-column-title\">{{item.cabecera.numetallos }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.secuencial }}</span></td>\n                            <td><span class=\"p-column-title\" style=\"font-weight: bold;\">{{item.cabecera.total |\n                                    currency}}</span></td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n                <hr>\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div class=\"ui-g-12 ui-md-9\"></div>\n                    <div class=\"ui-g-12 ui-md-3\">\n                        <button pButton type=\"button\" icon=\"pi pi-chevron-circle-right\" style=\"font-size: 1rem\"\n                            [label]=\"'Nueva factura' | translate\" class=\"ui-button-info ouput_btn_table\"\n                            (click)=\"facturar()\">\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"invoicesdraft.length <= 0 || step > 1\">\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div [class]=\"invoicesdraft.length > 0 ? 'ui-g-12 ui-md-10':'ui-g-12 ui-md-10'\">\n                        <h1 *ngIf=\"(!editInvoice && step > 1) || invoicesdraft.length <= 0\">\n                            {{'Facturación Cliente' | translate}}</h1>\n                        <h1 *ngIf=\"editInvoice && step > 1\">{{'Editando la factura' | translate }} # {{idFactura}}</h1>\n                    </div>\n                    <div [class]=\"invoicesdraft.length > 0 ? 'ui-g-12 ui-md-2':''\">\n                        <button pButton type=\"button\" icon=\"pi pi-arrow-circle-left\" [label]=\"'Borradores' | translate\"\n                            icon=\"pi pi-arrow-circle-left\" *ngIf=\"invoicesdraft.length > 0\"\n                            class=\"ui-button-warning ouput_btn_table\" (click)=\"back()\"></button>\n                    </div>\n                </div>\n                <form [formGroup]=\"facturaForm\" (ngSubmit)=\"save()\">\n                    <p-accordion>\n                        <p-accordionTab [header]=\"'Datos del Cliente' | translate\" [selected]=\"true\">\n                            <div class=\"ui-g form-group ui-fluid\">\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"client\" class=\"lbl\">{{'Cliente' | translate}}</label>\n                                    <p-dropdown [options]=\"clientes\" optionLabel=\"nombres\" formControlName=\"cliente\"\n                                        *ngIf=\"!editInvoice\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" (onChange)='onOptionsSelected()'\n                                        [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"></p-dropdown>\n\n                                    <input type=\"text\" pInputText [value]=\"selectclient?.nombres\" readonly\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" *ngIf=\"editInvoice\" />\n\n                                    <div *ngIf=\"submittedFactura && fr.cliente.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.cliente.errors.required\">{{'Cliente es requerido' | translate}}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"mark\" class=\"lbl\">{{'Marca' | translate}}</label>\n                                    <p-dropdown [options]=\"marks\" optionLabel=\"nombre\" formControlName=\"marca\"\n                                        *ngIf=\"!editInvoice\" (onChange)='onOptionsMarkSelected()'\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.marca.errors }\"\n                                        class=\"form-control\" class=\"form-control\" [filter]=\"true\"\n                                        [placeholder]=\"'Seleccione' | translate\">\n                                    </p-dropdown>\n\n                                    <input type=\"text\" pInputText [value]=\"selectdraft?.cabecera.mark\" readonly\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" *ngIf=\"editInvoice\" />\n\n                                    <div *ngIf=\"submittedFactura && fr.marca.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.marca.errors.required\">{{'Marca es requerido' | translate}}</div>\n                                    </div>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"mawba\" class=\"lbl\">{{'N° guía' | translate}}</label>\n                                    <input type=\"text\" id=\"mawba\" pInputText formControlName=\"mawba\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.mawba.errors }\"\n                                        class=\"form-control\">\n                                    <div *ngIf=\"submittedFactura && fr.mawba.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.mawba.errors.required\">{{'Mawba es requerido' | translate}}</div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"freightforwarder\" class=\"lbl\">{{'Empresa carga' | translate}}</label>\n                                    <p-dropdown [options]=\"deliveries\" optionLabel=\"nombres\" class=\"form-control\"\n                                        (onChange)='onOptionsSelected()' formControlName=\"empresacargo\"\n                                        *ngIf=\"!editInvoice\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.empresacargo.errors }\"\n                                        class=\"form-control\" [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\">\n                                    </p-dropdown>\n\n                                    <input type=\"text\" pInputText [value]=\"selectdraft?.cabecera.cargname\" readonly\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" *ngIf=\"editInvoice\" />\n\n                                    <div *ngIf=\"submittedFactura && fr.empresacargo.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.empresacargo.errors.required\">\n                                            {{'Empresa carga es requerida' | translate}}</div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"phone\" class=\"lbl\">{{'Teléfono' | translate}}</label>\n                                    <input type=\"text\" id=\"phone\" pInputText [value]=\"selectclient?.phone\" readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"razonsocial\" class=\"lbl\">{{'Razón Social' | translate}}</label>\n                                    <input type=\"text\" id=\"razonsocial\" pInputText [value]=\"selectclient?.razosoci\"\n                                        readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"ciudad\" class=\"lbl\">{{'País-Ciudad'| translate}}</label>\n                                    <input type=\"text\" id=\"ciudad\" pInputText [value]=\"selectclient?.paiscity\" readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"email\" class=\"lbl\">{{'Email' | translate}}</label>\n                                    <textarea pInputTextarea id=\"email\" [value]=\"selectclient?.email\"\n                                        readonly></textarea>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"address\" class=\"lbl\">{{'Dirección' | translate}}</label>\n                                    <textarea pInputTextarea id=\"address\" [value]=\"selectmark?.direccion\"\n                                        readonly></textarea>\n                                </div>\n\n\n                                <div [class]=\"typerol=='ADM'? 'ui-g-12 ui-md-6':'ui-g-12 ui-md-4'\" *ngIf=\"!editInvoice\">\n                                    <label for=\"address\" class=\"lbl\">{{'Operación' | translate}}</label>\n                                    <div class=\"ui-grid-row\">\n                                        <div class=\"ui-grid-col-6\">\n                                            <button pButton type=\"button\" icon=\"pi pi-pencil\" class=\"ui-button-primary\"\n                                                [label]=\"'Manual' | translate\" (click)=\"selectOptions('manual')\"\n                                                style=\"height: 40px;\"></button>\n                                        </div>\n                                        <div class=\"ui-grid-col-6\">\n                                            <button pButton type=\"button\" icon=\"pi pi-upload\" class=\"ui-button-warning\"\n                                                [label]=\"'Subir archivo' | translate\"\n                                                (click)=\"selectOptions('automatico')\" style=\"height: 40px;\"></button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </p-accordionTab>\n                    </p-accordion>\n                    <!--Agregar manualmente-->\n                    <div *ngIf=\"manual\">\n                        <form [formGroup]=\"itemForm\" (ngSubmit)=\"saverow()\">\n                            <br>\n                            <div class=\"ui-g form-group ui-fluid\">\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"!addrow\">\n                                    <button pButton type=\"button\" icon=\"pi pi-plus\" class=\"ui-button-primary\"\n                                        [label]=\"'Nuevo' | translate\" (click)=\"add()\"></button>\n                                </div>\n                                <!--<div class=\"ui-g-12 ui-md-2\" *ngIf=\"addrow\">\n                            <button pButton icon=\"pi pi-plus\" class=\"ui-button-success ouput_btn_table\"\n                                label=\"Guardar\"></button>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-2\" *ngIf=\"addrow\">\n                            <button pButton type=\"button\" icon=\"pi pi-times\" label=\"Cancelar\"\n                                class=\"ui-button-lg ui-button-warning ouput_btn_table\" (click)=\"cancelrow()\"></button>\n                        </div>-->\n                            </div>\n\n                            <div class=\"card row\" *ngIf=\"addrow\">\n                                <div class=\"ui-g form-group ui-fluid\">\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <br>\n                                        <div class=\"ui-g-12 ui-md-3\" *ngIf=\"addrow\">\n                                            <button pButton icon=\"pi pi-check\" style=\"height: 2.2rem;width: 35px;\"\n                                                class=\"ui-button-success ouput_btn_table\"></button>\n                                        </div>\n                                        <div class=\"ui-g-12 ui-md-3\"></div>\n                                        <div class=\"ui-g-12 ui-md-4\" *ngIf=\"addrow\">\n                                            <button pButton type=\"button\" icon=\"pi pi-times\"\n                                                style=\"height: 2.2rem;width: 35px;\"\n                                                class=\"ui-button-lg ui-button-warning ouput_btn_table\"\n                                                (click)=\"cancelrow()\"></button>\n                                        </div>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Caja' | translate}}</label>\n                                        <p-dropdown [options]=\"cajas\" optionLabel=\"name\" formControlName=\"caja\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Piezas' | translate}} </label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            formControlName=\"pieza\">\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-2\">\n                                        <label class=\"lbl\">{{'Finca' | translate}}</label>\n                                        <p-dropdown [options]=\"fincas\" formControlName=\"finca\" optionLabel=\"nombres\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.finca.errors }\"\n                                            class=\"form-control\" [filter]=\"true\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.finca.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.finca.errors.required\">{{'Finca es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-2\">\n                                        <label class=\"lbl\">{{'Variedad' | translate}}</label>\n                                        <p-dropdown [options]=\"flores\" formControlName=\"flores\"\n                                            optionLabel=\"flor.nombre\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.flores.errors }\"\n                                            class=\"form-control\" [filter]=\"true\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.flores.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.flores.errors.required\">\n                                                {{'Variedad es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'BCH' | translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.stem.errors }\"\n                                            class=\"form-control\" placeholder=\"0\" formControlName=\"stem\">\n                                        <div *ngIf=\"submitted && f.stem.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.stem.errors.required\">{{'Tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'CM' | translate}}</label>\n                                        <p-dropdown [options]=\"tamanios\" [placeholder]=\"'Seleccione' | translate\"\n                                            optionLabel=\"name\" class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.tamanio.errors }\"\n                                            formControlName=\"tamanio\" formControlName=\"tamanio\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.tamanio.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.tamanio.errors.required\">{{'Tamaño es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'No BCH' | translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.tallos.errors }\"\n                                            (focusout)=\"calculate()\" formControlName=\"tallos\">\n                                        <div *ngIf=\"submitted && f.tallos.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.tallos.errors.required\">\n                                                {{'N° tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\" style=\"color: #ff4456;font-weight: bold;\">{{'No Tallos' |\n                                            translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.totaltallos.errors }\" readonly\n                                            pTooltip=\"Este valor se auto calculara\" tooltipPosition=\"bottom\"\n                                            style=\"font-size: 14px;font-weight: bold;text-align: center;background-color: #FFFAF0;\"\n                                            formControlName=\"totaltallos\">\n                                        <div *ngIf=\"submitted && f.totaltallos.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.totaltallos.errors.required\">\n                                                {{'Total tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Precio' | translate}}</label>\n                                        <input type=\"text\" pInputText placeholder=\"0\" pKeyFilter=\"money\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.precio.errors }\"\n                                            formControlName=\"precio\" formControlName=\"precio\">\n                                        <div *ngIf=\"submitted && f.precio.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.precio.errors.required\">{{'Precio es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-12\">\n                                        <button pButton type=\"button\" icon=\"pi pi-check\"\n                                            class=\"ui-button-success in_btn_table\" [label]=\"'Guardar' | translate\"\n                                            (click)=\"continue()\"></button>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-12\">\n                                        <button pButton type=\"button\" icon=\"pi pi-times\"\n                                            [label]=\"'Cancelar' | translate\"\n                                            class=\"ui-button-lg ui-button-warning in_btn_table\"\n                                            (click)=\"cancelrow()\"></button>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </form> \n                        <p-table [value]=\"items\" class=\"p-datatable-responsive-demo\">\n                            <ng-template pTemplate=\"caption\">\n                                <div class=\"p-d-flex p-ai-center p-jc-between\">\n                                    <button pButton type=\"button\" *ngIf=\"items.length >= 1\" class=\"ui-button-success\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"viewXlsx()\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>                                        \n                                    </button> &nbsp;\n                                    {{'Items de la factura'| translate}} [ {{items.length}} ]\n                                </div>\n                            </ng-template>\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th style=\"width: 8em;\"></th>\n                                    <th>{{'Caja' | translate}}</th>\n                                    <th>{{'Pieza' | translate}}</th>\n                                    <th style=\"width: 35em;\">{{'Finca' | translate}}</th>\n                                    <th style=\"width: 15em;\">{{'Variedad' | translate}}</th>\n                                    <th>{{'BCH' | translate}}</th>\n                                    <th>{{'CM' | translate}}</th>\n                                    <th>{{'No BCH' | translate}}</th>\n                                    <th>{{'No Tallos' | translate}}</th>\n                                    <th>{{'Precio' | translate}}</th>\n                                    <th>{{'Total' | translate}}</th>\n\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-rowData let-item>\n                                <tr style=\"background-color: white;\">\n                                    <td><span class=\"p-column-title\">\n                                            <button pButton type=\"button\" class=\"ui-button-danger\" icon=\"pi pi-trash\"\n                                                (click)=\"deleteItem(item)\"></button>\n                                        </span>\n                                        &nbsp;\n                                        <span class=\"p-column-title\">\n                                            <button pButton type=\"button\" class=\"ui-button-warning\" icon=\"pi pi-pencil\"\n                                                (click)=\"editItem(item)\"></button>\n                                        </span>\n                                    </td>\n                                    <td><span class=\"p-column-title\">{{item.caja==null?'':item.caja.code}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.pieza==null?'':item.pieza}}</span></td>\n                                    <td style=\"width: 10em;\"><span class=\"p-column-title\">{{item.finca.nombres |\n                                            titlecase}} - (\n                                            {{item.finca.razosoci}}) </span></td>\n                                    <td><span class=\"p-column-title\">{{item.flor.flor== null? (item.flor.nombre |\n                                            titlecase) : (item.flor.flor.nombre | titlecase) }}</span>\n                                    </td>\n                                    <td><span class=\"p-column-title\">{{item.stems }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.tamanio.code }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.numtallos }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.totaltallos }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.price | currency}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.subtotal | currency}}</span></td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.boxes}}</span></td>\n                                    <td colspan=\"5\" class=\"total_table\">{{'Totales' | translate}}</td>\n                                    <td><span class=\"total_valor\">{{factura.tallos}}</span></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.total | currency: 'USD'}}</span></td>\n                                </tr>\n                            </ng-template>\n                        </p-table>  \n                        <br>\n                        <div class=\"ui-g form-group ui-fluid\">\n                            <div class=\"ui-grid-col-7\"></div>\n                            <!--<div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-warning btn_enviar\"\n                                    (click)=\"continue()\" type=\"button\" [label]=\"'Salvar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>-->\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-success btn_enviar\"\n                                    (click)=\"continue()\" type=\"button\" [label]=\"'Guardar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-arrow-right\" class=\"ui-button-help btn_enviar\"\n                                    [label]=\"'Finalizar' | translate\" [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                        </div>\n                    </div>\n                    <!--Upload file-->\n                    <div *ngIf=\"automatico\">\n                        <div class=\"uploadfilecontainer\" (click)=\"fileInput.click()\" appDragdrop\n                            (onFileDropped)=\"uploadFile($event)\" *ngIf=\"files.length <= 0\">\n                            <input hidden type=\"file\" #fileInput (change)=\"uploadFile($event)\" accept=\".xlsx, .xls\">\n                        </div>\n                        <div class=\"files-list\" *ngFor=\"let file of files;let i= index\">\n                            <p> {{ file.name }} </p>\n                            <button class=\"delete-file\" (click)=\"deleteAttachment(i)\">\n                                <img src=\"../../../../assets/images/recicler.jpeg\">\n                            </button>\n                        </div>\n                        <div class=\"error\" *ngIf=\"validate\">\n                            {{'El archivo tiene errores validar con el administrador'| translate}}</div>\n                        <p class=\"detalle\" *ngIf=\"validate\"><i class=\"pi pi-bell\"></i>&nbsp;{{smsvalidate}}</p>\n                        <br>\n                        <p-table [value]=\"items\" *ngIf=\"files.length > 0\" class=\"p-datatable-responsive-demo\">\n                            <ng-template pTemplate=\"caption\">\n                                <div class=\"p-d-flex p-ai-center p-jc-between\">\n                                    <button pButton type=\"button\" *ngIf=\"items.length >= 1\" class=\"ui-button-success\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"viewXlsx()\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>                                        \n                                    </button> &nbsp;\n                                    {{'Items de la factura' | translate}} [{{items.length}}]\n                                </div>\n                            </ng-template>\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th>{{'Caja' | translate}}</th>\n                                    <th>{{'Pieza' | translate}}</th>\n                                    <th style=\"width: 35em;\">{{'Finca' | translate}}</th>\n                                    <th style=\"width: 15em;\">{{'Variedad' | translate}}</th>\n                                    <th>{{'BCH' | translate}}</th>\n                                    <th>{{'CM' | translate}}</th>\n                                    <th>{{'No BCH' | translate}}</th>\n                                    <th>{{'No Tallos' | translate}}</th>\n                                    <th>{{'Precio' | translate}}</th>\n                                    <th>{{'Total'| translate}}</th>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-item>\n                                <tr style=\"background-color: white;\">\n                                    <td style=\"text-align: center;\">{{item.caja==undefined?'':item.caja.name}}</td>\n                                    <td><span class=\"p-column-title\">{{item.pieza==null?'':item.pieza}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.finca.nombres | titlecase}} - (\n                                            {{item.finca.razosoci | titlecase}} ) </span></td>\n                                    <td>{{item.flor.nombre | titlecase }}</td>\n                                    <td>{{item.stems }}</td>\n                                    <td>{{item.tamanio.code }}</td>\n                                    <td>{{item.numtallos }}</td>\n                                    <td>{{item.totaltallos }}</td>\n                                    <td>{{item.price | currency}}</td>\n                                    <td>{{item.subtotal | currency}}</td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.boxes}}</span></td>\n                                    <td colspan=\"4\" class=\"total_table\">{{'Totales' | translate}}</td>\n                                    <td><span class=\"total_valor\">{{factura.tallos}}</span></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.total | currency: 'USD'}}</span></td>\n                                </tr>\n                            </ng-template>\n                        </p-table>\n                        <br>\n                        <div class=\"ui-g form-group ui-fluid\" *ngIf=\"items.length > 0\">\n                            <div class=\"ui-grid-col-7\"></div> \n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-success btn_enviar\" type=\"button\"\n                                    (click)=\"continue()\" [label]=\"'Guardar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton type=\"button\" icon=\"pi pi-arrow-right\" class=\"ui-button-help btn_enviar\"\n                                    [disabled]=\"validate\" [label]=\"'Finalizar' | translate\" type=\"submit\"></button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!--Table responsive-->\n                    <div class=\"ui-grid ui-grid-responsive ui-fluid\" class=\"data\" *ngFor=\"let item of items\">\n                        <div class=\"card card-w-title\">\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-12\">\n                                    <button pButton type=\"button\" class=\"ui-button-danger btn_card\" icon=\"pi pi-trash\"\n                                        (click)=\"deleteItem(item)\"></button>\n                                </div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Caja' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span\n                                        class=\"value\">{{item.caja==null?'HB':item.caja.code}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Finca' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.finca.nombres}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Variedad' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.flor.nombre}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Tallos' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.stems}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Tamaño' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.tamanio.code}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'N°. de tallos' | translate}}</span>\n                                </div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.tallos}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Total tallos' | translate}}</span>\n                                </div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.totaltallos}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Precio' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.price | currency}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Total' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.subtotal | currency}}</span></div>\n                            </div>\n                        </div>\n                    </div>\n                    <br>\n                    <div class=\"ui-grid ui-grid-responsive ui-fluid\" class=\"resumen\">\n                        <div class=\"ui-grid-row\">\n                            <div class=\"ui-grid-col-4\" style=\"text-align: right;font-weight: bold;font-size: 20px;\">\n                                {{'Total' | translate}}\n                            </div>\n                            <div class=\"ui-grid-col-8\" style=\"text-align: center;\"><span\n                                    class=\"total_valor\">{{factura?.total | currency: 'USD'}}</span></div>\n                        </div>\n                        <br>\n                        <div class=\"ui-grid ui-grid-responsive ui-fluid\">\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-10\"></div>\n                                <div class=\"ui-grid-col-2\">\n                                    <button pButton icon=\"pi pi-arrow-right\"\n                                        class=\"ui-button-help btn_enviar_responsive\"\n                                        [label]=\"'Enviar' | translate\"></button>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <!--Confirmar cuadro de dialogo confirm-->\n        <p-confirmDialog #cd header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\">\n            <p-footer>\n                <button type=\"button\" pButton icon=\"pi pi-times\" class=\"ui-button-danger\" [label]=\"'No' | translate\"\n                    (click)=\"cd.reject()\"></button>\n                <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-success\" [label]=\"'Si' | translate\"\n                    (click)=\"cd.accept()\"></button>\n            </p-footer>\n        </p-confirmDialog>\n\n        <p-dialog [header]=\"'Factura correcta' | translate\" [(visible)]=\"dialogVisible\" [style]=\"{width: '50vw'}\"\n            [baseZIndex]=\"10000\" [maximizable]=\"true\" [modal]=\"true\" [resizable]=\"true\">\n            <iframe [src]=\"url | safe\" *ngIf=\"dialogVisible\" width=\"100%\" height=\"500px\" style=\"border-width: 0PX;\">\n            </iframe>\n        </p-dialog>\n\n        <p-dialog [header]=\"'Editar item de factura' | translate\" [(visible)]=\"dialogVisibleEdit\" [style]=\"{width: '80vw'}\" [baseZIndex]=\"10000\" [maximizable]=\"true\"\n            [modal]=\"true\" [resizable]=\"true\">\n            <form [formGroup]=\"itemFormEdit\" (ngSubmit)=\"modificar()\">               \n                <div class=\"ui-g form-group ui-fluid\">\n                    <div class=\"card card-w-title\">\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Caja' | translate}}</label>\n                            <p-dropdown [options]=\"cajas\" optionLabel=\"name\" formControlName=\"caja\" [placeholder]=\"'Seleccione' | translate\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.caja.errors }\" class=\"form-control\"\n                                formControlName=\"caja\"></p-dropdown>\n                                <div *ngIf=\"submittedFacturaEdit && fv.caja.errors\" class=\"invalid-feedback\">\n                                    <div *ngIf=\"fv.caja.errors.required\">{{'Caja es requerido' | translate}}\n                                    </div>\n                                </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Pieza' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"pieza\" pKeyFilter=\"int\" placeholder=\"0\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.pieza.errors }\" class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.pieza.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.pieza.errors.required\">{{'Pieza es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-4\">\n                            <label class=\"lbl\">{{'Finca' | translate}}</label>\n                            <p-dropdown [options]=\"fincas\" optionLabel=\"nombres\" formControlName=\"finca\"\n                            [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.finca.errors }\" class=\"form-control\"></p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.finca.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.finca.errors.required\">{{'Finca es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-4\">\n                            <label class=\"lbl\">{{'Variedad' | translate}}</label>\n                            <p-dropdown [options]=\"flores\" optionLabel=\"flor.nombre\" formControlName=\"flores\"\n                            [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.flores.errors }\" class=\"form-control\">\n                            </p-dropdown> \n                            <div *ngIf=\"submittedFacturaEdit && fv.flores.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.flores.errors.required\">{{'Variedad es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'BCH' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"stem\" pKeyFilter=\"int\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.stem.errors }\" class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.stem.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.stem.errors.required\">{{'CM es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'CM' | translate}}</label>\n                            <p-dropdown [options]=\"tamanios\" optionLabel=\"name\" formControlName=\"tamanio\"\n                            [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.tamanio.errors }\" class=\"form-control\">\n                            </p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.tamanio.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.tamanio.errors.required\">{{'CM es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'No BCH' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"tallos\" (focusout)=\"calculateEdit()\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.tallos.errors }\" class=\"form-control\"\n                                pKeyFilter=\"int\">\n                                <div *ngIf=\"submittedFacturaEdit && fv.tallos.errors\" class=\"invalid-feedback\">\n                                    <div *ngIf=\"fv.tallos.errors.required\">{{'No BCH es requerido' | translate}}\n                                    </div>\n                                </div>\n                        </div>  \n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\" style=\"color: #ff4456;font-weight: bold;\">{{'No Tallos' |\n                                translate}}</label>\n                            <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                pTooltip=\"Este valor se auto calculara\" tooltipPosition=\"bottom\"\n                                style=\"font-size: 14px;font-weight: bold;background-color: #FFFAF0;\"\n                                formControlName=\"totaltallos\">\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Precio' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"precio\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.precio.errors }\" class=\"form-control\">                            \n                            <div *ngIf=\"submittedFacturaEdit && fv.precio.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.precio.errors.required\">{{'Precio es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div class=\"ui-g-12 ui-md-12\">\n                        <div class=\"ui-g-12 ui-md-10\"></div>\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-success\"\n                                    [label]=\"'Modificar' | translate\" (click)=\"modificar()\"></button>\n                        </div>                        \n                    </div>                    \n                </div>               \n            </form>\n        </p-dialog>\n\n    </div>\n\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport * as XLSX from \"xlsx\";\nimport { SelectItem } from \"primeng\";\nimport { MessageService, ConfirmationService } from \"primeng/api\";\nimport { client } from 'src/models/client';\nimport { delivery } from 'src/models/delivery';\nimport { mark } from 'src/models/mark';\nimport { finca } from 'src/models/finca';\nimport { flower } from 'src/models/flower';\nimport { Router } from '@angular/router';\nimport { ApisService } from 'src/services/apis.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { detail } from 'src/models/detail';\nimport { invoice } from 'src/models/invoice';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { UtilService } from 'src/services/util.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { user } from 'src/models/user';\nimport { environment } from 'src/environments/environment';\nimport { LoginComponent } from '../../login/login.component';\nimport { NullTemplateVisitor } from \"@angular/compiler\";\n\nexport interface Item {\n    caja: string;\n    pieza: number;\n    finca: string;\n    flor: string;\n    numtallos: number;\n    tamanio: string;\n    totaltallos: number;\n    stems: number;\n    price: number;\n    subtotal: number;\n    line: number;\n}\n\nexport interface Factura {\n    client: client;\n    city: string;\n    mark: string;\n    mawba: string;\n    freightforwarder: string;\n    bounch: string;\n    address: string;\n    items: Item[];\n    tallos: number;\n    total: number;\n    boxes: number;\n}\n\nexport interface Draft {\n    cabecera: {\n        cargcompId: number;\n        cargname: string;\n        claveacceso: string;\n        cliente: client;\n        codiesta: string;\n        contdocu: number;\n        estado: string;\n        fecha: string;\n        marcId: number;\n        mark: string;\n        markCiu: string;\n        markDir: string;\n        mawb: string;\n        numeboxes: number;\n        numetallos: number;\n        pdf: string;\n        puntemis: string;\n        secuencial: number;\n        subtotal1: number;\n        total: number;\n    },\n    detalles: Array<{\n        cantidad: number;\n        cantidadbch: number;\n        cantidadcajas: number;\n        farm: string;\n        farmId: number;\n        florId: number;\n        flower: string;\n        medidatallo: string;\n        preciounitario: number;\n        tallosxbch: number;\n        tipoempaque: string;\n        total: number;\n        line: number;\n    }>,\n    idObjTmp: string;\n}\n\nexport interface Draft {\n    cabecera: {\n        cargcompId: number;\n        cargname: string;\n        claveacceso: string;\n        cliente: client;\n        codiesta: string;\n        contdocu: number;\n        estado: string;\n        fecha: string;\n        marcId: number;\n        mark: string;\n        markCiu: string;\n        markDir: string;\n        mawb: string;\n        numeboxes: number;\n        numetallos: number;\n        pdf: string;\n        puntemis: string;\n        secuencial: number;\n        subtotal1: number;\n        total: number;\n    },\n    detalles: Array<{\n        cantidad: number;\n        cantidadbch: number;\n        cantidadcajas: number;\n        farm: string;\n        farmId: number;\n        florId: number;\n        flower: string;\n        medidatallo: string;\n        preciounitario: number;\n        tallosxbch: number;\n        tipoempaque: string;\n        total: number;\n        line: number;\n    }>,\n    idObjTmp: string;\n}\n\n@Component({\n    selector: \"app-factura\",\n    templateUrl: \"./factura.component.html\",\n    styleUrls: [\"./factura.component.css\"],\n    providers: [MessageService, ConfirmationService],\n})\nexport class FacturaComponent implements OnInit {\n\n\n    itemForm: FormGroup;\n    itemFormEdit: FormGroup;\n    facturaForm: FormGroup;\n    factura: Factura;\n    flowers: string[];\n    tamanios: any[];\n    selectedtamanio: any;\n    manual: boolean;\n    automatico: boolean;\n    items: Array<Item> = [];\n    files: any = [];\n    rows: any = [];\n    options: boolean;\n    itemSelect: number = 0;\n    addrow: boolean;\n    optionsFactura: SelectItem[];\n    select: string;\n    flores: Array<flower> = [];\n    fincas: Array<finca> = [];\n    clientes: Array<client> = [];\n    deliveries: Array<delivery> = [];\n    marks: Array<mark> = [];\n    cajas: any[] = [];\n    submitted = false;\n    submittedFactura = false;\n    submittedFacturaEdit = false;\n    selectclient: client;\n    invoice: invoice;\n    dialogVisible: boolean;\n    url: string;\n    validate: boolean;\n    smsvalidate: string;\n    user: user;\n    typerol: string;\n    invoicesdraft: Array<Draft> = [];\n    selectdraft: Draft;\n    step: number;\n    editInvoice: boolean;\n    idFactura: number;\n    selectmark: mark;\n    line: number;\n    dialogVisibleEdit: boolean;\n    selectItem: Item;\n    xlsx: string;\n    idObjTmp: string;\n    claveacceso: string;\n\n    constructor(\n        private messageService: MessageService,\n        private confirmationService: ConfirmationService,\n        private router: Router, private api: ApisService,\n        private formBuilder: FormBuilder, private utilService: UtilService,\n        private spinner: NgxSpinnerService\n    ) {\n\n\n        this.itemForm = this.formBuilder.group({\n            caja: [null],\n            pieza: [''],\n            finca: [null, Validators.required],\n            flores: [null, [Validators.required]],\n            stem: ['25', [Validators.required]],\n            tamanio: [null, Validators.required],\n            tallos: ['', Validators.required],\n            totaltallos: ['', Validators.required],\n            precio: ['', Validators.required]\n        });\n\n        this.itemFormEdit = this.formBuilder.group({\n            caja: [null],\n            pieza: [''],\n            finca: [null, Validators.required],\n            flores: [null, [Validators.required]],\n            stem: ['25', [Validators.required]],\n            tamanio: [null, Validators.required],\n            tallos: ['', Validators.required],\n            totaltallos: ['', Validators.required],\n            precio: ['', Validators.required],\n            line: [null]\n        });\n\n        this.facturaForm = this.formBuilder.group({\n            cliente: [null, Validators.required],\n            marca: [null, Validators.required],\n            mawba: ['', Validators.required],\n            empresacargo: [null, Validators.required]\n        });\n\n    }\n\n    async ngOnInit() {\n        this.user = JSON.parse(localStorage.getItem('user'));\n        this.typerol = localStorage.getItem('rolactive');\n        this.step = 1;\n        this.dialogVisible = false;\n        this.inicilizate();\n        await this.getinvoicesdraft();\n        await this.getServicios();\n    }\n\n    add() {\n        this.addrow = true;\n    }\n\n    async getinvoicesdraft() {\n        this.invoicesdraft = [];\n        this.utilService.isLoading.next(true);\n        await this.api.getinvoicesdraft(localStorage.getItem('token')).then(invoice => {            \n            if (invoice.headerApp.code == 200) {\n                this.invoicesdraft = invoice.data.invoices;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        this.utilService.isLoading.next(false);\n    }\n\n\n    inicilizate() {\n        this.idFactura = 0;\n        this.line = 0;\n        this.selectItem = null;\n        this.dialogVisibleEdit = false;\n        this.editInvoice = false;\n        this.manual = false;\n        this.automatico = false;\n        this.options = false;\n        this.addrow = false;\n        this.submitted = false;\n        this.submittedFactura = false;\n        this.submittedFacturaEdit = false;\n        this.select = \"MN\";\n        this.validate = false;\n        this.selectedtamanio = null;\n        this.selectdraft = null;\n        this.selectmark = null;\n        this.claveacceso=\"\";\n        this.idObjTmp=\"\";\n        this.factura = {\n            client: null,\n            city: \"\",\n            mark: \"\",\n            mawba: \"\",\n            freightforwarder: \"\",\n            bounch: \"\",\n            address: \"\",\n            items: null,\n            tallos: 0,\n            total: 0.0,\n            boxes: 0\n        };\n        this.tamanios = [\n            { name: \"CL\", code: \"CL\" },\n            { name: \"40\", code: \"40\" },\n            { name: \"50\", code: \"50\" },\n            { name: \"60\", code: \"60\" },\n            { name: \"70\", code: \"70\" },\n            { name: \"80\", code: \"80\" },\n            { name: \"90\", code: \"90\" },\n            { name: \"100\", code: \"100\" },\n            { name: \"110\", code: \"110\" },\n            { name: \"150\", code: \"150\" }\n        ];\n        this.cajas = [\n            { name: \"HB\", code: \"HB\" },\n            { name: \"QB\", code: \"QB\" },\n        ]\n    }\n\n    selectOptions(type: string) {\n        this.options = true;\n        this.files = [];\n        if (type == \"manual\") {\n            this.addrow = false;\n            this.manual = true;\n            this.automatico = false;\n            this.rows.push(this.rows.length + 1);\n            this.items = [];\n            this.factura.total = 0.0;\n            this.factura.tallos = 0;\n            this.validate = false;\n            this.smsvalidate = \"\";\n            this.line = 0;\n        } else {\n            this.automatico = true;\n            this.manual = false;\n            this.items = [];\n            this.factura.total = 0.0;\n            this.factura.tallos = 0;\n            this.validate = false;\n            this.smsvalidate = \"\";\n            this.line = 0;\n        }\n    }\n\n    async getClientbyName(name: string): Promise<any> {\n        let cliente: client = null;\n        await this.api.getObjectbyName('C', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                this.facturaForm.get('cliente').setValue(data.data.cliente);\n                this.selectclient = data.data.cliente;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return cliente;\n    }\n\n    uploadFile(event) {\n        const target: DataTransfer = <DataTransfer>event.target;\n\n        if (target.files.length !== 1) {\n            throw new Error(\"Cannot use multiple files\");\n        }\n        const reader: FileReader = new FileReader();\n        reader.readAsBinaryString(target.files[0]);\n        this.spinner.show();\n        reader.onload = async (e: any) => {\n            /* create workbook */\n            const binarystr: string = e.target.result;\n            const wb: XLSX.WorkBook = XLSX.read(binarystr, { type: \"binary\" });\n            /* selected the first sheet */\n            const wsname: string = wb.SheetNames[0];\n            const ws: XLSX.WorkSheet = wb.Sheets[wsname];\n            /* save data */\n            const data = XLSX.utils.sheet_to_json(ws, { raw: true }); // to get 2d array pass 2nd parameter as object {header: 1}            \n            this.utilService.isLoading.next(true);\n            let cont = 0;\n            for (var i = 7; i < data.length; i++) {\n                if (data[i][\"__EMPTY_2\"] != undefined) {\n\n                    const fincaTemp = await this.getFincabyName(data[i][\"__EMPTY_2\"]);\n                    if (fincaTemp == null) {\n                        this.messageService.add({ severity: 'error', summary: 'Rosa Mística', detail: 'La finca ' + data[i][\"__EMPTY_2\"] + ' no se encuentra ingresada en el sistema.' });\n                        this.validate = true;\n                        this.spinner.hide();\n                        this.smsvalidate = 'La finca ' + data[i][\"__EMPTY_2\"] + ' no se encuentra registrada en el sistema.'\n                        return\n                    }\n\n                    const flowerTemp = await this.getFlowerbyName(\n                        data[i][\n                        \"                                       ROSA MISTICA\"\n                        ]);\n                    if (flowerTemp == null) {\n                        this.messageService.add({\n                            severity: 'error', summary: 'Rosa Mística', detail: 'La flor ' + data[i][\n                                \"                                       ROSA MISTICA\"\n                            ] + ' no se encuentra en el sistema.'\n                        });\n                        this.validate = true;\n                        this.spinner.hide();\n                        this.smsvalidate = 'La flor ' + data[i][\n                            \"                                       ROSA MISTICA\"\n                        ] + ' no se encuentra registrada en el sistema.'\n                        return\n                    }\n                    let numtallos = this.getvalueCelda(data[i][\"__EMPTY_4\"], data[i][\"__EMPTY_5\"], data[i][\"__EMPTY_6\"], data[i][\"__EMPTY_7\"], data[i][\"__EMPTY_8\"],\n                        data[i][\"__EMPTY_9\"], data[i][\"__EMPTY_10\"], data[i][\"__EMPTY_11\"], data[i][\"__EMPTY_12\"]);\n\n                    let item = {\n                        caja: data[i][\"__EMPTY\"] == null ? '' : this.getTypeBox(data[i][\"__EMPTY\"]),\n                        pieza: data[i][\"__EMPTY_1\"],\n                        finca: fincaTemp,\n                        flor: flowerTemp,\n                        numtallos: parseInt(numtallos),\n                        claves: \"\",\n                        totaltallos: data[i][\"__EMPTY_3\"] * parseInt(numtallos),\n                        tamanio: this.selectedtamanio,\n                        stems: data[i][\"__EMPTY_3\"],\n                        price: data[i][\"__EMPTY_14\"],\n                        subtotal: data[i][\"__EMPTY_15\"],\n                        line: cont\n                    };\n                    this.factura.tallos += item.totaltallos;\n                    this.factura.total += item.subtotal;\n                    data[i][\"__EMPTY_1\"] == null ? '' : this.factura.boxes += parseInt(item.pieza);\n                    this.items.push(item);\n                    cont += 1;\n                }\n            }\n            this.utilService.isLoading.next(false);\n            this.spinner.hide();\n            this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'Se ha cargado todo el archivo correctamente.' });\n\n        };\n\n        this.files.push(target.files[0]);\n    }\n\n    getTypeBox(name: string): any {\n        let box: any;\n        if (name == undefined) {\n            box = { name: \"HB\", code: \"HB\" };\n        } else {\n            switch (name.trim()) {\n                case 'HB':\n                    box = { name: \"HB\", code: \"HB\" };\n                    break;\n                case 'QB':\n                    box = { name: \"QB\", code: \"QB\" };\n                    break;\n                default:\n                    console.log('No se encuentra la domensión de la caja');\n                    break;\n            }\n        }\n        return box;\n    }\n\n    getvalueCelda(clave: string, cuare_: string, cincue_: string, sesen_: string, seten_: string, ochen_: string, noven_: string,\n        cien_: string, ciendiez_: string): string {\n\n        if (clave != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == 'CL') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return clave;\n        }\n        if (cuare_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '40') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cuare_;\n        }\n        if (cincue_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '50') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cincue_;\n        }\n        if (sesen_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '60') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return sesen_;\n        }\n        if (seten_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '70') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return seten_;\n        }\n        if (ochen_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '80') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return ochen_;\n        }\n        if (noven_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '90') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return noven_;\n        }\n        if (cien_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '100') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cien_;\n        }\n        if (ciendiez_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '110') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return ciendiez_;\n        }\n    }\n\n    deleteAttachment(index) {\n        this.files.splice(index, 1);\n        this.items = [];\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.validate = false;\n        this.smsvalidate = \"\";\n        this.line = 0;\n    }\n\n    /**\n     * Function the save row of load item manual\n     */\n    saverow() {\n        this.submitted = true;\n\n        if (this.itemForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mística', detail: 'Los campos son obligatorios' });\n            return;\n        }\n\n        this.items.push({\n            caja: this.itemForm.get('caja').value,\n            pieza: this.itemForm.get('pieza').value,\n            finca: this.itemForm.get('finca').value,\n            flor: this.itemForm.get('flores').value.flor,\n            stems: this.itemForm.get('stem').value,\n            tamanio: this.itemForm.get('tamanio').value,\n            numtallos: this.itemForm.get('tallos').value,\n            totaltallos: this.itemForm.get('stem').value * this.itemForm.get('tallos').value,\n            price: this.itemForm.get('precio').value,\n            subtotal: (this.itemForm.get('stem').value * this.itemForm.get('tallos').value) * this.itemForm.get('precio').value,\n            line: this.selectdraft == null ? this.items.length : this.line + 1\n        });\n\n\n        this.selectdraft == null ? '' : this.line += 1;\n\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            item.pieza = item.pieza == null || item.pieza.toString() == '' ? null : item.pieza;\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            item.pieza != null ? this.factura.boxes += parseInt(item.pieza.toString()) : '';\n\n        });\n\n\n        this.addrow = false;\n        this.submitted = false;\n        this.itemForm.reset();\n        this.itemForm.get('stem').setValue('25');\n\n    }\n\n\n    cancel() {\n    }\n\n    hiddenCard(numero: number): boolean {\n        let state: boolean = true;\n        if (numero == this.itemSelect) {\n            state = false;\n        } else {\n            state = true;\n        }\n        return state;\n    }\n\n\n    cancelrow() {\n        this.addrow = false;\n        this.itemForm.reset();\n        this.submitted = false;\n    }\n\n    deleteItem(item: Item) {\n        if (this.items.length == 1 && this.editInvoice) {\n            this.messageService.add({ severity: 'warn', summary: 'Rosa Mística', detail: 'No se puede eliminar el item ya que la factura necesita por lo menos un item' });\n            return;\n        }\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n        this.items = this.items.filter((element) => element != item);\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.stems.toString());\n            item.pieza == null ? '' : this.factura.boxes += parseInt(item.pieza.toString())\n        });\n\n    }\n\n    async editItem(item: Item) {\n        let finca = await this.fincas.filter(data => {\n            if (data.entiId == item.finca['entiId']) {\n                return data;\n            }\n        });\n        let flor = await this.flores.filter(data => {\n            if (data['flor'].florId === item.flor['florId']) {\n                return data;\n            }\n        });\n        this.dialogVisibleEdit = true;\n        this.itemFormEdit.get('caja').setValue(item.caja);\n        this.itemFormEdit.get('pieza').setValue(item.pieza);\n        this.itemFormEdit.get('finca').setValue(finca[0]);\n        this.itemFormEdit.get('flores').setValue(flor[0]);\n        this.itemFormEdit.get('stem').setValue(item.stems);\n        this.itemFormEdit.get('tamanio').setValue(item.tamanio);\n        this.itemFormEdit.get('tallos').setValue(item.numtallos);\n        this.itemFormEdit.get('totaltallos').setValue(item.totaltallos);\n        this.itemFormEdit.get('precio').setValue(item.price);\n        this.itemFormEdit.get('line').setValue(item.line);\n    }\n\n    onOptionsMarkSelected() {\n        this.selectmark = this.facturaForm.get('marca').value;\n    }\n\n    async onOptionsSelected() {\n        this.marks = [];\n        this.selectclient = this.facturaForm.get('cliente').value;\n        this.selectclient.paiscity = this.selectclient.pais + ' - ' + this.selectclient.ciudad;\n        await this.api.getmarks(this.facturaForm.get('cliente').value.entiId, localStorage.getItem(\"token\")).then(mark => {\n            if (mark.headerApp.code == 200) {\n                let temp: mark[] = [];\n                mark.data.marks.forEach(element => {\n                    if (element.estado == 'A')\n                        temp.push(element);\n                });\n                this.marks = temp;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n    }\n\n    modificar() {\n        this.submittedFacturaEdit = true;\n        if (this.itemFormEdit.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mística', detail: 'Los campos son obligatorios' });\n            return;\n        }\n        this.items.forEach(item => {\n            if (item.line == this.itemFormEdit.get('line').value) {\n                item.caja = this.itemFormEdit.get('caja').value;\n                item.pieza = this.itemFormEdit.get('pieza').value;\n                item.finca = this.itemFormEdit.get('finca').value;\n                item.flor = this.itemFormEdit.get('flores').value;\n                item.stems = this.itemFormEdit.get('stem').value;\n                item.tamanio = this.itemFormEdit.get('tamanio').value;\n                item.numtallos = this.itemFormEdit.get('tallos').value;\n                item.totaltallos = this.itemFormEdit.get('totaltallos').value;\n                item.price = this.itemFormEdit.get('precio').value;\n                item.subtotal = this.itemFormEdit.get('totaltallos').value * this.itemFormEdit.get('precio').value;\n            }\n        })\n\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            item.pieza != null ? this.factura.boxes += parseInt(item.pieza.toString()) : '';\n\n        });\n\n        this.itemFormEdit.reset();\n        this.dialogVisibleEdit = false;\n        this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'Item actualizado correctamente' });\n\n\n    }\n\n    /**\n     * Function the save the invoice\n     */\n    save() {\n\n        this.submittedFactura = true;\n        if (this.facturaForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mística', detail: 'Los campos para generar la factura son obligatorios.' });\n            return;\n        }\n        this.factura.items = this.items;\n        let head = {\n            codiesta: '001',\n            puntemis: '001',\n            clieId: this.facturaForm.get('cliente').value.entiId,\n            cargcompId: this.facturaForm.get('empresacargo').value.entiId,\n            marcId: this.facturaForm.get('marca').value.marcId,\n            mawb: this.facturaForm.get('mawba').value,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: this.factura.total,\n            observacion: '-',\n            numetallos: this.factura.tallos,\n            numeboxes: this.factura.boxes,\n            estado: \"T\",\n            fecha: this.selectdraft != null ? this.selectdraft.cabecera.fecha + '.000' : null,\n            claveacceso: this.selectdraft != null ? this.selectdraft.cabecera.claveacceso : null,\n            secuencial: this.selectdraft != null ? this.selectdraft.cabecera.secuencial : null,\n            contdocu: this.selectdraft != null ? this.selectdraft.cabecera.contdocu : 0,\n        }\n\n        let detail: detail[] = [];\n        this.factura.items.forEach(data => {\n            detail.push({\n                tipoempaque: data.caja == undefined ? \"\" : data.caja['code'],\n                cantidadcajas: data.pieza == undefined ? \"\" : String(data.pieza),\n                tallosxbch: data.stems,\n                medidatallo: data.tamanio['code'],\n                cantidadbch: data.numtallos,\n                cantidad: data.totaltallos,\n                preciounitario: data.price,\n                total: data.subtotal,\n                farmId: data.finca['entiId'],\n                florId: data.flor['florId'] == undefined ? data.flor['flor'].florId : data.flor['florId'],\n                line: data.line\n            })\n        })\n\n\n        let invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: this.selectdraft == null ? null : this.selectdraft.idObjTmp,\n            fromTemp: this.selectdraft == null ? false : true\n        };\n\n        if (!this.editInvoice && this.idObjTmp != undefined) {            \n            invoice.idObjTmp = this.idObjTmp;\n            invoice.fromTemp = true;\n            invoice.cabecera['claveacceso'] = this.claveacceso;\n        } else if(this.editInvoice && (this.idObjTmp != undefined || invoice.idObjTmp != undefined)){\n            invoice.fromTemp = true;\n        }else{\n            invoice.fromTemp = false;\n        }\n\n        this.confirmationService.confirm({\n            message: \"Are you sure to send the invoice?\",\n            accept: async () => {\n                this.spinner.show();\n                await this.api.registerInvoice(invoice, localStorage.getItem(\"token\")).then(data => {                   \n                    this.spinner.hide();\n                    if (data.headerApp.code == 200) {\n                        this.dialogVisible = true;\n                        this.itemForm.get('stem').setValue('25');\n                        this.url = environment.url + data.data.invoice.pdf;\n                        this.inicilizate();\n                        this.getinvoicesdraft();\n                        this.invoice = null;\n                        this.facturaForm.reset();\n                        this.itemForm.reset();\n                        this.selectclient = null;\n                        this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'La factura se ha registrado correctamente' });\n                    }\n                }).catch(err => {\n                    if (err.error.code == 401) {\n                        localStorage.clear();\n                        this.router.navigate(['/login']);\n                    }\n\n                });\n            },\n        });\n    }\n\n    async getFlowerbyName(name: string): Promise<any> {\n        let flower: flower = null;\n        await this.api.getflowerbyname(name, localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                flower = data.data.flower;\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return flower;\n    }\n\n    async getFincabyName(name: string): Promise<any> {\n        let finca: finca = null;\n        await this.api.getObjectbyName('F', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                finca = data.data.farm;\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return finca;\n    }\n\n\n    /**\n     * Function the search services client, flowers, deliveries, fincas\n     */\n    async getServicios() {\n        await this.api.getclients(localStorage.getItem(\"token\")).then(cliente => {\n            this.clientes = [];\n            if (cliente.headerApp.code === 200) {\n                cliente.data.clientes.forEach(data => {\n                    if (data.cliente.estado == 'A') {\n                        this.clientes.push(data.cliente);\n                    }\n                });\n            }\n\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getfinca(localStorage.getItem(\"token\")).then(finca => {\n            this.fincas = [];\n            if (finca.headerApp.code === 200) {\n                finca.data.farms.forEach(finca => {\n                    if (finca.estado == 'A') {\n                        this.fincas.push(finca);\n                    }\n                });\n            }\n\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getflowers(localStorage.getItem(\"token\")).then(flor => {\n            this.flores = [];\n            if (flor.headerApp.code === 200) {\n                flor.data.flowers.forEach(flor => {\n                    if (flor.flor.estado == 'A') {\n                        this.flores.push(flor);\n                    }\n                });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n\n        await this.api.getdeliveries(localStorage.getItem(\"token\")).then(delivery => {\n            this.deliveries = [];\n            if (delivery.headerApp.code === 200) {\n                delivery.data.cargocompanies.forEach(delivery => {\n                    if (delivery.estado == 'A') {\n                        this.deliveries.push(delivery);\n                    }\n                });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n    }\n\n    calculate() {\n        this.itemForm.get('totaltallos').setValue(this.itemForm.get('stem').value * this.itemForm.get('tallos').value);\n    }\n\n    calculateEdit() {\n        this.itemFormEdit.get('totaltallos').setValue(this.itemFormEdit.get('stem').value * this.itemFormEdit.get('tallos').value);\n    }\n\n    async saveeraser() {\n        this.submittedFactura = true;\n        if (this.facturaForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mística', detail: 'Los campos para generar la factura son obligatorios.' });\n            return;\n        }\n        await this.getInvoice();\n        this.spinner.show();\n        await this.api.registerInvoiceDraft(this.invoice, localStorage.getItem(\"token\")).then(async (data) => {\n            this.spinner.hide();\n            if (data.headerApp.code == 200) {\n                await this.inicilizate();\n                await this.getinvoicesdraft();\n                this.invoice = null;\n                this.facturaForm.reset();\n                this.itemForm.reset();\n                this.selectclient = null;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'El borrador de la factura se guardo correctemante' });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n\n        });\n\n\n    }\n\n    facturar() {\n        this.step = 2;\n    }\n\n    async back() {\n        await this.getinvoicesdraft();\n        this.step = 1;\n        this.items = [];\n        this.selectclient = null;\n        this.facturaForm.reset();\n        this.factura.tallos = 0;\n        this.factura.total = 0;\n        this.factura.boxes = 0;\n        this.editInvoice = false;\n        this.selectdraft = null;\n    }\n\n    async viewdraft(draft: Draft) {\n        let head = {\n            codiesta: draft.cabecera.codiesta,\n            puntemis: draft.cabecera.puntemis,\n            clieId: draft.cabecera.cliente.entiId,\n            cargcompId: draft.cabecera.cargcompId,\n            marcId: draft.cabecera.marcId,\n            mawb: draft.cabecera.mawb,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: draft.cabecera.total,\n            observacion: '-',\n            numetallos: draft.cabecera.numetallos,\n            numeboxes: draft.cabecera.numeboxes,\n            estado: \"T\",\n            claveacceso: draft.cabecera.claveacceso,\n            secuencial: draft.cabecera.secuencial,\n            contdocu: draft.cabecera.contdocu,\n        }\n\n        let detail: detail[] = [];\n        draft.detalles.forEach(data => {\n            detail.push({\n                tipoempaque: data.tipoempaque == undefined ? \"\" : data.tipoempaque,\n                cantidadcajas: data.cantidadcajas == undefined ? \"\" : String(data.cantidadcajas),\n                tallosxbch: data.tallosxbch,\n                medidatallo: data.medidatallo,\n                cantidadbch: data.cantidadbch,\n                cantidad: data.cantidad,\n                preciounitario: data.preciounitario,\n                total: data.total,\n                farmId: data.farmId,\n                florId: data.florId,\n                line: data.line\n            })\n        })\n\n        let invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: draft.idObjTmp == null ? null : draft.idObjTmp\n        };\n        this.utilService.isLoading.next(true);\n        await this.api.generatePdfInvoiceDraft(invoice, localStorage.getItem('token')).then(data => {\n            if (data.headerApp.code == 200) {\n                location.href = environment.url + data.data.xls;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'El archivo se ha descargado correctamente' });\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        this.utilService.isLoading.next(false);\n    }\n\n    finish(draft: Draft) {\n    }\n\n    async edit(draft: Draft) {\n\n        this.editInvoice = true;\n        this.selectdraft = draft;\n        this.step = 2;\n        this.idFactura = draft.cabecera.secuencial;\n        this.utilService.isLoading.next(true);\n        this.facturaForm.get('cliente').setValue(draft.cabecera.cliente);\n        this.selectclient = draft.cabecera.cliente;\n        const mark = await this.getMarcbyName(draft.cabecera.cliente.entiId, draft.cabecera.mark);\n        this.facturaForm.get('marca').setValue(mark);\n        this.selectmark = mark;\n        const empresacargo = await this.getEmpresaCargabyName(draft.cabecera.cargname);\n        this.facturaForm.get('empresacargo').setValue(empresacargo);\n        this.facturaForm.get('mawba').setValue(draft.cabecera.mawb);\n\n        this.selectOptions('manual');\n        this.items = [];\n        await Promise.all(draft.detalles.map(async (item) => {\n            let tamanio = await this.tamanios.filter(tamanio => tamanio.code == item.medidatallo);\n            let caja = await this.cajas.filter(caja => caja.code == item.tipoempaque);\n            let farm = await this.getFincabyName(item.farm);\n            let flower = await this.getFlowerbyName(item.flower);\n            this.items.push({\n                caja: caja[0] == null ? '' : caja[0],\n                pieza: item.cantidadcajas,\n                finca: farm,\n                flor: flower,\n                stems: item.tallosxbch,\n                tamanio: tamanio[0],\n                numtallos: item.cantidadbch,\n                totaltallos: item.cantidad,\n                price: item.preciounitario,\n                subtotal: item.total,\n                line: item['line']\n            });\n        }))\n\n        this.items.sort(function (a, b) {\n            if (a.line > b.line) {\n                return 1;\n            }\n            if (a.line < b.line) {\n                return -1;\n            }\n            return 0;\n        });\n\n        this.line = this.items[this.items.length - 1].line;\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            this.factura.boxes += item.pieza != null ? parseInt(item.pieza.toString()) : 0;\n        });\n\n\n        this.utilService.isLoading.next(false);\n    }\n\n\n    async viewXlsx() {\n        await this.getInvoice();\n        this.utilService.isLoading.next(true);\n        await this.api.generatePdfInvoiceDraft(this.invoice, localStorage.getItem('token')).then(data => {\n            if (data.headerApp.code == 200) {\n                location.href = environment.url + data.data.xls;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'El archivo se ha descargado correctamente' });\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        this.utilService.isLoading.next(false);\n    }\n\n    async getInvoice() {\n        this.factura.items = this.items;\n        let head = {\n            codiesta: '001',\n            puntemis: '001',\n            clieId: this.facturaForm.get('cliente').value.entiId,\n            cargcompId: this.facturaForm.get('empresacargo').value.entiId,\n            marcId: this.facturaForm.get('marca').value.marcId,\n            mawb: this.facturaForm.get('mawba').value,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: this.factura.total,\n            observacion: '-',\n            numetallos: this.factura.tallos,\n            numeboxes: this.factura.boxes,\n            estado: \"B\",\n            fecha: this.selectdraft == null ? null : this.selectdraft.cabecera.fecha + '.000',\n            claveacceso: this.selectdraft != null ? this.selectdraft.cabecera.claveacceso : null,\n            secuencial: this.selectdraft != null ? this.selectdraft.cabecera.secuencial : null,\n            contdocu: this.selectdraft != null ? this.selectdraft.cabecera.contdocu : 0,\n        }\n\n        let detail: detail[] = [];\n        await this.factura.items.forEach(async (data) => {\n            await detail.push({\n                tipoempaque: data.caja == undefined ? \"\" : data.caja['code'],\n                cantidadcajas: data.pieza == undefined ? \"\" : String(data.pieza),\n                tallosxbch: data.stems,\n                medidatallo: data.tamanio['code'],\n                cantidadbch: data.numtallos,\n                cantidad: data.totaltallos,\n                preciounitario: data.price,\n                total: data.subtotal,\n                farmId: data.finca['entiId'],\n                florId: data.flor['florId'] == undefined ? data.flor['flor'].florId : data.flor['florId'],\n                line: data.line\n            })\n        })\n        this.invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: this.selectdraft == null ? null : this.selectdraft.idObjTmp\n        };\n\n\n    }\n\n    async continue() {\n        await this.getInvoice();\n        if (!this.editInvoice && this.idObjTmp != \"\") {\n            this.invoice.idObjTmp = this.idObjTmp;\n        }\n        if (!this.editInvoice && this.claveacceso != \"\") {\n            this.invoice.cabecera['claveacceso'] = this.claveacceso;\n        }    \n        this.spinner.show();\n        await this.api.registerInvoiceDraft(this.invoice, localStorage.getItem(\"token\")).then(async (data) => {           \n            this.spinner.hide();            \n            if (data.headerApp.code == 200) {\n                await this.getinvoicesdraft();\n                this.step = 2;\n                this.idObjTmp = data.data.invoice.idObjTmp;\n                this.claveacceso = data.data.invoice.claveacceso;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'Se guardo el borrador para seguir editando' });\n            }\n        }).catch(err => {            \n            this.spinner.hide();\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        });\n\n    }\n\n    async getMarcbyName(entiId: number, name: string): Promise<any> {\n        let marc: mark = null;\n        await this.api.getMarcbyName(entiId, name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                marc = data.data.mark;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return marc;\n    }\n\n    async getEmpresaCargabyName(name: string): Promise<any> {\n        let delivery: delivery = null;\n        await this.api.getObjectbyName('Z', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                delivery = data.data.cargocompanie;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return delivery;\n    }\n\n    get f() {\n        return this.itemForm.controls;\n    }\n    get fr() {\n        return this.facturaForm.controls;\n    }\n\n    get fv() {\n        return this.itemFormEdit.controls;\n    }\n\n}\n","import { FacturaComponent } from './factura.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FacturaRoutingModule } from './factura-routing.module';\nimport { InputTextModule, PanelModule, AccordionModule, InputTextareaModule, RadioButtonModule, ButtonModule, AutoCompleteModule, DropdownModule, TableModule, ToolbarModule, CardModule, SplitButtonModule, SelectButtonModule, ToastModule, ConfirmDialogModule, KeyFilter, KeyFilterModule, DialogModule, TooltipModule } from 'primeng';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from 'src/app/shared.module';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    declarations: [FacturaComponent],\n    imports: [\n        CommonModule,\n        FacturaRoutingModule,\n        SharedModule,\n        InputTextModule,\n        PanelModule,\n        AccordionModule,\n        InputTextareaModule,\n        RadioButtonModule,\n        ButtonModule,\n        FormsModule,\n        AutoCompleteModule,\n        DropdownModule,\n        TableModule,\n        ToolbarModule,\n        CardModule,\n        ReactiveFormsModule,\n        SplitButtonModule,\n        SelectButtonModule,\n        ToastModule,\n        ConfirmDialogModule,\n        KeyFilterModule,\n        DialogModule,\n        NgxSpinnerModule,\n        TranslateModule,\n        TooltipModule\n    ]   \n}) \nexport class FacturaModule { }\n"],"sourceRoot":"webpack:///"}