{"version":3,"sources":["./node_modules/primeng/toolbar/primeng-toolbar.d.ts.Toolbar.html","./src/app/pages/layout/miperfil/miperfil-routing.module.ts","./src/app/pages/layout/miperfil/miperfil.component.html","./src/app/pages/layout/miperfil/miperfil.component.ts","./src/app/pages/layout/miperfil/miperfil.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6FACQ,+4BAAgJ,GAC5I,0DAAY,iDAD4F,mBAAoB,aAA3H,wFAAoF,EAAzF,YAAgJ,EAApC,SAAoB,EAA3H,SAAoF,GAAC,mBAAiB,QAA3G,YAAgJ,EAAtD,SAAiB;;;;;;;;;;;;;;;;ACDnH;AAAA;AAAA;AAAyD;AAIzD,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,qEAAiB;KACzC;CACJ,CAAC;AAMK,MAAM,qBAAqB;CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uGCTrB,qTACuD,YADiB;;wBAAoB;MAA5F,ySACuD,yBAAf,sBAAc,EADE,yBAAe,EAClD,6BAAkB,EADvC,YACuD,EAAf,SAAc,EADE,SAAe,EAClD,SAAkB;uGACvC,sTACyD,YAArD;;wBAAkB;MADtB,ySACyD,yBAAf,sBAAc,EADA,0BAAgB,EACjD,6BAAkB,EADzC,YACyD,EAAf,SAAc,EADA,SAAgB,EACjD,SAAkB;uGACzC,qTAC0D,YAAtD;;wBAAkB;MADtB,ySAC0D,yBAAf,sBAAc,EADD,wBAAc,EAC/C,8BAAmB,EAD1C,YAC0D,EAAf,SAAc,EADD,SAAc,EAC/C,SAAmB;uGAO1C,8NAA4F,YAAlD;;wBAA8B;MAAxE,wBAA4F;uGAjB5G,0IAAkB,KACd,mJAA6B,KAC7B,oJAA6B,KACzB,+gBAAW,IACP,qJAAkC,KAC9B,0YACuD,IAAS,gFAChE,iZACyD,IAAS,gFAClE,iZAC0D,IAGlE,olBAAS,MACT,6JAAqC,KAEjC,8KAAiD,KAC7C,2YAA4F,IAC5F,uHAAI,KACJ,uMAA4I,KAEhJ,6IAAqB,KACjB,mJAA4B,gGAAc,MAC1C;;;;;;;;;;;;;;wBACkE;MAA3C;;wBAAsB;MAD7C,uwEACkE,IAClE,uHAAM,KAEV,6IAAqB,KACjB,yIAAkB,oFAAO,MACzB;;;;;;;;;;;;;;wBAC4C;MAD0B;;wBAAuB;MAA7F,sgEAC4C,IAC5C,uHAAM,KAEV,6IAAqB,KACjB,6IAAsB,sFAAS,MAC/B;;;;;;;;;;;;;;wBACoD;MADkB;;wBAA2B;MAAjG,sgEACoD,IACpD,uHAAM,KAEV,6IAAqB,KACjB,0IAAmB,kFAAK,MACxB;;;;;;;;;;;;;;wBAC8B;MADmB;;wBAAwB;MAAzE,gjDAC8B,IAC9B,uHAAM,KAEV,6IAAqB,KACjB,0IAAmB,qFAAQ,MAC3B;;;;;;;;;;;;;;wBAC8B;MADmB;;wBAA2B;MAA5E,gjDAC8B,IAC9B,uHAAM,KAEV,6IAAqB,KACjB,0IAAmB,kFAAK,MACxB,mJAA2B,KACvB;;;;;;;;;;;;;;;;;;;;;;;wBAC+B;MAA3B;;wBAAwB;MAD5B,2gEAC+B,IAC/B,mOAAkF,YAA9B;;wBAA6B;MAAjF,4PAAkF,IAKlG,qJAA6B,kDAvDb,oBAAgB,UADpB,YACuD,EAAnD,SAAgB,GACqD,oBAAgB,UAAzF,aACyD,EADgB,SAAgB,GAElB,mBAAe,UAAtF,aAC0D,EADa,SAAe,GAI9F,aAAS,GAIwE,oBAAgB,UAAzF,aAA4F,EAAnB,SAAgB,GAOlC,mBAAQ,EAD/D,aACkE,EAAX,UAAQ,GADS,qBAAc,EAAtF,aACkE,EADM,UAAc,GAAxD,iCAAqB,EAC5B,oBAAsB,WAD7C,aACkE,EADpC,UAAqB,EAC5B,UAAsB,GAD7C,aACkE,GAM9D,sBAAe,EADnB,aAC4C,EAAxC,UAAe,GAAC,uBAAW,EADuC,oBAAuB,YAA7F,aAC4C,EAAxB,UAAW,EADuC,UAAuB,GAA7F,aAC4C,GAMxC,sBAAe,EADnB,aACoD,EAAhD,UAAe,GAAC,2BAAe,EADmC,oBAA2B,gBAAjG,aACoD,EAAhC,UAAe,EADmC,UAA2B,GAAjG,aACoD,GAMhD,wBAAY,EADiC,oBAAwB,aAAzE,aAC8B,EAA1B,UAAY,EADiC,UAAwB,GAAzE,aAC8B,GAM1B,wBAAY,EADiC,oBAA2B,gBAA5E,aAC8B,EAA1B,UAAY,EADiC,UAA2B,GAA5E,aAC8B,GAMgB,uBAAe,EAAzD,aAC+B,EADW,WAAe,GACrD,qBAAwB,aAD5B,aAC+B,EAA3B,WAAwB,GADwC,qBAAwB,UAA5F,aAC+B,EADqC,WAAwB,GAEtD,qBAAa,OAAnD,aAAkF,EAA5C,WAAa,mDArClD,wFAA4E,cAAjF,aAA4I,EAAvI,SAA4E,GAIjF,0uCACkE,IAKpC,oBAAoB,UAAlD,0+BAA8B,UAAoB,EAAlD,0JAC4C,IAKd,oBAAoB,UAAlD,0+BAA8B,UAAoB,EAAlD,0JACoD,IAKsB,oBAAoB,UAA9F,m0BAA0E,UAAoB,EAA9F,8IAC8B,IAK+C,oBAAoB,UAAjG,m0BAA6E,UAAoB,EAAjG,8IAC8B,IAMmE,oBAAoB,UAAjH,2+BAA6F,UAAoB,EAAjH,2JAC+B;;;;;;;;;;;;;;;;;;;;;;ACvDiB;AAST;AAQpD,MAAM,iBAAiB;IAc1B,YAAoB,EAAe,EAAU,GAAgB,EAAU,MAAc,EAAU,WAAwB,EAC3G,cAA8B;QADtB,OAAE,GAAF,EAAE,CAAa;QAAU,QAAG,GAAH,GAAG,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC3G,mBAAc,GAAd,cAAc,CAAgB;QAT1C,YAAO,GAAY,IAAI,CAAC;QAUpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC7B,cAAc,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YACrE,IAAI,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACnC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ;oBAChC,yDAAU,CAAC,OAAO,CAAC,uIAAuI,CAAC,CAAC,CAAC;SAChK,CAAC,CAAC;IACP,CAAC;IACD,QAAQ;QACJ,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/D,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9D,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5D,CAAC;IAED,iBAAiB;QACb,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC;SAC3B;aAAM;YACH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,IAAI,GAAG,iBAAiB,CAAC;SACjC;IACL,CAAC;IAED,IAAI,cAAc;QACd,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAClD,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IAED,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC5C,CAAC;IAED,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACzC,CAAC;IAID,OAAO,CAAC,KAAK;QACT,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;YAClB,OAAO;QACX,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAE7B,IAAI,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE;YACpC,IAAI,CAAC,OAAO,GAAG,4BAA4B,CAAC;YAC5C,OAAO;SACV;QACD,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAC9B,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC9B,MAAM,CAAC,MAAM,GAAG,CAAC,MAAM,EAAE,EAAE;YACvB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC/C,CAAC;IACL,CAAC;IAED,MAAM;QACF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,MAAM;QACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAEK,QAAQ;;YACV,IAAI,IAAI,GAAG;gBACP,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAC7B,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;gBACvB,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG;gBAClB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAC5B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;gBACtB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;gBAC5B,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACnC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;gBACvB,KAAK,EAAE,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;gBACzE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;gBACxB,QAAQ,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;aACrC;YAED,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtC,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAO,IAAI,EAAE,EAAE,CAAC;gBAEhF,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,GAAG,EAAE;oBAC5B,MAAM,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;oBACtC,IAAI,MAAM,GAAY,EAAE,CAAC;oBACzB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;wBAC9B,IAAI,GAAG,GAAG;4BACN,EAAE,EAAE,OAAO,CAAC,EAAE;4BACd,GAAG,EAAE,OAAO,CAAC,GAAG;4BAChB,OAAO,EAAE,OAAO,CAAC,OAAO;yBAC3B;wBACD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACrB,CAAC,CAAC,CAAC;oBACH,IAAI,OAAO,GAAG;wBACV,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG;wBAClC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM;wBACxC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ;wBAC5C,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ;qBAC/C;oBACD,IAAI,IAAI,GAAS;wBACb,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM;wBAChC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG;wBAC1B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK;wBAC9B,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM;wBAC/B,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO;wBAC/B,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS;wBACrC,KAAK,EAAE,MAAM;wBACb,KAAK,EAAE,wEAAW,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK;wBAChD,OAAO,EAAE,OAAO;wBAChB,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;wBACpC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ;qBACvC;oBACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,MAAM,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC9D,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,wCAAwC,EAAE,CAAC,CAAC;oBAC5H,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;oBAClB,IAAI,CAAC,OAAO,GAAC,KAAK,CAAC;oBACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;iBACzD;qBAAI;oBACD,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,cAAc,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC;iBAC3G;YAEL,CAAC,EAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;gBACX,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,EAAE;oBACvB,YAAY,CAAC,KAAK,EAAE,CAAC;oBACrB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;iBACpC;YAEL,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE3C,CAAC;KAAA;CAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJD;AAAA;AAAO,MAAM,cAAc;CAAI","file":"miperfil-miperfil-module-ngfactory-es2015.js","sourcesContent":["\n        <div [ngClass]=\"'ui-toolbar ui-widget ui-widget-header ui-corner-all ui-helper-clearfix'\" [ngStyle]=\"style\" [class]=\"styleClass\" role=\"toolbar\">\n            <ng-content></ng-content>\n        </div>\n    ","import { MiperfilComponent } from './miperfil.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: '', component: MiperfilComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class MiperfilRoutingModule {}\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12 ui-lg-3\"></div>\n    <div class=\"ui-g-12 ui-lg-6\">\n        <p-toolbar>\n            <div class=\"p-toolbar-group-left\">\n                <button pButton class=\"ui-button-success\" type=\"button\" label=\"Guardar\" (click)=\"sendData()\"\n                    *ngIf=\"!enabled\" icon=\"pi pi-check\" iconPos=\"left\"></button> &nbsp;\n                <button pButton class=\"ui-button-warning\" type=\"button\" label=\"Cancelar\" *ngIf=\"!enabled\"\n                    (click)=\"cancel()\" icon=\"pi pi-times\" iconPos=\"left\"></button> &nbsp;\n                <button pButton class=\"ui-button-primary\" type=\"button\" label=\"Editar\" *ngIf=\"enabled\"\n                    (click)=\"modify()\" icon=\"pi pi-pencil\" iconPos=\"left\"></button>\n            </div>\n        </p-toolbar>\n        <p-toast></p-toast>\n        <div class=\"card no-margin ui-fluid\">\n\n            <div class=\"p-field\" style=\"text-align: center;\"> \n                <input #file type=\"file\" accept='image/*' (change)=\"preview(file.files)\" *ngIf=\"!enabled\" />\n                <br>\n                <img [src]=\"user.photo==null ? '../../../../assets/images/perfil.png':user.photo\" height=\"250\" onError=\"this.src='assets/images/user2.png'\">\n            </div>\n            <div class=\"p-field\">\n                <label for=\"identification\">Identificación</label>\n                <input type=\"text\" pInputText name=\"identification\" id=\"identification\" minlength=\"10\"\n                    autocomplete=\"off\" [(ngModel)]=\"user.dni\" readonly required />\n                <br />\n            </div>\n            <div class=\"p-field\">\n                <label for=\"name\">Nombres</label>\n                <input type=\"text\" pInputText [readonly]=\"enabled\" autocomplete=\"off\" [(ngModel)]=\"user.name\"\n                    maxlength=\"100\" name=\"name\" id=\"name\" />\n                <br />\n            </div>\n            <div class=\"p-field\">\n                <label for=\"lastname\">Apellidos</label>\n                <input type=\"text\" pInputText [readonly]=\"enabled\" autocomplete=\"off\" [(ngModel)]=\"user.lastname\"\n                    maxlength=\"100\" name=\"lastname\" id=\"lastname\" />\n                <br />\n            </div>\n            <div class=\"p-field\">\n                <label for=\"email\">Email</label>\n                <input type=\"text\" pInputText autocomplete=\"off\" [(ngModel)]=\"user.email\" [readonly]=\"enabled\"\n                    name=\"email\" id=\"email\" />\n                <br />\n            </div>\n            <div class=\"p-field\">\n                <label for=\"clave\">Nickname</label>\n                <input type=\"text\" pInputText autocomplete=\"off\" [(ngModel)]=\"user.nickname\" [readonly]=\"enabled\"\n                    name=\"clave\" id=\"clave\" />\n                <br />\n            </div>\n            <div class=\"p-field\">\n                <label for=\"clave\">Clave</label>\n                <div class=\"ui-inputgroup\">\n                    <input type=\"password\" autocomplete=\"off\" maxlength=\"100\" pPassword [showPassword]=\"looking\" [readonly]=\"enabled\"\n                        [(ngModel)]=\"user.clave\" />\n                    <button type=\"button\" pButton pRipple [icon]=\"icon\" (click)=\"changelookpasswor()\"></button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"ui-g-12 ui-lg-3\"></div>\n</div>","import { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { user } from './../../../../models/user';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Component, OnInit } from '@angular/core';\nimport { ApisService } from 'src/services/apis.service';\nimport { Router } from '@angular/router';\nimport { UtilService } from 'src/services/util.service';\nimport { MessageService } from 'primeng';\nimport { roles } from 'src/models/roles';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n    selector: 'app-miperfil',\n    templateUrl: './miperfil.component.html',\n    styleUrls: ['./miperfil.component.css'],\n    providers: [TranslateService, MessageService],\n})\nexport class MiperfilComponent implements OnInit {\n\n    user: user;\n    public imagePath;\n    imgURL: any;\n    public message: string;\n    enabled: boolean = true;\n    profileForm: FormGroup;\n    email_: string;\n    texto: string;\n    looking: boolean;\n    icon: string;\n    urlphoto: string;\n\n    constructor(private fb: FormBuilder, private api: ApisService, private router: Router, private utilService: UtilService,\n        private messageService: MessageService) {\n        this.profileForm = this.fb.group({\n            identification: ['', [Validators.required, Validators.minLength(10)]],\n            name: ['', Validators.required],\n            lastname: ['', Validators.required],\n            email: ['', [Validators.required,\n            Validators.pattern(\"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\")]]\n        });\n    }\n    ngOnInit() {\n        this.urlphoto = \"\";\n        this.icon = \"pi pi-eye\";\n        this.looking = false;\n        this.user = JSON.parse(localStorage.getItem('user'));        \n        this.user.clave = atob(this.user.clave);\n        this.profileForm.get('identification').setValue(this.user.dni);\n        this.profileForm.get('name').setValue(this.user.name);\n        this.profileForm.get('lastname').setValue(this.user.lastname);\n        this.profileForm.get('email').setValue(this.user.email);\n    }\n\n    changelookpasswor() {\n        if (this.looking) {\n            this.looking = false;\n            this.icon = \"pi pi-eye\";\n        } else {\n            this.looking = true;\n            this.icon = \"pi pi-eye-slash\";\n        }\n    }\n\n    get identification() {\n        return this.profileForm.get('identification');\n    }\n\n    get name() {\n        return this.profileForm.get('name');\n    }\n\n    get lastname() {\n        return this.profileForm.get('lastname');\n    }\n\n    get email() {\n        return this.profileForm.get('email');\n    }\n\n\n\n    preview(files) {\n        if (files.length === 0)\n            return;\n        var mimeType = files[0].type;\n\n        if (mimeType.match(/image\\/*/) == null) {\n            this.message = \"Only images are supported.\";\n            return;\n        }\n        var reader = new FileReader();\n        reader.readAsDataURL(files[0]);\n        this.urlphoto = files[0].name;\n        reader.onload = (_event) => {\n            this.user.photo = reader.result.toString();\n        }\n    }\n\n    modify() {\n        this.enabled = false;\n    }\n\n    cancel() {\n        this.enabled = true;\n    }\n\n    async sendData() {\n        let user = {\n            apellidos: this.user.lastname,\n            nombres: this.user.name,\n            dni: this.user.dni,\n            nickname: this.user.nickname,\n            email: this.user.email,\n            clave: btoa(this.user.clave),\n            entiId: this.user.empresa['entiid'],\n            estado: this.user.state,\n            photo: this.urlphoto == '' ? null : this.urlphoto + ';' + this.user.photo,\n            usuaId: this.user.usuaid,\n            fechregi: new Date().toISOString()\n        }\n        \n        this.utilService.isLoading.next(true);\n        await this.api.updateUser(user, localStorage.getItem('token')).then(async (data) => {\n          \n            if (data.headerApp.code == 200) {\n                await localStorage.removeItem('user');\n                var roles_: roles[] = [];\n                data.data.roles.forEach(element => {\n                    let rol = {\n                        id: element.id,\n                        rol: element.rol,\n                        shorcut: element.shorcut\n                    }\n                    roles_.push(rol);\n                });\n                let empresa = {\n                    dni: data.data.usuario.empresa.dni,\n                    entiid: data.data.usuario.empresa.entiid,\n                    nombcome: data.data.usuario.empresa.nombcome,\n                    razosoci: data.data.usuario.empresa.razosoci,\n                }\n                let user: user = {\n                    usuaid: data.data.usuario.usuaid,\n                    dni: data.data.usuario.dni,\n                    email: data.data.usuario.email,\n                    state: data.data.usuario.estado,\n                    name: data.data.usuario.nombres,\n                    lastname: data.data.usuario.apellidos,\n                    roles: roles_,\n                    photo: environment.url + data.data.usuario.photo,\n                    empresa: empresa,\n                    clave: atob(data.data.usuario.clave),\n                    nickname: data.data.usuario.nickname\n                }\n                this.user = user;\n                await localStorage.setItem(\"user\", JSON.stringify(this.user));\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mística', detail: 'Se a actualizado los datos del usuario' });\n                this.enabled=true;\n                this.looking=false;\n                this.utilService.user.next(JSON.stringify(this.user));\n            }else{\n                this.messageService.add({ severity: 'error', summary: 'Rosa Mística', detail: data.headerApp.message });\n            }\n\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n\n        });\n        this.utilService.isLoading.next(false);\n\n    }\n\n}\n","import { ToolbarModule } from 'primeng/toolbar';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { ButtonModule } from 'primeng/button';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { MiperfilRoutingModule } from './miperfil-routing.module';\nimport { MiperfilComponent } from './miperfil.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PasswordModule, ToastModule } from 'primeng';\n\n\n\n@NgModule({\n  declarations: [MiperfilComponent],\n  imports: [\n    CommonModule,\n    MiperfilRoutingModule,\n    InputTextModule,\n    ButtonModule,\n    ReactiveFormsModule,\n    ToolbarModule,\n    FormsModule,\n    ReactiveFormsModule,\n    PasswordModule,\n    ToastModule\n  ]\n})\nexport class MiperfilModule { }\n"],"sourceRoot":"webpack:///"}