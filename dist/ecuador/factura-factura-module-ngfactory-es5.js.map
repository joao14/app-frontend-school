{"version":3,"sources":["webpack:///src/app/pages/layout/factura/factura-routing.module.ts","webpack:///src/app/pages/layout/factura/factura.component.html","webpack:///src/app/pages/layout/factura/factura.component.ts","webpack:///src/app/pages/layout/factura/factura.module.ts"],"names":["routes","path","component","FacturaRoutingModule","FacturaComponent","messageService","confirmationService","router","api","formBuilder","utilService","spinner","items","files","rows","itemSelect","flores","fincas","clientes","deliveries","marks","cajas","submitted","submittedFactura","submittedFacturaEdit","invoicesdraft","itemForm","group","caja","pieza","finca","required","stem","tamanio","tallos","totaltallos","precio","itemFormEdit","line","facturaForm","cliente","marca","mawba","empresacargo","user","JSON","parse","localStorage","getItem","typerol","step","dialogVisible","inicilizate","getinvoicesdraft","getServicios","addrow","isLoading","next","then","invoice","headerApp","code","data","invoices","catch","err","error","clear","navigate","idFactura","selectItem","dialogVisibleEdit","editInvoice","manual","automatico","options","select","validate","selectedtamanio","selectdraft","selectmark","claveacceso","idObjTmp","factura","client","city","mark","freightforwarder","bounch","address","total","boxes","tamanios","name","type","push","length","smsvalidate","getObjectbyName","toUpperCase","get","setValue","selectclient","event","target","Error","reader","FileReader","readAsBinaryString","show","onload","e","binarystr","result","wb","wsname","SheetNames","ws","Sheets","sheet_to_json","raw","cont","i","undefined","getFincabyName","fincaTemp","add","severity","summary","detail","hide","getFlowerbyName","flowerTemp","numtallos","getvalueCelda","item","getTypeBox","flor","parseInt","claves","stems","price","subtotal","box","trim","console","log","clave","cuare_","cincue_","sesen_","seten_","ochen_","noven_","cien_","ciendiez_","filter","index","splice","invalid","value","forEach","toString","reset","numero","state","element","entiId","florId","paiscity","pais","ciudad","getmarks","temp","estado","head","codiesta","puntemis","clieId","cargcompId","marcId","mawb","subtotal0","descuento","subtotal1","ice","iva","observacion","numetallos","numeboxes","fecha","cabecera","secuencial","contdocu","tipoempaque","cantidadcajas","String","tallosxbch","medidatallo","cantidadbch","cantidad","preciounitario","farmId","detalles","fromTemp","confirm","message","accept","registerInvoice","url","pdf","flower","getflowerbyname","farm","getclients","getfinca","farms","getflowers","flowers","getdeliveries","delivery","cargocompanies","getInvoice","registerInvoiceDraft","draft","generatePdfInvoiceDraft","location","href","xls","getMarcbyName","getEmpresaCargabyName","cargname","selectOptions","Promise","all","map","sort","a","b","marc","cargocompanie","controls","FacturaModule"],"mappings":"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","file":"factura-factura-module-ngfactory-es5.js","sourcesContent":["import { FacturaComponent } from './factura.component';\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n    {\n        path: '', component: FacturaComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class FacturaRoutingModule {}\n","<div class=\"ui-g\">\n    <div class=\"ui-g-12\">\n        <div class=\"card card-w-title\">\n            <p-toast></p-toast>\n            <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"medium\" color=\"#fff\" type=\"square-jelly-box\"\n                [fullScreen]=\"true\">\n                <p style=\"color: white\"> Loading... </p>\n            </ngx-spinner>\n            <div *ngIf=\"invoicesdraft.length > 0 && step <= 1\">\n                <h1>{{'Borradores de la facturacin' | translate}}</h1>\n                <p-table [value]=\"invoicesdraft\" class=\"p-datatable-responsive-demo\">\n                    <ng-template pTemplate=\"caption\">\n                        <div class=\"p-d-flex p-ai-center p-jc-between\">\n                            {{'Facturas de borrador'| translate}} [ {{invoicesdraft.length}} ]\n                        </div>\n                    </ng-template>\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th style=\"width: 8em;\"></th>\n                            <th>{{'Cliente' | translate}}</th>\n                            <th>{{'Fecha' | translate}}</th>\n                            <th>{{'Nmero de tallos' | translate}}</th>\n                            <th>{{'Secuencial' | translate}}</th>\n                            <th>{{'Total' | translate}}</th>\n                        </tr>  \n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData let-item>\n                        <tr style=\"background-color: white;\">\n                            <td><span class=\"p-column-title\">                                \n                                     <button pButton type=\"button\" class=\"ui-button-warning\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"edit(item)\">\n                                        <i class=\"pi pi-pencil\" style=\"font-size: 1.7rem\"></i>\n                                    </button>\n                                    &nbsp;\n                                    <button pButton type=\"button\" class=\"ui-button-success\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"viewdraft(item)\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>                                        \n                                    </button>   \n                                    &nbsp;\n                                    <button pButton type=\"button\" class=\"ui-button-success\" icon=\"pi pi-replay\"\n                                        style=\"display: none;\" (click)=\"finish(item)\"></button>\n                                   \n                                </span>\n                            </td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.cliente.nombres }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.fecha }}</span></td>  \n                            <td><span class=\"p-column-title\">{{item.cabecera.numetallos }}</span></td>\n                            <td><span class=\"p-column-title\">{{item.cabecera.secuencial }}</span></td>\n                            <td><span class=\"p-column-title\" style=\"font-weight: bold;\">{{item.cabecera.total |\n                                    currency}}</span></td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n                <hr>\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div class=\"ui-g-12 ui-md-9\"></div>\n                    <div class=\"ui-g-12 ui-md-3\">\n                        <button pButton type=\"button\" icon=\"pi pi-chevron-circle-right\" style=\"font-size: 1rem\"\n                            [label]=\"'Nueva factura' | translate\" class=\"ui-button-info ouput_btn_table\"\n                            (click)=\"facturar()\">\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"invoicesdraft.length <= 0 || step > 1\">\n                <div class=\"ui-g form-group ui-fluid\">\n                    <div [class]=\"invoicesdraft.length > 0 ? 'ui-g-12 ui-md-10':'ui-g-12 ui-md-10'\">\n                        <h1 *ngIf=\"(!editInvoice && step > 1) || invoicesdraft.length <= 0\">\n                            {{'Facturacin Cliente' | translate}}</h1>\n                        <h1 *ngIf=\"editInvoice && step > 1\">{{'Editando la factura' | translate }} # {{idFactura}}</h1>\n                    </div>\n                    <div [class]=\"invoicesdraft.length > 0 ? 'ui-g-12 ui-md-2':''\">\n                        <button pButton type=\"button\" icon=\"pi pi-arrow-circle-left\" [label]=\"'Borradores' | translate\"\n                            icon=\"pi pi-arrow-circle-left\" *ngIf=\"invoicesdraft.length > 0\"\n                            class=\"ui-button-warning ouput_btn_table\" (click)=\"back()\"></button>\n                    </div>\n                </div>\n                <form [formGroup]=\"facturaForm\" (ngSubmit)=\"save()\">\n                    <p-accordion>\n                        <p-accordionTab [header]=\"'Datos del Cliente' | translate\" [selected]=\"true\">\n                            <div class=\"ui-g form-group ui-fluid\">\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"client\" class=\"lbl\">{{'Cliente' | translate}}</label>\n                                    <p-dropdown [options]=\"clientes\" optionLabel=\"nombres\" formControlName=\"cliente\"\n                                        *ngIf=\"!editInvoice\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" (onChange)='onOptionsSelected()'\n                                        [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"></p-dropdown>\n\n                                    <input type=\"text\" pInputText [value]=\"selectclient?.nombres\" readonly\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" *ngIf=\"editInvoice\" />\n\n                                    <div *ngIf=\"submittedFactura && fr.cliente.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.cliente.errors.required\">{{'Cliente es requerido' | translate}}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"mark\" class=\"lbl\">{{'Marca' | translate}}</label>\n                                    <p-dropdown [options]=\"marks\" optionLabel=\"nombre\" formControlName=\"marca\"\n                                        *ngIf=\"!editInvoice\" (onChange)='onOptionsMarkSelected()'\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.marca.errors }\"\n                                        class=\"form-control\" class=\"form-control\" [filter]=\"true\"\n                                        [placeholder]=\"'Seleccione' | translate\">\n                                    </p-dropdown>\n\n                                    <input type=\"text\" pInputText [value]=\"selectdraft?.cabecera.mark\" readonly\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" *ngIf=\"editInvoice\" />\n\n                                    <div *ngIf=\"submittedFactura && fr.marca.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.marca.errors.required\">{{'Marca es requerido' | translate}}</div>\n                                    </div>\n                                </div>\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"mawba\" class=\"lbl\">{{'N gua' | translate}}</label>\n                                    <input type=\"text\" id=\"mawba\" pInputText formControlName=\"mawba\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.mawba.errors }\"\n                                        class=\"form-control\">\n                                    <div *ngIf=\"submittedFactura && fr.mawba.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.mawba.errors.required\">{{'Mawba es requerido' | translate}}</div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\">\n                                    <label for=\"freightforwarder\" class=\"lbl\">{{'Empresa carga' | translate}}</label>\n                                    <p-dropdown [options]=\"deliveries\" optionLabel=\"nombres\" class=\"form-control\"\n                                        (onChange)='onOptionsSelected()' formControlName=\"empresacargo\"\n                                        *ngIf=\"!editInvoice\"\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.empresacargo.errors }\"\n                                        class=\"form-control\" [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\">\n                                    </p-dropdown>\n\n                                    <input type=\"text\" pInputText [value]=\"selectdraft?.cabecera.cargname\" readonly\n                                        [ngClass]=\"{ 'is-invalid': submittedFactura && fr.cliente.errors }\"\n                                        class=\"form-control\" class=\"form-control\" *ngIf=\"editInvoice\" />\n\n                                    <div *ngIf=\"submittedFactura && fr.empresacargo.errors\" class=\"invalid-feedback\">\n                                        <div *ngIf=\"fr.empresacargo.errors.required\">\n                                            {{'Empresa carga es requerida' | translate}}</div>\n                                    </div>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"phone\" class=\"lbl\">{{'Telfono' | translate}}</label>\n                                    <input type=\"text\" id=\"phone\" pInputText [value]=\"selectclient?.phone\" readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"razonsocial\" class=\"lbl\">{{'Razn Social' | translate}}</label>\n                                    <input type=\"text\" id=\"razonsocial\" pInputText [value]=\"selectclient?.razosoci\"\n                                        readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"ciudad\" class=\"lbl\">{{'Pas-Ciudad'| translate}}</label>\n                                    <input type=\"text\" id=\"ciudad\" pInputText [value]=\"selectclient?.paiscity\" readonly>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"email\" class=\"lbl\">{{'Email' | translate}}</label>\n                                    <textarea pInputTextarea id=\"email\" [value]=\"selectclient?.email\"\n                                        readonly></textarea>\n                                </div>\n\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"typerol=='ADM'\">\n                                    <label for=\"address\" class=\"lbl\">{{'Direccin' | translate}}</label>\n                                    <textarea pInputTextarea id=\"address\" [value]=\"selectmark?.direccion\"\n                                        readonly></textarea>\n                                </div>\n\n\n                                <div [class]=\"typerol=='ADM'? 'ui-g-12 ui-md-6':'ui-g-12 ui-md-4'\" *ngIf=\"!editInvoice\">\n                                    <label for=\"address\" class=\"lbl\">{{'Operacin' | translate}}</label>\n                                    <div class=\"ui-grid-row\">\n                                        <div class=\"ui-grid-col-6\">\n                                            <button pButton type=\"button\" icon=\"pi pi-pencil\" class=\"ui-button-primary\"\n                                                [label]=\"'Manual' | translate\" (click)=\"selectOptions('manual')\"\n                                                style=\"height: 40px;\"></button>\n                                        </div>\n                                        <div class=\"ui-grid-col-6\">\n                                            <button pButton type=\"button\" icon=\"pi pi-upload\" class=\"ui-button-warning\"\n                                                [label]=\"'Subir archivo' | translate\"\n                                                (click)=\"selectOptions('automatico')\" style=\"height: 40px;\"></button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </p-accordionTab>\n                    </p-accordion>\n                    <!--Agregar manualmente-->\n                    <div *ngIf=\"manual\">\n                        <form [formGroup]=\"itemForm\" (ngSubmit)=\"saverow()\">\n                            <br>\n                            <div class=\"ui-g form-group ui-fluid\">\n                                <div class=\"ui-g-12 ui-md-2\" *ngIf=\"!addrow\">\n                                    <button pButton type=\"button\" icon=\"pi pi-plus\" class=\"ui-button-primary\"\n                                        [label]=\"'Nuevo' | translate\" (click)=\"add()\"></button>\n                                </div>\n                                <!--<div class=\"ui-g-12 ui-md-2\" *ngIf=\"addrow\">\n                            <button pButton icon=\"pi pi-plus\" class=\"ui-button-success ouput_btn_table\"\n                                label=\"Guardar\"></button>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-2\" *ngIf=\"addrow\">\n                            <button pButton type=\"button\" icon=\"pi pi-times\" label=\"Cancelar\"\n                                class=\"ui-button-lg ui-button-warning ouput_btn_table\" (click)=\"cancelrow()\"></button>\n                        </div>-->\n                            </div>\n\n                            <div class=\"card row\" *ngIf=\"addrow\">\n                                <div class=\"ui-g form-group ui-fluid\">\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <br>\n                                        <div class=\"ui-g-12 ui-md-3\" *ngIf=\"addrow\">\n                                            <button pButton icon=\"pi pi-check\" style=\"height: 2.2rem;width: 35px;\"\n                                                class=\"ui-button-success ouput_btn_table\"></button>\n                                        </div>\n                                        <div class=\"ui-g-12 ui-md-3\"></div>\n                                        <div class=\"ui-g-12 ui-md-4\" *ngIf=\"addrow\">\n                                            <button pButton type=\"button\" icon=\"pi pi-times\"\n                                                style=\"height: 2.2rem;width: 35px;\"\n                                                class=\"ui-button-lg ui-button-warning ouput_btn_table\"\n                                                (click)=\"cancelrow()\"></button>\n                                        </div>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Caja' | translate}}</label>\n                                        <p-dropdown [options]=\"cajas\" optionLabel=\"name\" formControlName=\"caja\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Piezas' | translate}} </label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            formControlName=\"pieza\">\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-2\">\n                                        <label class=\"lbl\">{{'Finca' | translate}}</label>\n                                        <p-dropdown [options]=\"fincas\" formControlName=\"finca\" optionLabel=\"nombres\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.finca.errors }\"\n                                            class=\"form-control\" [filter]=\"true\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.finca.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.finca.errors.required\">{{'Finca es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-2\">\n                                        <label class=\"lbl\">{{'Variedad' | translate}}</label>\n                                        <p-dropdown [options]=\"flores\" formControlName=\"flores\"\n                                            optionLabel=\"flor.nombre\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.flores.errors }\"\n                                            class=\"form-control\" [filter]=\"true\"\n                                            [placeholder]=\"'Seleccione' | translate\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.flores.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.flores.errors.required\">\n                                                {{'Variedad es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'BCH' | translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.stem.errors }\"\n                                            class=\"form-control\" placeholder=\"0\" formControlName=\"stem\">\n                                        <div *ngIf=\"submitted && f.stem.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.stem.errors.required\">{{'Tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'CM' | translate}}</label>\n                                        <p-dropdown [options]=\"tamanios\" [placeholder]=\"'Seleccione' | translate\"\n                                            optionLabel=\"name\" class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.tamanio.errors }\"\n                                            formControlName=\"tamanio\" formControlName=\"tamanio\">\n                                        </p-dropdown>\n                                        <div *ngIf=\"submitted && f.tamanio.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.tamanio.errors.required\">{{'Tamao es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'No BCH' | translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.tallos.errors }\"\n                                            (focusout)=\"calculate()\" formControlName=\"tallos\">\n                                        <div *ngIf=\"submitted && f.tallos.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.tallos.errors.required\">\n                                                {{'N tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\" style=\"color: #ff4456;font-weight: bold;\">{{'No Tallos' |\n                                            translate}}</label>\n                                        <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.totaltallos.errors }\" readonly\n                                            pTooltip=\"Este valor se auto calculara\" tooltipPosition=\"bottom\"\n                                            style=\"font-size: 14px;font-weight: bold;text-align: center;background-color: #FFFAF0;\"\n                                            formControlName=\"totaltallos\">\n                                        <div *ngIf=\"submitted && f.totaltallos.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.totaltallos.errors.required\">\n                                                {{'Total tallos es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-1\">\n                                        <label class=\"lbl\">{{'Precio' | translate}}</label>\n                                        <input type=\"text\" pInputText placeholder=\"0\" pKeyFilter=\"money\"\n                                            class=\"form-control\"\n                                            [ngClass]=\"{ 'is-invalid': submitted && f.precio.errors }\"\n                                            formControlName=\"precio\" formControlName=\"precio\">\n                                        <div *ngIf=\"submitted && f.precio.errors\" class=\"invalid-feedback\">\n                                            <div *ngIf=\"f.precio.errors.required\">{{'Precio es requerido' | translate}}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"ui-g-12 ui-md-12\">\n                                        <button pButton type=\"button\" icon=\"pi pi-check\"\n                                            class=\"ui-button-success in_btn_table\" [label]=\"'Guardar' | translate\"\n                                            (click)=\"continue()\"></button>\n                                    </div>\n                                    <div class=\"ui-g-12 ui-md-12\">\n                                        <button pButton type=\"button\" icon=\"pi pi-times\"\n                                            [label]=\"'Cancelar' | translate\"\n                                            class=\"ui-button-lg ui-button-warning in_btn_table\"\n                                            (click)=\"cancelrow()\"></button>\n                                    </div>\n\n                                </div>\n                            </div>\n                        </form> \n                        <p-table [value]=\"items\" class=\"p-datatable-responsive-demo\">\n                            <ng-template pTemplate=\"caption\">\n                                <div class=\"p-d-flex p-ai-center p-jc-between\">\n                                    <button pButton type=\"button\" *ngIf=\"items.length >= 1\" class=\"ui-button-success\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"viewXlsx()\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>                                        \n                                    </button> &nbsp;\n                                    {{'Items de la factura'| translate}} [ {{items.length}} ]\n                                </div>\n                            </ng-template>\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th style=\"width: 8em;\"></th>\n                                    <th>{{'Caja' | translate}}</th>\n                                    <th>{{'Pieza' | translate}}</th>\n                                    <th style=\"width: 35em;\">{{'Finca' | translate}}</th>\n                                    <th style=\"width: 15em;\">{{'Variedad' | translate}}</th>\n                                    <th>{{'BCH' | translate}}</th>\n                                    <th>{{'CM' | translate}}</th>\n                                    <th>{{'No BCH' | translate}}</th>\n                                    <th>{{'No Tallos' | translate}}</th>\n                                    <th>{{'Precio' | translate}}</th>\n                                    <th>{{'Total' | translate}}</th>\n\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-rowData let-item>\n                                <tr style=\"background-color: white;\">\n                                    <td><span class=\"p-column-title\">\n                                            <button pButton type=\"button\" class=\"ui-button-danger\" icon=\"pi pi-trash\"\n                                                (click)=\"deleteItem(item)\"></button>\n                                        </span>\n                                        &nbsp;\n                                        <span class=\"p-column-title\">\n                                            <button pButton type=\"button\" class=\"ui-button-warning\" icon=\"pi pi-pencil\"\n                                                (click)=\"editItem(item)\"></button>\n                                        </span>\n                                    </td>\n                                    <td><span class=\"p-column-title\">{{item.caja==null?'':item.caja.code}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.pieza==null?'':item.pieza}}</span></td>\n                                    <td style=\"width: 10em;\"><span class=\"p-column-title\">{{item.finca.nombres |\n                                            titlecase}} - (\n                                            {{item.finca.razosoci}}) </span></td>\n                                    <td><span class=\"p-column-title\">{{item.flor.flor== null? (item.flor.nombre |\n                                            titlecase) : (item.flor.flor.nombre | titlecase) }}</span>\n                                    </td>\n                                    <td><span class=\"p-column-title\">{{item.stems }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.tamanio.code }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.numtallos }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.totaltallos }}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.price | currency}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.subtotal | currency}}</span></td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.boxes}}</span></td>\n                                    <td colspan=\"5\" class=\"total_table\">{{'Totales' | translate}}</td>\n                                    <td><span class=\"total_valor\">{{factura.tallos}}</span></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.total | currency: 'USD'}}</span></td>\n                                </tr>\n                            </ng-template>\n                        </p-table>  \n                        <br>\n                        <div class=\"ui-g form-group ui-fluid\">\n                            <div class=\"ui-grid-col-7\"></div>\n                            <!--<div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-warning btn_enviar\"\n                                    (click)=\"continue()\" type=\"button\" [label]=\"'Salvar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>-->\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-success btn_enviar\"\n                                    (click)=\"continue()\" type=\"button\" [label]=\"'Guardar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-arrow-right\" class=\"ui-button-help btn_enviar\"\n                                    [label]=\"'Finalizar' | translate\" [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                        </div>\n                    </div>\n                    <!--Upload file-->\n                    <div *ngIf=\"automatico\">\n                        <div class=\"uploadfilecontainer\" (click)=\"fileInput.click()\" appDragdrop\n                            (onFileDropped)=\"uploadFile($event)\" *ngIf=\"files.length <= 0\">\n                            <input hidden type=\"file\" #fileInput (change)=\"uploadFile($event)\" accept=\".xlsx, .xls\">\n                        </div>\n                        <div class=\"files-list\" *ngFor=\"let file of files;let i= index\">\n                            <p> {{ file.name }} </p>\n                            <button class=\"delete-file\" (click)=\"deleteAttachment(i)\">\n                                <img src=\"../../../../assets/images/recicler.jpeg\">\n                            </button>\n                        </div>\n                        <div class=\"error\" *ngIf=\"validate\">\n                            {{'El archivo tiene errores validar con el administrador'| translate}}</div>\n                        <p class=\"detalle\" *ngIf=\"validate\"><i class=\"pi pi-bell\"></i>&nbsp;{{smsvalidate}}</p>\n                        <br>\n                        <p-table [value]=\"items\" *ngIf=\"files.length > 0\" class=\"p-datatable-responsive-demo\">\n                            <ng-template pTemplate=\"caption\">\n                                <div class=\"p-d-flex p-ai-center p-jc-between\">\n                                    <button pButton type=\"button\" *ngIf=\"items.length >= 1\" class=\"ui-button-success\" style=\"height: 30px; border-radius: 5px;\"\n                                        (click)=\"viewXlsx()\">\n                                        <i class=\"pi pi-download\" style=\"font-size: 1.7rem\"></i>                                        \n                                    </button> &nbsp;\n                                    {{'Items de la factura' | translate}} [{{items.length}}]\n                                </div>\n                            </ng-template>\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th>{{'Caja' | translate}}</th>\n                                    <th>{{'Pieza' | translate}}</th>\n                                    <th style=\"width: 35em;\">{{'Finca' | translate}}</th>\n                                    <th style=\"width: 15em;\">{{'Variedad' | translate}}</th>\n                                    <th>{{'BCH' | translate}}</th>\n                                    <th>{{'CM' | translate}}</th>\n                                    <th>{{'No BCH' | translate}}</th>\n                                    <th>{{'No Tallos' | translate}}</th>\n                                    <th>{{'Precio' | translate}}</th>\n                                    <th>{{'Total'| translate}}</th>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-item>\n                                <tr style=\"background-color: white;\">\n                                    <td style=\"text-align: center;\">{{item.caja==undefined?'':item.caja.name}}</td>\n                                    <td><span class=\"p-column-title\">{{item.pieza==null?'':item.pieza}}</span></td>\n                                    <td><span class=\"p-column-title\">{{item.finca.nombres | titlecase}} - (\n                                            {{item.finca.razosoci | titlecase}} ) </span></td>\n                                    <td>{{item.flor.nombre | titlecase }}</td>\n                                    <td>{{item.stems }}</td>\n                                    <td>{{item.tamanio.code }}</td>\n                                    <td>{{item.numtallos }}</td>\n                                    <td>{{item.totaltallos }}</td>\n                                    <td>{{item.price | currency}}</td>\n                                    <td>{{item.subtotal | currency}}</td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"footer\">\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.boxes}}</span></td>\n                                    <td colspan=\"4\" class=\"total_table\">{{'Totales' | translate}}</td>\n                                    <td><span class=\"total_valor\">{{factura.tallos}}</span></td>\n                                    <td></td>\n                                    <td><span class=\"total_valor\">{{factura.total | currency: 'USD'}}</span></td>\n                                </tr>\n                            </ng-template>\n                        </p-table>\n                        <br>\n                        <div class=\"ui-g form-group ui-fluid\" *ngIf=\"items.length > 0\">\n                            <div class=\"ui-grid-col-7\"></div> \n                            <div class=\"ui-grid-col-2\">\n                                <button pButton icon=\"pi pi-save\" class=\"ui-button-success btn_enviar\" type=\"button\"\n                                    (click)=\"continue()\" [label]=\"'Guardar' | translate\"\n                                    [disabled]=\"items.length <= 0\"></button>\n                            </div>\n                            <div class=\"ui-grid-col-1\"></div>\n                            <div class=\"ui-grid-col-2\">\n                                <button pButton type=\"button\" icon=\"pi pi-arrow-right\" class=\"ui-button-help btn_enviar\"\n                                    [disabled]=\"validate\" [label]=\"'Finalizar' | translate\" type=\"submit\"></button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <!--Table responsive-->\n                    <div class=\"ui-grid ui-grid-responsive ui-fluid\" class=\"data\" *ngFor=\"let item of items\">\n                        <div class=\"card card-w-title\">\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-12\">\n                                    <button pButton type=\"button\" class=\"ui-button-danger btn_card\" icon=\"pi pi-trash\"\n                                        (click)=\"deleteItem(item)\"></button>\n                                </div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Caja' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span\n                                        class=\"value\">{{item.caja==null?'HB':item.caja.code}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Finca' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.finca.nombres}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Variedad' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.flor.nombre}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Tallos' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.stems}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Tamao' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.tamanio.code}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'N. de tallos' | translate}}</span>\n                                </div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.tallos}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Total tallos' | translate}}</span>\n                                </div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.totaltallos}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Precio' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.price | currency}}</span></div>\n                            </div>\n\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-4\"><span class=\"label\">{{'Total' | translate}}</span></div>\n                                <div class=\"ui-grid-col-8\"><span class=\"value\">{{item.subtotal | currency}}</span></div>\n                            </div>\n                        </div>\n                    </div>\n                    <br>\n                    <div class=\"ui-grid ui-grid-responsive ui-fluid\" class=\"resumen\">\n                        <div class=\"ui-grid-row\">\n                            <div class=\"ui-grid-col-4\" style=\"text-align: right;font-weight: bold;font-size: 20px;\">\n                                {{'Total' | translate}}\n                            </div>\n                            <div class=\"ui-grid-col-8\" style=\"text-align: center;\"><span\n                                    class=\"total_valor\">{{factura?.total | currency: 'USD'}}</span></div>\n                        </div>\n                        <br>\n                        <div class=\"ui-grid ui-grid-responsive ui-fluid\">\n                            <div class=\"ui-grid-row\">\n                                <div class=\"ui-grid-col-10\"></div>\n                                <div class=\"ui-grid-col-2\">\n                                    <button pButton icon=\"pi pi-arrow-right\"\n                                        class=\"ui-button-help btn_enviar_responsive\"\n                                        [label]=\"'Enviar' | translate\"></button>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n            </div>\n        </div>\n\n        <!--Confirmar cuadro de dialogo confirm-->\n        <p-confirmDialog #cd header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\">\n            <p-footer>\n                <button type=\"button\" pButton icon=\"pi pi-times\" class=\"ui-button-danger\" [label]=\"'No' | translate\"\n                    (click)=\"cd.reject()\"></button>\n                <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-success\" [label]=\"'Si' | translate\"\n                    (click)=\"cd.accept()\"></button>\n            </p-footer>\n        </p-confirmDialog>\n\n        <p-dialog [header]=\"'Factura correcta' | translate\" [(visible)]=\"dialogVisible\" [style]=\"{width: '50vw'}\"\n            [baseZIndex]=\"10000\" [maximizable]=\"true\" [modal]=\"true\" [resizable]=\"true\">\n            <iframe [src]=\"url | safe\" *ngIf=\"dialogVisible\" width=\"100%\" height=\"500px\" style=\"border-width: 0PX;\">\n            </iframe>\n        </p-dialog>\n\n        <p-dialog [header]=\"'Editar item de factura' | translate\" [(visible)]=\"dialogVisibleEdit\" [style]=\"{width: '80vw'}\" [baseZIndex]=\"10000\" [maximizable]=\"true\"\n            [modal]=\"true\" [resizable]=\"true\">\n            <form [formGroup]=\"itemFormEdit\" (ngSubmit)=\"modificar()\">               \n                <div class=\"ui-g form-group ui-fluid\">\n                    <div class=\"card card-w-title\">\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Caja' | translate}}</label>\n                            <p-dropdown [options]=\"cajas\" optionLabel=\"name\" formControlName=\"caja\" [placeholder]=\"'Seleccione' | translate\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.caja.errors }\" class=\"form-control\"\n                                formControlName=\"caja\"></p-dropdown>\n                                <div *ngIf=\"submittedFacturaEdit && fv.caja.errors\" class=\"invalid-feedback\">\n                                    <div *ngIf=\"fv.caja.errors.required\">{{'Caja es requerido' | translate}}\n                                    </div>\n                                </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Pieza' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"pieza\" pKeyFilter=\"int\" placeholder=\"0\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.pieza.errors }\" class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.pieza.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.pieza.errors.required\">{{'Pieza es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-4\">\n                            <label class=\"lbl\">{{'Finca' | translate}}</label>\n                            <p-dropdown [options]=\"fincas\" optionLabel=\"nombres\" formControlName=\"finca\"\n                            [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.finca.errors }\" class=\"form-control\"></p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.finca.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.finca.errors.required\">{{'Finca es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"ui-g-12 ui-md-4\">\n                            <label class=\"lbl\">{{'Variedad' | translate}}</label>\n                            <p-dropdown [options]=\"flores\" optionLabel=\"flor.nombre\" formControlName=\"flores\"\n                            [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.flores.errors }\" class=\"form-control\">\n                            </p-dropdown> \n                            <div *ngIf=\"submittedFacturaEdit && fv.flores.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.flores.errors.required\">{{'Variedad es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'BCH' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"stem\" pKeyFilter=\"int\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.stem.errors }\" class=\"form-control\">\n                            <div *ngIf=\"submittedFacturaEdit && fv.stem.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.stem.errors.required\">{{'CM es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'CM' | translate}}</label>\n                            <p-dropdown [options]=\"tamanios\" optionLabel=\"name\" formControlName=\"tamanio\"\n                            [filter]=\"true\" [placeholder]=\"'Seleccione' | translate\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.tamanio.errors }\" class=\"form-control\">\n                            </p-dropdown>\n                            <div *ngIf=\"submittedFacturaEdit && fv.tamanio.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.tamanio.errors.required\">{{'CM es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'No BCH' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"tallos\" (focusout)=\"calculateEdit()\"\n                                [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.tallos.errors }\" class=\"form-control\"\n                                pKeyFilter=\"int\">\n                                <div *ngIf=\"submittedFacturaEdit && fv.tallos.errors\" class=\"invalid-feedback\">\n                                    <div *ngIf=\"fv.tallos.errors.required\">{{'No BCH es requerido' | translate}}\n                                    </div>\n                                </div>\n                        </div>  \n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\" style=\"color: #ff4456;font-weight: bold;\">{{'No Tallos' |\n                                translate}}</label>\n                            <input type=\"text\" pInputText pKeyFilter=\"int\" placeholder=\"0\"\n                                pTooltip=\"Este valor se auto calculara\" tooltipPosition=\"bottom\"\n                                style=\"font-size: 14px;font-weight: bold;background-color: #FFFAF0;\"\n                                formControlName=\"totaltallos\">\n                        </div>\n\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <label class=\"lbl\">{{'Precio' | translate}}</label>\n                            <input type=\"text\" pInputText formControlName=\"precio\"\n                            [ngClass]=\"{ 'is-invalid': submittedFacturaEdit && fv.precio.errors }\" class=\"form-control\">                            \n                            <div *ngIf=\"submittedFacturaEdit && fv.precio.errors\" class=\"invalid-feedback\">\n                                <div *ngIf=\"fv.precio.errors.required\">{{'Precio es requerido' | translate}}\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div class=\"ui-g-12 ui-md-12\">\n                        <div class=\"ui-g-12 ui-md-10\"></div>\n                        <div class=\"ui-g-12 ui-md-2\">\n                            <button type=\"button\" pButton icon=\"pi pi-check\" class=\"ui-button-success\"\n                                    [label]=\"'Modificar' | translate\" (click)=\"modificar()\"></button>\n                        </div>                        \n                    </div>                    \n                </div>               \n            </form>\n        </p-dialog>\n\n    </div>\n\n</div>","import { Component, OnInit } from \"@angular/core\";\nimport * as XLSX from \"xlsx\";\nimport { SelectItem } from \"primeng\";\nimport { MessageService, ConfirmationService } from \"primeng/api\";\nimport { client } from 'src/models/client';\nimport { delivery } from 'src/models/delivery';\nimport { mark } from 'src/models/mark';\nimport { finca } from 'src/models/finca';\nimport { flower } from 'src/models/flower';\nimport { Router } from '@angular/router';\nimport { ApisService } from 'src/services/apis.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { detail } from 'src/models/detail';\nimport { invoice } from 'src/models/invoice';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { UtilService } from 'src/services/util.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { user } from 'src/models/user';\nimport { environment } from 'src/environments/environment';\nimport { LoginComponent } from '../../login/login.component';\nimport { NullTemplateVisitor } from \"@angular/compiler\";\n\nexport interface Item {\n    caja: string;\n    pieza: number;\n    finca: string;\n    flor: string;\n    numtallos: number;\n    tamanio: string;\n    totaltallos: number;\n    stems: number;\n    price: number;\n    subtotal: number;\n    line: number;\n}\n\nexport interface Factura {\n    client: client;\n    city: string;\n    mark: string;\n    mawba: string;\n    freightforwarder: string;\n    bounch: string;\n    address: string;\n    items: Item[];\n    tallos: number;\n    total: number;\n    boxes: number;\n}\n\nexport interface Draft {\n    cabecera: {\n        cargcompId: number;\n        cargname: string;\n        claveacceso: string;\n        cliente: client;\n        codiesta: string;\n        contdocu: number;\n        estado: string;\n        fecha: string;\n        marcId: number;\n        mark: string;\n        markCiu: string;\n        markDir: string;\n        mawb: string;\n        numeboxes: number;\n        numetallos: number;\n        pdf: string;\n        puntemis: string;\n        secuencial: number;\n        subtotal1: number;\n        total: number;\n    },\n    detalles: Array<{\n        cantidad: number;\n        cantidadbch: number;\n        cantidadcajas: number;\n        farm: string;\n        farmId: number;\n        florId: number;\n        flower: string;\n        medidatallo: string;\n        preciounitario: number;\n        tallosxbch: number;\n        tipoempaque: string;\n        total: number;\n        line: number;\n    }>,\n    idObjTmp: string;\n}\n\nexport interface Draft {\n    cabecera: {\n        cargcompId: number;\n        cargname: string;\n        claveacceso: string;\n        cliente: client;\n        codiesta: string;\n        contdocu: number;\n        estado: string;\n        fecha: string;\n        marcId: number;\n        mark: string;\n        markCiu: string;\n        markDir: string;\n        mawb: string;\n        numeboxes: number;\n        numetallos: number;\n        pdf: string;\n        puntemis: string;\n        secuencial: number;\n        subtotal1: number;\n        total: number;\n    },\n    detalles: Array<{\n        cantidad: number;\n        cantidadbch: number;\n        cantidadcajas: number;\n        farm: string;\n        farmId: number;\n        florId: number;\n        flower: string;\n        medidatallo: string;\n        preciounitario: number;\n        tallosxbch: number;\n        tipoempaque: string;\n        total: number;\n        line: number;\n    }>,\n    idObjTmp: string;\n}\n\n@Component({\n    selector: \"app-factura\",\n    templateUrl: \"./factura.component.html\",\n    styleUrls: [\"./factura.component.css\"],\n    providers: [MessageService, ConfirmationService],\n})\nexport class FacturaComponent implements OnInit {\n\n\n    itemForm: FormGroup;\n    itemFormEdit: FormGroup;\n    facturaForm: FormGroup;\n    factura: Factura;\n    flowers: string[];\n    tamanios: any[];\n    selectedtamanio: any;\n    manual: boolean;\n    automatico: boolean;\n    items: Array<Item> = [];\n    files: any = [];\n    rows: any = [];\n    options: boolean;\n    itemSelect: number = 0;\n    addrow: boolean;\n    optionsFactura: SelectItem[];\n    select: string;\n    flores: Array<flower> = [];\n    fincas: Array<finca> = [];\n    clientes: Array<client> = [];\n    deliveries: Array<delivery> = [];\n    marks: Array<mark> = [];\n    cajas: any[] = [];\n    submitted = false;\n    submittedFactura = false;\n    submittedFacturaEdit = false;\n    selectclient: client;\n    invoice: invoice;\n    dialogVisible: boolean;\n    url: string;\n    validate: boolean;\n    smsvalidate: string;\n    user: user;\n    typerol: string;\n    invoicesdraft: Array<Draft> = [];\n    selectdraft: Draft;\n    step: number;\n    editInvoice: boolean;\n    idFactura: number;\n    selectmark: mark;\n    line: number;\n    dialogVisibleEdit: boolean;\n    selectItem: Item;\n    xlsx: string;\n    idObjTmp: string;\n    claveacceso: string;\n\n    constructor(\n        private messageService: MessageService,\n        private confirmationService: ConfirmationService,\n        private router: Router, private api: ApisService,\n        private formBuilder: FormBuilder, private utilService: UtilService,\n        private spinner: NgxSpinnerService\n    ) {\n\n\n        this.itemForm = this.formBuilder.group({\n            caja: [null],\n            pieza: [''],\n            finca: [null, Validators.required],\n            flores: [null, [Validators.required]],\n            stem: ['25', [Validators.required]],\n            tamanio: [null, Validators.required],\n            tallos: ['', Validators.required],\n            totaltallos: ['', Validators.required],\n            precio: ['', Validators.required]\n        });\n\n        this.itemFormEdit = this.formBuilder.group({\n            caja: [null],\n            pieza: [''],\n            finca: [null, Validators.required],\n            flores: [null, [Validators.required]],\n            stem: ['25', [Validators.required]],\n            tamanio: [null, Validators.required],\n            tallos: ['', Validators.required],\n            totaltallos: ['', Validators.required],\n            precio: ['', Validators.required],\n            line: [null]\n        });\n\n        this.facturaForm = this.formBuilder.group({\n            cliente: [null, Validators.required],\n            marca: [null, Validators.required],\n            mawba: ['', Validators.required],\n            empresacargo: [null, Validators.required]\n        });\n\n    }\n\n    async ngOnInit() {\n        this.user = JSON.parse(localStorage.getItem('user'));\n        this.typerol = localStorage.getItem('rolactive');\n        this.step = 1;\n        this.dialogVisible = false;\n        this.inicilizate();\n        await this.getinvoicesdraft();\n        await this.getServicios();\n    }\n\n    add() {\n        this.addrow = true;\n    }\n\n    async getinvoicesdraft() {\n        this.invoicesdraft = [];\n        this.utilService.isLoading.next(true);\n        await this.api.getinvoicesdraft(localStorage.getItem('token')).then(invoice => {            \n            if (invoice.headerApp.code == 200) {\n                this.invoicesdraft = invoice.data.invoices;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        this.utilService.isLoading.next(false);\n    }\n\n\n    inicilizate() {\n        this.idFactura = 0;\n        this.line = 0;\n        this.selectItem = null;\n        this.dialogVisibleEdit = false;\n        this.editInvoice = false;\n        this.manual = false;\n        this.automatico = false;\n        this.options = false;\n        this.addrow = false;\n        this.submitted = false;\n        this.submittedFactura = false;\n        this.submittedFacturaEdit = false;\n        this.select = \"MN\";\n        this.validate = false;\n        this.selectedtamanio = null;\n        this.selectdraft = null;\n        this.selectmark = null;\n        this.claveacceso=\"\";\n        this.idObjTmp=\"\";\n        this.factura = {\n            client: null,\n            city: \"\",\n            mark: \"\",\n            mawba: \"\",\n            freightforwarder: \"\",\n            bounch: \"\",\n            address: \"\",\n            items: null,\n            tallos: 0,\n            total: 0.0,\n            boxes: 0\n        };\n        this.tamanios = [\n            { name: \"CL\", code: \"CL\" },\n            { name: \"40\", code: \"40\" },\n            { name: \"50\", code: \"50\" },\n            { name: \"60\", code: \"60\" },\n            { name: \"70\", code: \"70\" },\n            { name: \"80\", code: \"80\" },\n            { name: \"90\", code: \"90\" },\n            { name: \"100\", code: \"100\" },\n            { name: \"110\", code: \"110\" },\n            { name: \"150\", code: \"150\" }\n        ];\n        this.cajas = [\n            { name: \"HB\", code: \"HB\" },\n            { name: \"QB\", code: \"QB\" },\n        ]\n    }\n\n    selectOptions(type: string) {\n        this.options = true;\n        this.files = [];\n        if (type == \"manual\") {\n            this.addrow = false;\n            this.manual = true;\n            this.automatico = false;\n            this.rows.push(this.rows.length + 1);\n            this.items = [];\n            this.factura.total = 0.0;\n            this.factura.tallos = 0;\n            this.validate = false;\n            this.smsvalidate = \"\";\n            this.line = 0;\n        } else {\n            this.automatico = true;\n            this.manual = false;\n            this.items = [];\n            this.factura.total = 0.0;\n            this.factura.tallos = 0;\n            this.validate = false;\n            this.smsvalidate = \"\";\n            this.line = 0;\n        }\n    }\n\n    async getClientbyName(name: string): Promise<any> {\n        let cliente: client = null;\n        await this.api.getObjectbyName('C', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                this.facturaForm.get('cliente').setValue(data.data.cliente);\n                this.selectclient = data.data.cliente;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return cliente;\n    }\n\n    uploadFile(event) {\n        const target: DataTransfer = <DataTransfer>event.target;\n\n        if (target.files.length !== 1) {\n            throw new Error(\"Cannot use multiple files\");\n        }\n        const reader: FileReader = new FileReader();\n        reader.readAsBinaryString(target.files[0]);\n        this.spinner.show();\n        reader.onload = async (e: any) => {\n            /* create workbook */\n            const binarystr: string = e.target.result;\n            const wb: XLSX.WorkBook = XLSX.read(binarystr, { type: \"binary\" });\n            /* selected the first sheet */\n            const wsname: string = wb.SheetNames[0];\n            const ws: XLSX.WorkSheet = wb.Sheets[wsname];\n            /* save data */\n            const data = XLSX.utils.sheet_to_json(ws, { raw: true }); // to get 2d array pass 2nd parameter as object {header: 1}            \n            this.utilService.isLoading.next(true);\n            let cont = 0;\n            for (var i = 7; i < data.length; i++) {\n                if (data[i][\"__EMPTY_2\"] != undefined) {\n\n                    const fincaTemp = await this.getFincabyName(data[i][\"__EMPTY_2\"]);\n                    if (fincaTemp == null) {\n                        this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'La finca ' + data[i][\"__EMPTY_2\"] + ' no se encuentra ingresada en el sistema.' });\n                        this.validate = true;\n                        this.spinner.hide();\n                        this.smsvalidate = 'La finca ' + data[i][\"__EMPTY_2\"] + ' no se encuentra registrada en el sistema.'\n                        return\n                    }\n\n                    const flowerTemp = await this.getFlowerbyName(\n                        data[i][\n                        \"                                       ROSA MISTICA\"\n                        ]);\n                    if (flowerTemp == null) {\n                        this.messageService.add({\n                            severity: 'error', summary: 'Rosa Mstica', detail: 'La flor ' + data[i][\n                                \"                                       ROSA MISTICA\"\n                            ] + ' no se encuentra en el sistema.'\n                        });\n                        this.validate = true;\n                        this.spinner.hide();\n                        this.smsvalidate = 'La flor ' + data[i][\n                            \"                                       ROSA MISTICA\"\n                        ] + ' no se encuentra registrada en el sistema.'\n                        return\n                    }\n                    let numtallos = this.getvalueCelda(data[i][\"__EMPTY_4\"], data[i][\"__EMPTY_5\"], data[i][\"__EMPTY_6\"], data[i][\"__EMPTY_7\"], data[i][\"__EMPTY_8\"],\n                        data[i][\"__EMPTY_9\"], data[i][\"__EMPTY_10\"], data[i][\"__EMPTY_11\"], data[i][\"__EMPTY_12\"]);\n\n                    let item = {\n                        caja: data[i][\"__EMPTY\"] == null ? '' : this.getTypeBox(data[i][\"__EMPTY\"]),\n                        pieza: data[i][\"__EMPTY_1\"],\n                        finca: fincaTemp,\n                        flor: flowerTemp,\n                        numtallos: parseInt(numtallos),\n                        claves: \"\",\n                        totaltallos: data[i][\"__EMPTY_3\"] * parseInt(numtallos),\n                        tamanio: this.selectedtamanio,\n                        stems: data[i][\"__EMPTY_3\"],\n                        price: data[i][\"__EMPTY_14\"],\n                        subtotal: data[i][\"__EMPTY_15\"],\n                        line: cont\n                    };\n                    this.factura.tallos += item.totaltallos;\n                    this.factura.total += item.subtotal;\n                    data[i][\"__EMPTY_1\"] == null ? '' : this.factura.boxes += parseInt(item.pieza);\n                    this.items.push(item);\n                    cont += 1;\n                }\n            }\n            this.utilService.isLoading.next(false);\n            this.spinner.hide();\n            this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'Se ha cargado todo el archivo correctamente.' });\n\n        };\n\n        this.files.push(target.files[0]);\n    }\n\n    getTypeBox(name: string): any {\n        let box: any;\n        if (name == undefined) {\n            box = { name: \"HB\", code: \"HB\" };\n        } else {\n            switch (name.trim()) {\n                case 'HB':\n                    box = { name: \"HB\", code: \"HB\" };\n                    break;\n                case 'QB':\n                    box = { name: \"QB\", code: \"QB\" };\n                    break;\n                default:\n                    console.log('No se encuentra la domensin de la caja');\n                    break;\n            }\n        }\n        return box;\n    }\n\n    getvalueCelda(clave: string, cuare_: string, cincue_: string, sesen_: string, seten_: string, ochen_: string, noven_: string,\n        cien_: string, ciendiez_: string): string {\n\n        if (clave != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == 'CL') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return clave;\n        }\n        if (cuare_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '40') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cuare_;\n        }\n        if (cincue_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '50') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cincue_;\n        }\n        if (sesen_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '60') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return sesen_;\n        }\n        if (seten_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '70') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return seten_;\n        }\n        if (ochen_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '80') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return ochen_;\n        }\n        if (noven_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '90') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return noven_;\n        }\n        if (cien_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '100') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return cien_;\n        }\n        if (ciendiez_ != undefined) {\n            this.tamanios.filter(tamanio => {\n                if (tamanio.code == '110') {\n                    this.selectedtamanio = tamanio;\n                }\n            });\n            return ciendiez_;\n        }\n    }\n\n    deleteAttachment(index) {\n        this.files.splice(index, 1);\n        this.items = [];\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.validate = false;\n        this.smsvalidate = \"\";\n        this.line = 0;\n    }\n\n    /**\n     * Function the save row of load item manual\n     */\n    saverow() {\n        this.submitted = true;\n\n        if (this.itemForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos son obligatorios' });\n            return;\n        }\n\n        this.items.push({\n            caja: this.itemForm.get('caja').value,\n            pieza: this.itemForm.get('pieza').value,\n            finca: this.itemForm.get('finca').value,\n            flor: this.itemForm.get('flores').value.flor,\n            stems: this.itemForm.get('stem').value,\n            tamanio: this.itemForm.get('tamanio').value,\n            numtallos: this.itemForm.get('tallos').value,\n            totaltallos: this.itemForm.get('stem').value * this.itemForm.get('tallos').value,\n            price: this.itemForm.get('precio').value,\n            subtotal: (this.itemForm.get('stem').value * this.itemForm.get('tallos').value) * this.itemForm.get('precio').value,\n            line: this.selectdraft == null ? this.items.length : this.line + 1\n        });\n\n\n        this.selectdraft == null ? '' : this.line += 1;\n\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            item.pieza = item.pieza == null || item.pieza.toString() == '' ? null : item.pieza;\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            item.pieza != null ? this.factura.boxes += parseInt(item.pieza.toString()) : '';\n\n        });\n\n\n        this.addrow = false;\n        this.submitted = false;\n        this.itemForm.reset();\n        this.itemForm.get('stem').setValue('25');\n\n    }\n\n\n    cancel() {\n    }\n\n    hiddenCard(numero: number): boolean {\n        let state: boolean = true;\n        if (numero == this.itemSelect) {\n            state = false;\n        } else {\n            state = true;\n        }\n        return state;\n    }\n\n\n    cancelrow() {\n        this.addrow = false;\n        this.itemForm.reset();\n        this.submitted = false;\n    }\n\n    deleteItem(item: Item) {\n        if (this.items.length == 1 && this.editInvoice) {\n            this.messageService.add({ severity: 'warn', summary: 'Rosa Mstica', detail: 'No se puede eliminar el item ya que la factura necesita por lo menos un item' });\n            return;\n        }\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n        this.items = this.items.filter((element) => element != item);\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.stems.toString());\n            item.pieza == null ? '' : this.factura.boxes += parseInt(item.pieza.toString())\n        });\n\n    }\n\n    async editItem(item: Item) {\n        let finca = await this.fincas.filter(data => {\n            if (data.entiId == item.finca['entiId']) {\n                return data;\n            }\n        });\n        let flor = await this.flores.filter(data => {\n            if (data['flor'].florId === item.flor['florId']) {\n                return data;\n            }\n        });\n        this.dialogVisibleEdit = true;\n        this.itemFormEdit.get('caja').setValue(item.caja);\n        this.itemFormEdit.get('pieza').setValue(item.pieza);\n        this.itemFormEdit.get('finca').setValue(finca[0]);\n        this.itemFormEdit.get('flores').setValue(flor[0]);\n        this.itemFormEdit.get('stem').setValue(item.stems);\n        this.itemFormEdit.get('tamanio').setValue(item.tamanio);\n        this.itemFormEdit.get('tallos').setValue(item.numtallos);\n        this.itemFormEdit.get('totaltallos').setValue(item.totaltallos);\n        this.itemFormEdit.get('precio').setValue(item.price);\n        this.itemFormEdit.get('line').setValue(item.line);\n    }\n\n    onOptionsMarkSelected() {\n        this.selectmark = this.facturaForm.get('marca').value;\n    }\n\n    async onOptionsSelected() {\n        this.marks = [];\n        this.selectclient = this.facturaForm.get('cliente').value;\n        this.selectclient.paiscity = this.selectclient.pais + ' - ' + this.selectclient.ciudad;\n        await this.api.getmarks(this.facturaForm.get('cliente').value.entiId, localStorage.getItem(\"token\")).then(mark => {\n            if (mark.headerApp.code == 200) {\n                let temp: mark[] = [];\n                mark.data.marks.forEach(element => {\n                    if (element.estado == 'A')\n                        temp.push(element);\n                });\n                this.marks = temp;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n    }\n\n    modificar() {\n        this.submittedFacturaEdit = true;\n        if (this.itemFormEdit.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos son obligatorios' });\n            return;\n        }\n        this.items.forEach(item => {\n            if (item.line == this.itemFormEdit.get('line').value) {\n                item.caja = this.itemFormEdit.get('caja').value;\n                item.pieza = this.itemFormEdit.get('pieza').value;\n                item.finca = this.itemFormEdit.get('finca').value;\n                item.flor = this.itemFormEdit.get('flores').value;\n                item.stems = this.itemFormEdit.get('stem').value;\n                item.tamanio = this.itemFormEdit.get('tamanio').value;\n                item.numtallos = this.itemFormEdit.get('tallos').value;\n                item.totaltallos = this.itemFormEdit.get('totaltallos').value;\n                item.price = this.itemFormEdit.get('precio').value;\n                item.subtotal = this.itemFormEdit.get('totaltallos').value * this.itemFormEdit.get('precio').value;\n            }\n        })\n\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            item.pieza != null ? this.factura.boxes += parseInt(item.pieza.toString()) : '';\n\n        });\n\n        this.itemFormEdit.reset();\n        this.dialogVisibleEdit = false;\n        this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'Item actualizado correctamente' });\n\n\n    }\n\n    /**\n     * Function the save the invoice\n     */\n    save() {\n\n        this.submittedFactura = true;\n        if (this.facturaForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos para generar la factura son obligatorios.' });\n            return;\n        }\n        this.factura.items = this.items;\n        let head = {\n            codiesta: '001',\n            puntemis: '001',\n            clieId: this.facturaForm.get('cliente').value.entiId,\n            cargcompId: this.facturaForm.get('empresacargo').value.entiId,\n            marcId: this.facturaForm.get('marca').value.marcId,\n            mawb: this.facturaForm.get('mawba').value,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: this.factura.total,\n            observacion: '-',\n            numetallos: this.factura.tallos,\n            numeboxes: this.factura.boxes,\n            estado: \"T\",\n            fecha: this.selectdraft != null ? this.selectdraft.cabecera.fecha + '.000' : null,\n            claveacceso: this.selectdraft != null ? this.selectdraft.cabecera.claveacceso : null,\n            secuencial: this.selectdraft != null ? this.selectdraft.cabecera.secuencial : null,\n            contdocu: this.selectdraft != null ? this.selectdraft.cabecera.contdocu : 0,\n        }\n\n        let detail: detail[] = [];\n        this.factura.items.forEach(data => {\n            detail.push({\n                tipoempaque: data.caja == undefined ? \"\" : data.caja['code'],\n                cantidadcajas: data.pieza == undefined ? \"\" : String(data.pieza),\n                tallosxbch: data.stems,\n                medidatallo: data.tamanio['code'],\n                cantidadbch: data.numtallos,\n                cantidad: data.totaltallos,\n                preciounitario: data.price,\n                total: data.subtotal,\n                farmId: data.finca['entiId'],\n                florId: data.flor['florId'] == undefined ? data.flor['flor'].florId : data.flor['florId'],\n                line: data.line\n            })\n        })\n\n\n        let invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: this.selectdraft == null ? null : this.selectdraft.idObjTmp,\n            fromTemp: this.selectdraft == null ? false : true\n        };\n\n        if (!this.editInvoice && this.idObjTmp != undefined) {            \n            invoice.idObjTmp = this.idObjTmp;\n            invoice.fromTemp = true;\n            invoice.cabecera['claveacceso'] = this.claveacceso;\n        } else if(this.editInvoice && (this.idObjTmp != undefined || invoice.idObjTmp != undefined)){\n            invoice.fromTemp = true;\n        }else{\n            invoice.fromTemp = false;\n        }\n\n        this.confirmationService.confirm({\n            message: \"Are you sure to send the invoice?\",\n            accept: async () => {\n                this.spinner.show();\n                await this.api.registerInvoice(invoice, localStorage.getItem(\"token\")).then(data => {                   \n                    this.spinner.hide();\n                    if (data.headerApp.code == 200) {\n                        this.dialogVisible = true;\n                        this.itemForm.get('stem').setValue('25');\n                        this.url = environment.url + data.data.invoice.pdf;\n                        this.inicilizate();\n                        this.getinvoicesdraft();\n                        this.invoice = null;\n                        this.facturaForm.reset();\n                        this.itemForm.reset();\n                        this.selectclient = null;\n                        this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'La factura se ha registrado correctamente' });\n                    }\n                }).catch(err => {\n                    if (err.error.code == 401) {\n                        localStorage.clear();\n                        this.router.navigate(['/login']);\n                    }\n\n                });\n            },\n        });\n    }\n\n    async getFlowerbyName(name: string): Promise<any> {\n        let flower: flower = null;\n        await this.api.getflowerbyname(name, localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                flower = data.data.flower;\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return flower;\n    }\n\n    async getFincabyName(name: string): Promise<any> {\n        let finca: finca = null;\n        await this.api.getObjectbyName('F', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                finca = data.data.farm;\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return finca;\n    }\n\n\n    /**\n     * Function the search services client, flowers, deliveries, fincas\n     */\n    async getServicios() {\n        await this.api.getclients(localStorage.getItem(\"token\")).then(cliente => {\n            this.clientes = [];\n            if (cliente.headerApp.code === 200) {\n                cliente.data.clientes.forEach(data => {\n                    if (data.cliente.estado == 'A') {\n                        this.clientes.push(data.cliente);\n                    }\n                });\n            }\n\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getfinca(localStorage.getItem(\"token\")).then(finca => {\n            this.fincas = [];\n            if (finca.headerApp.code === 200) {\n                finca.data.farms.forEach(finca => {\n                    if (finca.estado == 'A') {\n                        this.fincas.push(finca);\n                    }\n                });\n            }\n\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        await this.api.getflowers(localStorage.getItem(\"token\")).then(flor => {\n            this.flores = [];\n            if (flor.headerApp.code === 200) {\n                flor.data.flowers.forEach(flor => {\n                    if (flor.flor.estado == 'A') {\n                        this.flores.push(flor);\n                    }\n                });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n\n        await this.api.getdeliveries(localStorage.getItem(\"token\")).then(delivery => {\n            this.deliveries = [];\n            if (delivery.headerApp.code === 200) {\n                delivery.data.cargocompanies.forEach(delivery => {\n                    if (delivery.estado == 'A') {\n                        this.deliveries.push(delivery);\n                    }\n                });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n    }\n\n    calculate() {\n        this.itemForm.get('totaltallos').setValue(this.itemForm.get('stem').value * this.itemForm.get('tallos').value);\n    }\n\n    calculateEdit() {\n        this.itemFormEdit.get('totaltallos').setValue(this.itemFormEdit.get('stem').value * this.itemFormEdit.get('tallos').value);\n    }\n\n    async saveeraser() {\n        this.submittedFactura = true;\n        if (this.facturaForm.invalid) {\n            this.messageService.add({ severity: 'error', summary: 'Rosa Mstica', detail: 'Los campos para generar la factura son obligatorios.' });\n            return;\n        }\n        await this.getInvoice();\n        this.spinner.show();\n        await this.api.registerInvoiceDraft(this.invoice, localStorage.getItem(\"token\")).then(async (data) => {\n            this.spinner.hide();\n            if (data.headerApp.code == 200) {\n                await this.inicilizate();\n                await this.getinvoicesdraft();\n                this.invoice = null;\n                this.facturaForm.reset();\n                this.itemForm.reset();\n                this.selectclient = null;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'El borrador de la factura se guardo correctemante' });\n            }\n        }).catch(err => {\n\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n\n        });\n\n\n    }\n\n    facturar() {\n        this.step = 2;\n    }\n\n    async back() {\n        await this.getinvoicesdraft();\n        this.step = 1;\n        this.items = [];\n        this.selectclient = null;\n        this.facturaForm.reset();\n        this.factura.tallos = 0;\n        this.factura.total = 0;\n        this.factura.boxes = 0;\n        this.editInvoice = false;\n        this.selectdraft = null;\n    }\n\n    async viewdraft(draft: Draft) {\n        let head = {\n            codiesta: draft.cabecera.codiesta,\n            puntemis: draft.cabecera.puntemis,\n            clieId: draft.cabecera.cliente.entiId,\n            cargcompId: draft.cabecera.cargcompId,\n            marcId: draft.cabecera.marcId,\n            mawb: draft.cabecera.mawb,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: draft.cabecera.total,\n            observacion: '-',\n            numetallos: draft.cabecera.numetallos,\n            numeboxes: draft.cabecera.numeboxes,\n            estado: \"T\",\n            claveacceso: draft.cabecera.claveacceso,\n            secuencial: draft.cabecera.secuencial,\n            contdocu: draft.cabecera.contdocu,\n        }\n\n        let detail: detail[] = [];\n        draft.detalles.forEach(data => {\n            detail.push({\n                tipoempaque: data.tipoempaque == undefined ? \"\" : data.tipoempaque,\n                cantidadcajas: data.cantidadcajas == undefined ? \"\" : String(data.cantidadcajas),\n                tallosxbch: data.tallosxbch,\n                medidatallo: data.medidatallo,\n                cantidadbch: data.cantidadbch,\n                cantidad: data.cantidad,\n                preciounitario: data.preciounitario,\n                total: data.total,\n                farmId: data.farmId,\n                florId: data.florId,\n                line: data.line\n            })\n        })\n\n        let invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: draft.idObjTmp == null ? null : draft.idObjTmp\n        };\n        this.utilService.isLoading.next(true);\n        await this.api.generatePdfInvoiceDraft(invoice, localStorage.getItem('token')).then(data => {\n            if (data.headerApp.code == 200) {\n                location.href = environment.url + data.data.xls;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'El archivo se ha descargado correctamente' });\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        this.utilService.isLoading.next(false);\n    }\n\n    finish(draft: Draft) {\n    }\n\n    async edit(draft: Draft) {\n\n        this.editInvoice = true;\n        this.selectdraft = draft;\n        this.step = 2;\n        this.idFactura = draft.cabecera.secuencial;\n        this.utilService.isLoading.next(true);\n        this.facturaForm.get('cliente').setValue(draft.cabecera.cliente);\n        this.selectclient = draft.cabecera.cliente;\n        const mark = await this.getMarcbyName(draft.cabecera.cliente.entiId, draft.cabecera.mark);\n        this.facturaForm.get('marca').setValue(mark);\n        this.selectmark = mark;\n        const empresacargo = await this.getEmpresaCargabyName(draft.cabecera.cargname);\n        this.facturaForm.get('empresacargo').setValue(empresacargo);\n        this.facturaForm.get('mawba').setValue(draft.cabecera.mawb);\n\n        this.selectOptions('manual');\n        this.items = [];\n        await Promise.all(draft.detalles.map(async (item) => {\n            let tamanio = await this.tamanios.filter(tamanio => tamanio.code == item.medidatallo);\n            let caja = await this.cajas.filter(caja => caja.code == item.tipoempaque);\n            let farm = await this.getFincabyName(item.farm);\n            let flower = await this.getFlowerbyName(item.flower);\n            this.items.push({\n                caja: caja[0] == null ? '' : caja[0],\n                pieza: item.cantidadcajas,\n                finca: farm,\n                flor: flower,\n                stems: item.tallosxbch,\n                tamanio: tamanio[0],\n                numtallos: item.cantidadbch,\n                totaltallos: item.cantidad,\n                price: item.preciounitario,\n                subtotal: item.total,\n                line: item['line']\n            });\n        }))\n\n        this.items.sort(function (a, b) {\n            if (a.line > b.line) {\n                return 1;\n            }\n            if (a.line < b.line) {\n                return -1;\n            }\n            return 0;\n        });\n\n        this.line = this.items[this.items.length - 1].line;\n        this.factura.total = 0;\n        this.factura.tallos = 0;\n        this.factura.boxes = 0;\n\n        this.items.forEach((item) => {\n            this.factura.total += item.subtotal;\n            this.factura.tallos += parseInt(item.totaltallos.toString());\n            this.factura.boxes += item.pieza != null ? parseInt(item.pieza.toString()) : 0;\n        });\n\n\n        this.utilService.isLoading.next(false);\n    }\n\n\n    async viewXlsx() {\n        await this.getInvoice();\n        this.utilService.isLoading.next(true);\n        await this.api.generatePdfInvoiceDraft(this.invoice, localStorage.getItem('token')).then(data => {\n            if (data.headerApp.code == 200) {\n                location.href = environment.url + data.data.xls;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'El archivo se ha descargado correctamente' });\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n\n        this.utilService.isLoading.next(false);\n    }\n\n    async getInvoice() {\n        this.factura.items = this.items;\n        let head = {\n            codiesta: '001',\n            puntemis: '001',\n            clieId: this.facturaForm.get('cliente').value.entiId,\n            cargcompId: this.facturaForm.get('empresacargo').value.entiId,\n            marcId: this.facturaForm.get('marca').value.marcId,\n            mawb: this.facturaForm.get('mawba').value,\n            subtotal0: 0,\n            descuento: 0,\n            subtotal1: 0,\n            ice: 0.00,\n            iva: 0.00,\n            total: this.factura.total,\n            observacion: '-',\n            numetallos: this.factura.tallos,\n            numeboxes: this.factura.boxes,\n            estado: \"B\",\n            fecha: this.selectdraft == null ? null : this.selectdraft.cabecera.fecha + '.000',\n            claveacceso: this.selectdraft != null ? this.selectdraft.cabecera.claveacceso : null,\n            secuencial: this.selectdraft != null ? this.selectdraft.cabecera.secuencial : null,\n            contdocu: this.selectdraft != null ? this.selectdraft.cabecera.contdocu : 0,\n        }\n\n        let detail: detail[] = [];\n        await this.factura.items.forEach(async (data) => {\n            await detail.push({\n                tipoempaque: data.caja == undefined ? \"\" : data.caja['code'],\n                cantidadcajas: data.pieza == undefined ? \"\" : String(data.pieza),\n                tallosxbch: data.stems,\n                medidatallo: data.tamanio['code'],\n                cantidadbch: data.numtallos,\n                cantidad: data.totaltallos,\n                preciounitario: data.price,\n                total: data.subtotal,\n                farmId: data.finca['entiId'],\n                florId: data.flor['florId'] == undefined ? data.flor['flor'].florId : data.flor['florId'],\n                line: data.line\n            })\n        })\n        this.invoice = {\n            cabecera: head,\n            detalles: detail,\n            idObjTmp: this.selectdraft == null ? null : this.selectdraft.idObjTmp\n        };\n\n\n    }\n\n    async continue() {\n        await this.getInvoice();\n        if (!this.editInvoice && this.idObjTmp != \"\") {\n            this.invoice.idObjTmp = this.idObjTmp;\n        }\n        if (!this.editInvoice && this.claveacceso != \"\") {\n            this.invoice.cabecera['claveacceso'] = this.claveacceso;\n        }    \n        this.spinner.show();\n        await this.api.registerInvoiceDraft(this.invoice, localStorage.getItem(\"token\")).then(async (data) => {           \n            this.spinner.hide();            \n            if (data.headerApp.code == 200) {\n                await this.getinvoicesdraft();\n                this.step = 2;\n                this.idObjTmp = data.data.invoice.idObjTmp;\n                this.claveacceso = data.data.invoice.claveacceso;\n                this.messageService.add({ severity: 'success', summary: 'Rosa Mstica', detail: 'Se guardo el borrador para seguir editando' });\n            }\n        }).catch(err => {            \n            this.spinner.hide();\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        });\n\n    }\n\n    async getMarcbyName(entiId: number, name: string): Promise<any> {\n        let marc: mark = null;\n        await this.api.getMarcbyName(entiId, name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                marc = data.data.mark;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return marc;\n    }\n\n    async getEmpresaCargabyName(name: string): Promise<any> {\n        let delivery: delivery = null;\n        await this.api.getObjectbyName('Z', name.toUpperCase(), localStorage.getItem(\"token\")).then(data => {\n            if (data.headerApp.code == 200) {\n                delivery = data.data.cargocompanie;\n            }\n        }).catch(err => {\n            if (err.error.code == 401) {\n                localStorage.clear();\n                this.router.navigate(['/login']);\n            }\n        })\n        return delivery;\n    }\n\n    get f() {\n        return this.itemForm.controls;\n    }\n    get fr() {\n        return this.facturaForm.controls;\n    }\n\n    get fv() {\n        return this.itemFormEdit.controls;\n    }\n\n}\n","import { FacturaComponent } from './factura.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FacturaRoutingModule } from './factura-routing.module';\nimport { InputTextModule, PanelModule, AccordionModule, InputTextareaModule, RadioButtonModule, ButtonModule, AutoCompleteModule, DropdownModule, TableModule, ToolbarModule, CardModule, SplitButtonModule, SelectButtonModule, ToastModule, ConfirmDialogModule, KeyFilter, KeyFilterModule, DialogModule, TooltipModule } from 'primeng';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { SharedModule } from 'src/app/shared.module';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n    declarations: [FacturaComponent],\n    imports: [\n        CommonModule,\n        FacturaRoutingModule,\n        SharedModule,\n        InputTextModule,\n        PanelModule,\n        AccordionModule,\n        InputTextareaModule,\n        RadioButtonModule,\n        ButtonModule,\n        FormsModule,\n        AutoCompleteModule,\n        DropdownModule,\n        TableModule,\n        ToolbarModule,\n        CardModule,\n        ReactiveFormsModule,\n        SplitButtonModule,\n        SelectButtonModule,\n        ToastModule,\n        ConfirmDialogModule,\n        KeyFilterModule,\n        DialogModule,\n        NgxSpinnerModule,\n        TranslateModule,\n        TooltipModule\n    ]   \n}) \nexport class FacturaModule { }\n"]}